(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var bd={exports:{}},vl={};var b_;function fS(){if(b_)return vl;b_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var w_;function dS(){return w_||(w_=1,bd.exports=fS()),bd.exports}var z=dS(),wd={exports:{}},bt={};var R_;function mS(){if(R_)return bt;R_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),U=Symbol.iterator;function X(O){return O===null||typeof O!="object"?null:(O=U&&O[U]||O["@@iterator"],typeof O=="function"?O:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,et={};function gt(O,K,it){this.props=O,this.context=K,this.refs=et,this.updater=it||nt}gt.prototype.isReactComponent={},gt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},gt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function At(){}At.prototype=gt.prototype;function Et(O,K,it){this.props=O,this.context=K,this.refs=et,this.updater=it||nt}var te=Et.prototype=new At;te.constructor=Et,st(te,gt.prototype),te.isPureReactComponent=!0;var de=Array.isArray;function Bt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(O,K,it){var at=it.ref;return{$$typeof:r,type:O,key:K,ref:at!==void 0?at:null,props:it}}function x(O,K){return C(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var b=/\/+/g;function Z(O,K){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):K.toString(36)}function Ot(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Bt,Bt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,it,at,_t){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var B=!1;if(O===null)B=!0;else switch(Rt){case"bigint":case"string":case"number":B=!0;break;case"object":switch(O.$$typeof){case r:case t:B=!0;break;case S:return B=O._init,F(B(O._payload),K,it,at,_t)}}if(B)return _t=_t(O),B=at===""?"."+Z(O,0):at,de(_t)?(it="",B!=null&&(it=B.replace(b,"$&/")+"/"),F(_t,K,it,"",function(pt){return pt})):_t!=null&&(N(_t)&&(_t=x(_t,it+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(b,"$&/")+"/")+B)),K.push(_t)),1;B=0;var rt=at===""?".":at+":";if(de(O))for(var ft=0;ft<O.length;ft++)at=O[ft],Rt=rt+Z(at,ft),B+=F(at,K,it,Rt,_t);else if(ft=X(O),typeof ft=="function")for(O=ft.call(O),ft=0;!(at=O.next()).done;)at=at.value,Rt=rt+Z(at,ft++),B+=F(at,K,it,Rt,_t);else if(Rt==="object"){if(typeof O.then=="function")return F(Ot(O),K,it,at,_t);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return B}function W(O,K,it){if(O==null)return O;var at=[],_t=0;return F(O,at,"","",function(Rt){return K.call(it,Rt,_t++)}),at}function ht(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var zt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:W,forEach:function(O,K,it){W(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return W(O,function(){K++}),K},toArray:function(O){return W(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return bt.Activity=w,bt.Children=Gt,bt.Component=gt,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=Et,bt.StrictMode=a,bt.Suspense=v,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,bt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},bt.cache=function(O){return function(){return O.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=st({},O.props),_t=O.key;if(K!=null)for(Rt in K.key!==void 0&&(_t=""+K.key),K)!A.call(K,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&K.ref===void 0||(at[Rt]=K[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=it;else if(1<Rt){for(var B=Array(Rt),rt=0;rt<Rt;rt++)B[rt]=arguments[rt+2];at.children=B}return C(O.type,_t,at)},bt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},bt.createElement=function(O,K,it){var at,_t={},Rt=null;if(K!=null)for(at in K.key!==void 0&&(Rt=""+K.key),K)A.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=K[at]);var B=arguments.length-2;if(B===1)_t.children=it;else if(1<B){for(var rt=Array(B),ft=0;ft<B;ft++)rt[ft]=arguments[ft+2];_t.children=rt}if(O&&O.defaultProps)for(at in B=O.defaultProps,B)_t[at]===void 0&&(_t[at]=B[at]);return C(O,Rt,_t)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(O){return{$$typeof:p,render:O}},bt.isValidElement=N,bt.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ht}},bt.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},bt.startTransition=function(O){var K=I.T,it={};I.T=it;try{var at=O(),_t=I.S;_t!==null&&_t(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Bt,zt)}catch(Rt){zt(Rt)}finally{K!==null&&it.types!==null&&(K.types=it.types),I.T=K}},bt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},bt.use=function(O){return I.H.use(O)},bt.useActionState=function(O,K,it){return I.H.useActionState(O,K,it)},bt.useCallback=function(O,K){return I.H.useCallback(O,K)},bt.useContext=function(O){return I.H.useContext(O)},bt.useDebugValue=function(){},bt.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},bt.useEffect=function(O,K){return I.H.useEffect(O,K)},bt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},bt.useId=function(){return I.H.useId()},bt.useImperativeHandle=function(O,K,it){return I.H.useImperativeHandle(O,K,it)},bt.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},bt.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},bt.useMemo=function(O,K){return I.H.useMemo(O,K)},bt.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},bt.useReducer=function(O,K,it){return I.H.useReducer(O,K,it)},bt.useRef=function(O){return I.H.useRef(O)},bt.useState=function(O){return I.H.useState(O)},bt.useSyncExternalStore=function(O,K,it){return I.H.useSyncExternalStore(O,K,it)},bt.useTransition=function(){return I.H.useTransition()},bt.version="19.2.3",bt}var C_;function ym(){return C_||(C_=1,wd.exports=mS()),wd.exports}var Wt=ym(),Rd={exports:{}},El={},Cd={exports:{}},Id={};var I_;function gS(){return I_||(I_=1,(function(r){function t(F,W){var ht=F.length;F.push(W);t:for(;0<ht;){var zt=ht-1>>>1,Gt=F[zt];if(0<l(Gt,W))F[zt]=W,F[ht]=Gt,ht=zt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var W=F[0],ht=F.pop();if(ht!==W){F[0]=ht;t:for(var zt=0,Gt=F.length,O=Gt>>>1;zt<O;){var K=2*(zt+1)-1,it=F[K],at=K+1,_t=F[at];if(0>l(it,ht))at<Gt&&0>l(_t,it)?(F[zt]=_t,F[at]=ht,zt=at):(F[zt]=it,F[K]=ht,zt=K);else if(at<Gt&&0>l(_t,ht))F[zt]=_t,F[at]=ht,zt=at;else break t}}return W}function l(F,W){var ht=F.sortIndex-W.sortIndex;return ht!==0?ht:F.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],_=[],S=1,w=null,U=3,X=!1,nt=!1,st=!1,et=!1,gt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;function te(F){for(var W=i(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=F)a(_),W.sortIndex=W.expirationTime,t(v,W);else break;W=i(_)}}function de(F){if(st=!1,te(F),!nt)if(i(v)!==null)nt=!0,Bt||(Bt=!0,V());else{var W=i(_);W!==null&&Ot(de,W.startTime-F)}}var Bt=!1,I=-1,A=5,C=-1;function x(){return et?!0:!(r.unstable_now()-C<A)}function N(){if(et=!1,Bt){var F=r.unstable_now();C=F;var W=!0;try{t:{nt=!1,st&&(st=!1,At(I),I=-1),X=!0;var ht=U;try{e:{for(te(F),w=i(v);w!==null&&!(w.expirationTime>F&&x());){var zt=w.callback;if(typeof zt=="function"){w.callback=null,U=w.priorityLevel;var Gt=zt(w.expirationTime<=F);if(F=r.unstable_now(),typeof Gt=="function"){w.callback=Gt,te(F),W=!0;break e}w===i(v)&&a(v),te(F)}else a(v);w=i(v)}if(w!==null)W=!0;else{var O=i(_);O!==null&&Ot(de,O.startTime-F),W=!1}}break t}finally{w=null,U=ht,X=!1}W=void 0}}finally{W?V():Bt=!1}}}var V;if(typeof Et=="function")V=function(){Et(N)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Z=b.port2;b.port1.onmessage=N,V=function(){Z.postMessage(null)}}else V=function(){gt(N,0)};function Ot(F,W){I=gt(function(){F(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return U},r.unstable_next=function(F){switch(U){case 1:case 2:case 3:var W=3;break;default:W=U}var ht=U;U=W;try{return F()}finally{U=ht}},r.unstable_requestPaint=function(){et=!0},r.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=U;U=F;try{return W()}finally{U=ht}},r.unstable_scheduleCallback=function(F,W,ht){var zt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?zt+ht:zt):ht=zt,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,F={id:S++,callback:W,priorityLevel:F,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>zt?(F.sortIndex=ht,t(_,F),i(v)===null&&F===i(_)&&(st?(At(I),I=-1):st=!0,Ot(de,ht-zt))):(F.sortIndex=Gt,t(v,F),nt||X||(nt=!0,Bt||(Bt=!0,V()))),F},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(F){var W=U;return function(){var ht=U;U=W;try{return F.apply(this,arguments)}finally{U=ht}}}})(Id)),Id}var N_;function pS(){return N_||(N_=1,Cd.exports=gS()),Cd.exports}var Nd={exports:{}},tn={};var D_;function yS(){if(D_)return tn;D_=1;var r=ym();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:v,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(v,_,null,S)},tn.flushSync=function(v){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=S,a.d.f()}},tn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},tn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},tn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin),U=typeof _.integrity=="string"?_.integrity:void 0,X=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:U,fetchPriority:X}):S==="script"&&a.d.X(v,{crossOrigin:w,integrity:U,fetchPriority:X,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},tn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},tn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=p(S,_.crossOrigin);a.d.L(v,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},tn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},tn.requestFormReset=function(v){a.d.r(v)},tn.unstable_batchedUpdates=function(v,_){return v(_)},tn.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var O_;function _S(){if(O_)return Nd.exports;O_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=yS(),Nd.exports}var x_;function vS(){if(x_)return El;x_=1;var r=pS(),t=ym(),i=_S();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,U=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),nt=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),At=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),Bt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var b=Symbol.for("react.client.reference");function Z(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case gt:return"Profiler";case et:return"StrictMode";case de:return"Suspense";case Bt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case nt:return"Portal";case Et:return e.displayName||"Context";case At:return(e._context.displayName||"Context")+".Consumer";case te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Z(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Z(e(n))}catch{}}return null}var Ot=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function O(e){return{current:e}}function K(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function it(e,n){Gt++,zt[Gt]=e.current,e.current=n}var at=O(null),_t=O(null),Rt=O(null),B=O(null);function rt(e,n){switch(it(Rt,n),it(_t,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ky(n),e=Yy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(at),it(at,e)}function ft(){K(at),K(_t),K(Rt)}function pt(e){e.memoizedState!==null&&it(B,e);var n=at.current,s=Yy(n,e.type);n!==s&&(it(_t,e),it(at,s))}function oe(e){_t.current===e&&(K(at),K(_t)),B.current===e&&(K(B),gl._currentValue=ht)}var je,ye;function Xt(e){if(je===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);je=n&&n[1]||"",ye=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+e+ye}var Ct=!1;function cn(e,n){if(!e||Ct)return"";Ct=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var j=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){j=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){j=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var G=`
`+R[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ct=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Xt(s):""}function ee(e,n){switch(e.tag){case 26:case 27:case 5:return Xt(e.type);case 16:return Xt("Lazy");case 13:return e.child!==n&&n!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return cn(e.type,!1);case 11:return cn(e.type.render,!1);case 1:return cn(e.type,!0);case 31:return Xt("Activity");default:return""}}function an(e){try{var n="",s=null;do n+=ee(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ne=Object.prototype.hasOwnProperty,_e=r.unstable_scheduleCallback,Gn=r.unstable_cancelCallback,ea=r.unstable_shouldYield,na=r.unstable_requestPaint,on=r.unstable_now,cr=r.unstable_getCurrentPriorityLevel,_o=r.unstable_ImmediatePriority,vo=r.unstable_UserBlockingPriority,hs=r.unstable_NormalPriority,Rh=r.unstable_LowPriority,Jl=r.unstable_IdlePriority,Zl=r.log,$l=r.unstable_setDisableYieldValue,Qn=null,Ge=null;function Dn(e){if(typeof Zl=="function"&&$l(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Qn,e)}catch{}}var Te=Math.clz32?Math.clz32:tu,Wl=Math.log,ia=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/ia|0)|0}var ui=256,hr=262144,Re=4194304;function ci(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function hi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ci(o):(g&=E,g!==0?h=ci(g):s||(s=E&~e,s!==0&&(h=ci(s))))):(E=o&~f,E!==0?h=ci(E):g!==0?h=ci(g):s||(s=o&~e,s!==0&&(h=ci(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ch(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),e}function fi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function fr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ih(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-Te(s),Y=1<<G;E[G]=0,R[G]=-1;var j=P[G];if(j!==null)for(P[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}s&=~Y}o!==0&&dr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function dr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Te(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Eo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Te(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function To(e,n){var s=n&-n;return s=(s&42)!==0?1:mr(s),(s&(e.suspendedLanes|n))!==0?0:s}function mr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:y_(e.type))}function Yn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var Xn=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Xn,Be="__reactProps$"+Xn,di="__reactContainer$"+Xn,sa="__reactEvents$"+Xn,Nh="__reactListeners$"+Xn,iu="__reactHandles$"+Xn,su="__reactResources$"+Xn,mi="__reactMarker$"+Xn;function ra(e){delete e[Ce],delete e[Be],delete e[sa],delete e[Nh],delete e[iu]}function gi(e){var n=e[Ce];if(n)return n;for(var s=e.parentNode;s;){if(n=s[di]||s[Ce]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=e_(e);e!==null;){if(s=e[Ce])return s;e=e_(e)}return n}e=s,s=e.parentNode}return null}function On(e){if(e=e[Ce]||e[di]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function En(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pi(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[mi]=!0}var So=new Set,Ao={};function yi(e,n){_i(e,n),_i(e+"Capture",n)}function _i(e,n){for(Ao[e]=n,e=0;e<n.length;e++)So.add(n[e])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function ru(e){return ne.call(Ro,e)?!0:ne.call(wo,e)?!1:bo.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function aa(e,n,s){if(ru(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Tn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ne(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=fs(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function gr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=fs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pr=/[\n"\\]/g;function hn(e){return e.replace(pr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Io(e,g,qe(n)):s!=null?Io(e,g,qe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+qe(E):e.removeAttribute("name")}function au(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}s=s!=null?""+qe(s):"",n=n!=null?""+qe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Jt(e)}function Io(e,n,s){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ds(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+qe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,s){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qe(s):""}function ms(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ot(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=qe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Jt(e)}function fn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Do(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function la(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ua(e){return gs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var Oo=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,Ei=null;function yr(e){var n=On(e);if(n&&(e=n.stateNode)){var s=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Be]||null;if(!h)throw Error(a(90));oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&gr(o)}break t;case"textarea":ou(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ds(e,!!s.multiple,n,!1)}}}var ca=!1;function ys(e,n,s){if(ca)return e(n,s);ca=!0;try{var o=e(n);return o}finally{if(ca=!1,(ps!==null||Ei!==null)&&(nc(),ps&&(n=ps,e=Ei,Ei=ps=null,yr(n),e)))for(n=0;n<e.length;n++)yr(e[n])}}function Zn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Be]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(Vn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){_r=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{_r=!1}var Ti=null,xo=null,vr=null;function Vo(){if(vr)return vr;var e,n=xo,s=n.length,o,h="value"in Ti?Ti.value:Ti.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return vr=h.slice(e,1<o?1-o:void 0)}function Er(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function $n(){return!1}function Qe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:$n,this.isPropagationStopped=$n,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Qe(ji),_s=w({},ji,{view:0,detail:0}),Mo=Qe(_s),vs,ha,Ai,fa=w({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(vs=e.screenX-Ai.screenX,ha=e.screenY-Ai.screenY):ha=vs=0,Ai=e),vs)},movementY:function(e){return"movementY"in e?e.movementY:ha}}),Uo=Qe(fa),Tr=w({},fa,{dataTransfer:0}),cu=Qe(Tr),hu=w({},_s,{relatedTarget:0}),Sr=Qe(hu),ko=w({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=Qe(ko),da=w({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=Qe(da),mu=w({},ji,{data:0}),bi=Qe(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function Es(){return _u}var ln=w({},_s,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=Qe(ln),Eu=w({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Qe(Eu),u=w({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),m=Qe(u),y=w({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Qe(y),k=w({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Qe(k),tt=w({},ji,{newState:0,oldState:0}),It=Qe(tt),Se=[9,13,27,32],Qt=Vn&&"CompositionEvent"in window,me=null;Vn&&"documentMode"in document&&(me=document.documentMode);var Mn=Vn&&"TextEvent"in window&&!me,wi=Vn&&(!Qt||me&&8<me&&11>=me),Wn=" ",ti=!1;function Ar(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ga=!1;function kT(e,n){switch(e){case"compositionend":return ma(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function LT(e,n){if(ga)return e==="compositionend"||!Qt&&Ar(e,n)?(e=Vo(),vr=xo=Ti=null,ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wi&&n.locale!=="ko"?null:n.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!PT[e.type]:n==="textarea"}function rg(e,n,s,o){ps?Ei?Ei.push(o):Ei=[o]:ps=o,n=uc(n,"onChange"),0<n.length&&(s=new Si("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Lo=null,Po=null;function zT(e){By(e,0)}function Tu(e){var n=En(e);if(gr(n))return e}function ag(e,n){if(e==="change")return n}var og=!1;if(Vn){var Dh;if(Vn){var Oh="oninput"in document;if(!Oh){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),Oh=typeof lg.oninput=="function"}Dh=Oh}else Dh=!1;og=Dh&&(!document.documentMode||9<document.documentMode)}function ug(){Lo&&(Lo.detachEvent("onpropertychange",cg),Po=Lo=null)}function cg(e){if(e.propertyName==="value"&&Tu(Po)){var n=[];rg(n,Po,e,xn(e)),ys(zT,n)}}function jT(e,n,s){e==="focusin"?(ug(),Lo=n,Po=s,Lo.attachEvent("onpropertychange",cg)):e==="focusout"&&ug()}function BT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Po)}function qT(e,n){if(e==="click")return Tu(n)}function HT(e,n){if(e==="input"||e==="change")return Tu(n)}function FT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:FT;function zo(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ne.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function hg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fg(e,n){var s=hg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=hg(s)}}function dg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?dg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=vi(e.document)}return n}function xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var GT=Vn&&"documentMode"in document&&11>=document.documentMode,pa=null,Vh=null,jo=null,Mh=!1;function gg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Mh||pa==null||pa!==vi(o)||(o=pa,"selectionStart"in o&&xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&zo(jo,o)||(jo=o,o=uc(Vh,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=pa)))}function br(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ya={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Uh={},pg={};Vn&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function wr(e){if(Uh[e])return Uh[e];if(!ya[e])return e;var n=ya[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in pg)return Uh[e]=n[s];return e}var yg=wr("animationend"),_g=wr("animationiteration"),vg=wr("animationstart"),QT=wr("transitionrun"),KT=wr("transitionstart"),YT=wr("transitioncancel"),Eg=wr("transitionend"),Tg=new Map,kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kh.push("scrollEnd");function ei(e,n){Tg.set(e,n),yi(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Un=[],_a=0,Lh=0;function Au(){for(var e=_a,n=Lh=_a=0;n<e;){var s=Un[n];Un[n++]=null;var o=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Sg(s,h,f)}}function bu(e,n,s,o){Un[_a++]=e,Un[_a++]=n,Un[_a++]=s,Un[_a++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ph(e,n,s,o){return bu(e,n,s,o),wu(e)}function Rr(e,n){return bu(e,null,null,n),wu(e)}function Sg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Te(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<ll)throw ll=0,Yf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function XT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,n,s,o){return new XT(e,n,s,o)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var s=e.alternate;return s===null?(s=An(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ag(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")zh(e)&&(g=1);else if(typeof e=="string")g=tS(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=An(31,s,n,h),e.elementType=C,e.lanes=f,e;case st:return Cr(s.children,h,f,n);case et:g=8,h|=24;break;case gt:return e=An(12,s,n,h|2),e.elementType=gt,e.lanes=f,e;case de:return e=An(13,s,n,h),e.elementType=de,e.lanes=f,e;case Bt:return e=An(19,s,n,h),e.elementType=Bt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:g=10;break t;case At:g=9;break t;case te:g=11;break t;case I:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=An(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Cr(e,n,s,o){return e=An(7,e,o,n),e.lanes=s,e}function jh(e,n,s){return e=An(6,e,null,n),e.lanes=s,e}function bg(e){var n=An(18,null,null,0);return n.stateNode=e,n}function Bh(e,n,s){return n=An(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var wg=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var s=wg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:an(n)},wg.set(e,n),n)}return{value:e,source:n,stack:an(n)}}var Ea=[],Ta=0,Cu=null,Bo=0,Ln=[],Pn=0,Ts=null,Ri=1,Ci="";function Hi(e,n){Ea[Ta++]=Bo,Ea[Ta++]=Cu,Cu=e,Bo=n}function Rg(e,n,s){Ln[Pn++]=Ri,Ln[Pn++]=Ci,Ln[Pn++]=Ts,Ts=e;var o=Ri;e=Ci;var h=32-Te(o)-1;o&=~(1<<h),s+=1;var f=32-Te(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ri=1<<32-Te(n)+h|s<<h|o,Ci=f+e}else Ri=1<<f|s<<h|o,Ci=e}function qh(e){e.return!==null&&(Hi(e,1),Rg(e,1,0))}function Hh(e){for(;e===Cu;)Cu=Ea[--Ta],Ea[Ta]=null,Bo=Ea[--Ta],Ea[Ta]=null;for(;e===Ts;)Ts=Ln[--Pn],Ln[Pn]=null,Ci=Ln[--Pn],Ln[Pn]=null,Ri=Ln[--Pn],Ln[Pn]=null}function Cg(e,n){Ln[Pn++]=Ri,Ln[Pn++]=Ci,Ln[Pn++]=Ts,Ri=n.id,Ci=n.overflow,Ts=e}var Ke=null,ue=null,jt=!1,Ss=null,zn=!1,Fh=Error(a(519));function As(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(kn(n,e)),Fh}function Ig(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ce]=e,n[Be]=o,s){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<cl.length;s++)Vt(cl[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),ms(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Gy(n.textContent,s)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||As(e,!0)}function Ng(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ke=Ke.return}}function Sa(e){if(e!==Ke)return!1;if(!jt)return Ng(e),jt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||ud(e.type,e.memoizedProps)),s=!s),s&&ue&&As(e),Ng(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=t_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ue=t_(e)}else n===27?(n=ue,Ls(e.type)?(e=md,md=null,ue=e):ue=n):ue=Ke?Bn(e.stateNode.nextSibling):null;return!0}function Ir(){ue=Ke=null,jt=!1}function Gh(){var e=Ss;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ss=null),e}function qo(e){Ss===null?Ss=[e]:Ss.push(e)}var Qh=O(null),Nr=null,Fi=null;function bs(e,n,s){it(Qh,n._currentValue),n._currentValue=s}function Gi(e){e._currentValue=Qh.current,K(Qh)}function Kh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Yh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Kh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Kh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Aa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Sn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===B.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&Yh(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){Nr=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Dg(Nr,e)}function Nu(e,n){return Nr===null&&Dr(e),Dg(e,n)}function Dg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Fi===null){if(e===null)throw Error(a(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return s}var JT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},ZT=r.unstable_scheduleCallback,$T=r.unstable_NormalPriority,De={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new JT,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&ZT($T,function(){e.controller.abort()})}var Fo=null,Jh=0,ba=0,wa=null;function WT(e,n){if(Fo===null){var s=Fo=[];Jh=0,ba=td(),wa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Jh++,n.then(Og,Og),n}function Og(){if(--Jh===0&&Fo!==null){wa!==null&&(wa.status="fulfilled");var e=Fo;Fo=null,ba=0,wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function t1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var xg=F.S;F.S=function(e,n){gy=on(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WT(e,n),xg!==null&&xg(e,n)};var Or=O(null);function Zh(){var e=Or.current;return e!==null?e:le.pooledCache}function Du(e,n){n===null?it(Or,Or.current):it(Or,n.pool)}function Vg(){var e=Zh();return e===null?null:{parent:De._currentValue,pool:e}}var Ra=Error(a(460)),$h=Error(a(474)),Ou=Error(a(542)),xu={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ug(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Jn,Jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lg(e),e}throw Vr=n,Ra}}function xr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vr=s,Ra):s}}var Vr=null;function kg(){if(Vr===null)throw Error(a(459));var e=Vr;return Vr=null,e}function Lg(e){if(e===Ra||e===Ou)throw Error(a(483))}var Ca=null,Go=0;function Vu(e){var n=Go;return Go+=1,Ca===null&&(Ca=[]),Ug(Ca,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===U?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Pg(e){function n(M,D){if(e){var L=M.deletions;L===null?(M.deletions=[D],M.flags|=16):L.push(D)}}function s(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=qi(M,D),M.index=0,M.sibling=null,M}function f(M,D,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<D?(M.flags|=67108866,D):L):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,L,Q){return D===null||D.tag!==6?(D=jh(L,M.mode,Q),D.return=M,D):(D=h(D,L),D.return=M,D)}function R(M,D,L,Q){var dt=L.type;return dt===st?G(M,D,L.props.children,Q,L.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&xr(dt)===D.type)?(D=h(D,L.props),Qo(D,L),D.return=M,D):(D=Ru(L.type,L.key,L.props,null,M.mode,Q),Qo(D,L),D.return=M,D)}function P(M,D,L,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Bh(L,M.mode,Q),D.return=M,D):(D=h(D,L.children||[]),D.return=M,D)}function G(M,D,L,Q,dt){return D===null||D.tag!==7?(D=Cr(L,M.mode,Q,dt),D.return=M,D):(D=h(D,L),D.return=M,D)}function Y(M,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=jh(""+D,M.mode,L),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case X:return L=Ru(D.type,D.key,D.props,null,M.mode,L),Qo(L,D),L.return=M,L;case nt:return D=Bh(D,M.mode,L),D.return=M,D;case A:return D=xr(D),Y(M,D,L)}if(Ot(D)||V(D))return D=Cr(D,M.mode,L,null),D.return=M,D;if(typeof D.then=="function")return Y(M,Vu(D),L);if(D.$$typeof===Et)return Y(M,Nu(M,D),L);Mu(M,D)}return null}function j(M,D,L,Q){var dt=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return dt!==null?null:E(M,D,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case X:return L.key===dt?R(M,D,L,Q):null;case nt:return L.key===dt?P(M,D,L,Q):null;case A:return L=xr(L),j(M,D,L,Q)}if(Ot(L)||V(L))return dt!==null?null:G(M,D,L,Q,null);if(typeof L.then=="function")return j(M,D,Vu(L),Q);if(L.$$typeof===Et)return j(M,D,Nu(M,L),Q);Mu(M,L)}return null}function H(M,D,L,Q,dt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(L)||null,E(D,M,""+Q,dt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case X:return M=M.get(Q.key===null?L:Q.key)||null,R(D,M,Q,dt);case nt:return M=M.get(Q.key===null?L:Q.key)||null,P(D,M,Q,dt);case A:return Q=xr(Q),H(M,D,L,Q,dt)}if(Ot(Q)||V(Q))return M=M.get(L)||null,G(D,M,Q,dt,null);if(typeof Q.then=="function")return H(M,D,L,Vu(Q),dt);if(Q.$$typeof===Et)return H(M,D,L,Nu(D,Q),dt);Mu(D,Q)}return null}function lt(M,D,L,Q){for(var dt=null,Ht=null,ut=D,Dt=D=0,Ut=null;ut!==null&&Dt<L.length;Dt++){ut.index>Dt?(Ut=ut,ut=null):Ut=ut.sibling;var Ft=j(M,ut,L[Dt],Q);if(Ft===null){ut===null&&(ut=Ut);break}e&&ut&&Ft.alternate===null&&n(M,ut),D=f(Ft,D,Dt),Ht===null?dt=Ft:Ht.sibling=Ft,Ht=Ft,ut=Ut}if(Dt===L.length)return s(M,ut),jt&&Hi(M,Dt),dt;if(ut===null){for(;Dt<L.length;Dt++)ut=Y(M,L[Dt],Q),ut!==null&&(D=f(ut,D,Dt),Ht===null?dt=ut:Ht.sibling=ut,Ht=ut);return jt&&Hi(M,Dt),dt}for(ut=o(ut);Dt<L.length;Dt++)Ut=H(ut,M,Dt,L[Dt],Q),Ut!==null&&(e&&Ut.alternate!==null&&ut.delete(Ut.key===null?Dt:Ut.key),D=f(Ut,D,Dt),Ht===null?dt=Ut:Ht.sibling=Ut,Ht=Ut);return e&&ut.forEach(function(qs){return n(M,qs)}),jt&&Hi(M,Dt),dt}function yt(M,D,L,Q){if(L==null)throw Error(a(151));for(var dt=null,Ht=null,ut=D,Dt=D=0,Ut=null,Ft=L.next();ut!==null&&!Ft.done;Dt++,Ft=L.next()){ut.index>Dt?(Ut=ut,ut=null):Ut=ut.sibling;var qs=j(M,ut,Ft.value,Q);if(qs===null){ut===null&&(ut=Ut);break}e&&ut&&qs.alternate===null&&n(M,ut),D=f(qs,D,Dt),Ht===null?dt=qs:Ht.sibling=qs,Ht=qs,ut=Ut}if(Ft.done)return s(M,ut),jt&&Hi(M,Dt),dt;if(ut===null){for(;!Ft.done;Dt++,Ft=L.next())Ft=Y(M,Ft.value,Q),Ft!==null&&(D=f(Ft,D,Dt),Ht===null?dt=Ft:Ht.sibling=Ft,Ht=Ft);return jt&&Hi(M,Dt),dt}for(ut=o(ut);!Ft.done;Dt++,Ft=L.next())Ft=H(ut,M,Dt,Ft.value,Q),Ft!==null&&(e&&Ft.alternate!==null&&ut.delete(Ft.key===null?Dt:Ft.key),D=f(Ft,D,Dt),Ht===null?dt=Ft:Ht.sibling=Ft,Ht=Ft);return e&&ut.forEach(function(hS){return n(M,hS)}),jt&&Hi(M,Dt),dt}function ae(M,D,L,Q){if(typeof L=="object"&&L!==null&&L.type===st&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case X:t:{for(var dt=L.key;D!==null;){if(D.key===dt){if(dt=L.type,dt===st){if(D.tag===7){s(M,D.sibling),Q=h(D,L.props.children),Q.return=M,M=Q;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&xr(dt)===D.type){s(M,D.sibling),Q=h(D,L.props),Qo(Q,L),Q.return=M,M=Q;break t}s(M,D);break}else n(M,D);D=D.sibling}L.type===st?(Q=Cr(L.props.children,M.mode,Q,L.key),Q.return=M,M=Q):(Q=Ru(L.type,L.key,L.props,null,M.mode,Q),Qo(Q,L),Q.return=M,M=Q)}return g(M);case nt:t:{for(dt=L.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(M,D.sibling),Q=h(D,L.children||[]),Q.return=M,M=Q;break t}else{s(M,D);break}else n(M,D);D=D.sibling}Q=Bh(L,M.mode,Q),Q.return=M,M=Q}return g(M);case A:return L=xr(L),ae(M,D,L,Q)}if(Ot(L))return lt(M,D,L,Q);if(V(L)){if(dt=V(L),typeof dt!="function")throw Error(a(150));return L=dt.call(L),yt(M,D,L,Q)}if(typeof L.then=="function")return ae(M,D,Vu(L),Q);if(L.$$typeof===Et)return ae(M,D,Nu(M,L),Q);Mu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(M,D.sibling),Q=h(D,L),Q.return=M,M=Q):(s(M,D),Q=jh(L,M.mode,Q),Q.return=M,M=Q),g(M)):s(M,D)}return function(M,D,L,Q){try{Go=0;var dt=ae(M,D,L,Q);return Ca=null,dt}catch(ut){if(ut===Ra||ut===Ou)throw ut;var Ht=An(29,ut,null,M.mode);return Ht.lanes=Q,Ht.return=M,Ht}}}var Mr=Pg(!0),zg=Pg(!1),ws=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Kt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Sg(e,null,s),n}return bu(e,o,n,s),wu(e)}function Ko(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}function ef(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var nf=!1;function Yo(){if(nf){var e=wa;if(e!==null)throw e}}function Xo(e,n,s,o){nf=!1;var h=e.updateQueue;ws=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,G=P=R=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Mt&j)===j:(o&j)===j){j!==0&&j===ba&&(nf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,yt=E;j=n;var ae=s;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){Y=lt.call(ae,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,j=typeof lt=="function"?lt.call(ae,Y,j):lt,j==null)break t;Y=w({},Y,j);break t;case 2:ws=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=H,R=Y):G=G.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),xs|=g,e.lanes=g,e.memoizedState=Y}}function jg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Bg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)jg(s[e],n)}var Ia=O(null),Uu=O(0);function qg(e,n){e=ts,it(Uu,e),it(Ia,n),ts=e|n.baseLanes}function sf(){it(Uu,ts),it(Ia,Ia.current)}function rf(){ts=Uu.current,K(Ia),K(Uu)}var bn=O(null),jn=null;function Is(e){var n=e.alternate;it(Ae,Ae.current&1),it(bn,e),jn===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(jn=e)}function af(e){it(Ae,Ae.current),it(bn,e),jn===null&&(jn=e)}function Hg(e){e.tag===22?(it(Ae,Ae.current),it(bn,e),jn===null&&(jn=e)):Ns()}function Ns(){it(Ae,Ae.current),it(bn,bn.current)}function wn(e){K(bn),jn===e&&(jn=null),K(Ae)}var Ae=O(0);function ku(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||fd(s)||dd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,Nt=null,se=null,Oe=null,Lu=!1,Na=!1,Ur=!1,Pu=0,Jo=0,Da=null,e1=0;function ve(){throw Error(a(321))}function of(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Sn(e[s],n[s]))return!1;return!0}function lf(e,n,s,o,h,f){return Qi=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Rp:Af,Ur=!1,f=s(o,h),Ur=!1,Na&&(f=Gg(n,s,o,h)),Fg(e),f}function Fg(e){F.H=Wo;var n=se!==null&&se.next!==null;if(Qi=0,Oe=se=Nt=null,Lu=!1,Jo=0,Da=null,n)throw Error(a(300));e===null||xe||(e=e.dependencies,e!==null&&Iu(e)&&(xe=!0))}function Gg(e,n,s,o){Nt=e;var h=0;do{if(Na&&(Da=null),Jo=0,Na=!1,25<=h)throw Error(a(301));if(h+=1,Oe=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Cp,f=n(s,o)}while(Na);return f}function n1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(Nt.flags|=1024),n}function uf(){var e=Pu!==0;return Pu=0,e}function cf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function hf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Qi=0,Oe=se=Nt=null,Na=!1,Jo=Pu=0,Da=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Nt.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function be(){if(se===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=Oe===null?Nt.memoizedState:Oe.next;if(n!==null)Oe=n,se=e;else{if(e===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Oe===null?Nt.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=Jo;return Jo+=1,Da===null&&(Da=[]),e=Ug(Da,e,n),n=Nt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Rp:Af),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===Et)return Ye(e)}throw Error(a(438,String(e)))}function ff(e){var n=null,s=Nt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),Nt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function Ki(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=be();return df(n,se,e)}function df(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Mt&Y)===Y:(Qi&Y)===Y){var j=P.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===ba&&(G=!0);else if((Qi&j)===j){P=P.next,j===ba&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,Nt.lanes|=j,xs|=j;Y=P.action,Ur&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else j={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,Nt.lanes|=Y,xs|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!Sn(f,e.memoizedState)&&(xe=!0,G&&(s=wa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var n=be(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Sn(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Qg(e,n,s){var o=Nt,h=be(),f=jt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Sn((se||h).memoizedState,s);if(g&&(h.memoizedState=s,xe=!0),h=h.queue,yf(Xg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Oe!==null&&Oe.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},Yg.bind(null,o,h,s,n),null),le===null)throw Error(a(349));f||(Qi&127)!==0||Kg(o,n,s)}return s}function Kg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Nt.updateQueue,n===null?(n=zu(),Nt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Yg(e,n,s,o){n.value=s,n.getSnapshot=o,Jg(n)&&Zg(e)}function Xg(e,n,s){return s(function(){Jg(n)&&Zg(e)})}function Jg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Sn(e,s)}catch{return!0}}function Zg(e){var n=Rr(e,2);n!==null&&yn(n,e,2)}function gf(e){var n=un();if(typeof e=="function"){var s=e;if(e=s(),Ur){Dn(!0);try{s()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function $g(e,n,s,o){return e.baseState=s,df(e,se,typeof o=="function"?o:Ki)}function i1(e,n,s,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Wg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Wg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=s(h,o),R=F.S;R!==null&&R(g,E),tp(e,n,E)}catch(P){pf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),tp(e,n,f)}catch(P){pf(e,n,P)}}function tp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ep(e,n,o)},function(o){return pf(e,n,o)}):ep(e,n,s)}function ep(e,n,s){n.status="fulfilled",n.value=s,np(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Wg(e,s)))}function pf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,np(n),n=n.next;while(n!==o)}e.action=null}function np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ip(e,n){return n}function sp(e,n){if(jt){var s=le.formState;if(s!==null){t:{var o=Nt;if(jt){if(ue){e:{for(var h=ue,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=Bn(h.nextSibling),o=h.data==="F!";break t}}As(o)}o=!1}o&&(n=s[0])}}return s=un(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:n},s.queue=o,s=Ap.bind(null,Nt,o),o.dispatch=s,o=gf(!1),f=Sf.bind(null,Nt,!1,o.queue),o=un(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=i1.bind(null,Nt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function rp(e){var n=be();return ap(n,se,e)}function ap(e,n,s){if(n=df(e,n,ip)[0],e=Bu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(g){throw g===Ra?Ou:g}else o=n;n=be();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Nt.flags|=2048,Oa(9,{destroy:void 0},s1.bind(null,h,s),null)),[o,f,e]}function s1(e,n){e.action=n}function op(e){var n=be(),s=se;if(s!==null)return ap(n,s,e);be(),n=n.memoizedState,s=be();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Oa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=zu(),Nt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function lp(){return be().memoizedState}function qu(e,n,s,o){var h=un();Nt.flags|=e,h.memoizedState=Oa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Hu(e,n,s,o){var h=be();o=o===void 0?null:o;var f=h.memoizedState.inst;se!==null&&o!==null&&of(o,se.memoizedState.deps)?h.memoizedState=Oa(n,f,s,o):(Nt.flags|=e,h.memoizedState=Oa(1|n,f,s,o))}function up(e,n){qu(8390656,8,e,n)}function yf(e,n){Hu(2048,8,e,n)}function r1(e){Nt.flags|=4;var n=Nt.updateQueue;if(n===null)n=zu(),Nt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function cp(e){var n=be().memoizedState;return r1({ref:n,nextImpl:e}),function(){if((Kt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function hp(e,n){return Hu(4,2,e,n)}function fp(e,n){return Hu(4,4,e,n)}function dp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mp(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,dp.bind(null,n,e),s)}function _f(){}function gp(e,n){var s=be();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&of(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function pp(e,n){var s=be();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&of(n,o[1]))return o[0];if(o=e(),Ur){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o}function vf(e,n,s){return s===void 0||(Qi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=yy(),Nt.lanes|=e,xs|=e,s)}function yp(e,n,s,o){return Sn(s,n)?s:Ia.current!==null?(e=vf(e,s,o),Sn(e,n)||(xe=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Mt&261930)===0?(xe=!0,e.memoizedState=s):(e=yy(),Nt.lanes|=e,xs|=e,n)}function _p(e,n,s,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Sf(e,!1,n,s);try{var R=h(),P=F.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=t1(R,o);$o(e,n,G,In(e))}else $o(e,n,o,In(e))}catch(Y){$o(e,n,{then:function(){},status:"rejected",reason:Y},In())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function a1(){}function Ef(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=vp(e).queue;_p(e,h,n,ht,s===null?a1:function(){return Ep(e),s(o)})}function vp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ep(e){var n=vp(e);n.next===null&&(n=e.alternate.memoizedState),$o(e,n.next.queue,{},In())}function Tf(){return Ye(gl)}function Tp(){return be().memoizedState}function Sp(){return be().memoizedState}function o1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();e=Rs(s);var o=Cs(n,e,s);o!==null&&(yn(o,n,s),Ko(o,n,s)),n={cache:Xh()},e.payload=n;return}n=n.return}}function l1(e,n,s){var o=In();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(e)?bp(n,s):(s=Ph(e,n,s,o),s!==null&&(yn(s,e,o),wp(s,n,o)))}function Ap(e,n,s){var o=In();$o(e,n,s,o)}function $o(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))bp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Sn(E,g))return bu(e,n,h,0),le===null&&Au(),!1}catch{}if(s=Ph(e,n,h,o),s!==null)return yn(s,e,o),wp(s,n,o),!0}return!1}function Sf(e,n,s,o){if(o={lane:2,revertLane:td(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=Ph(e,s,o,2),n!==null&&yn(n,e,2)}function Fu(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function bp(e,n){Na=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function wp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}var Wo={readContext:Ye,use:ju,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Wo.useEffectEvent=ve;var Rp={readContext:Ye,use:ju,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:up,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qu(4194308,4,dp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var s=un();n=n===void 0?null:n;var o=e();if(Ur){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=un();if(s!==void 0){var h=s(n);if(Ur){Dn(!0);try{s(n)}finally{Dn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=l1.bind(null,Nt,e),[o.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,s=Ap.bind(null,Nt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:_f,useDeferredValue:function(e,n){var s=un();return vf(s,e,n)},useTransition:function(){var e=gf(!1);return e=_p.bind(null,Nt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Nt,h=un();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),le===null)throw Error(a(349));(Mt&127)!==0||Kg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,up(Xg.bind(null,o,f,e),[e]),o.flags|=2048,Oa(9,{destroy:void 0},Yg.bind(null,o,f,s,n),null),s},useId:function(){var e=un(),n=le.identifierPrefix;if(jt){var s=Ci,o=Ri;s=(o&~(1<<32-Te(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=e1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:sp,useActionState:sp,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Sf.bind(null,Nt,!0,s),s.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return un().memoizedState=o1.bind(null,Nt)},useEffectEvent:function(e){var n=un(),s={impl:e};return n.memoizedState=s,function(){if((Kt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Af={readContext:Ye,use:ju,useCallback:gp,useContext:Ye,useEffect:yf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:Bu,useRef:lp,useState:function(){return Bu(Ki)},useDebugValue:_f,useDeferredValue:function(e,n){var s=be();return yp(s,se.memoizedState,e,n)},useTransition:function(){var e=Bu(Ki)[0],n=be().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:Qg,useId:Tp,useHostTransitionStatus:Tf,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var s=be();return $g(s,se,e,n)},useMemoCache:ff,useCacheRefresh:Sp};Af.useEffectEvent=cp;var Cp={readContext:Ye,use:ju,useCallback:gp,useContext:Ye,useEffect:yf,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:mf,useRef:lp,useState:function(){return mf(Ki)},useDebugValue:_f,useDeferredValue:function(e,n){var s=be();return se===null?vf(s,e,n):yp(s,se.memoizedState,e,n)},useTransition:function(){var e=mf(Ki)[0],n=be().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:Qg,useId:Tp,useHostTransitionStatus:Tf,useFormState:op,useActionState:op,useOptimistic:function(e,n){var s=be();return se!==null?$g(s,se,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Sp};Cp.useEffectEvent=cp;function bf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=In(),h=Rs(o);h.payload=n,s!=null&&(h.callback=s),n=Cs(e,h,o),n!==null&&(yn(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=In(),h=Rs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Cs(e,h,o),n!==null&&(yn(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=In(),o=Rs(s);o.tag=2,n!=null&&(o.callback=n),n=Cs(e,o,s),n!==null&&(yn(n,e,s),Ko(n,e,s))}};function Ip(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(s,o)||!zo(h,f):!0}function Np(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function kr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Dp(e){Su(e)}function Op(e){console.error(e)}function xp(e){Su(e)}function Gu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Vp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rf(e,n,s){return s=Rs(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(e,n)},s}function Mp(e){return e=Rs(e),e.tag=3,e}function Up(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Vp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Vp(n,s,o),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function u1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Aa(n,s,h,!0),s=bn.current,s!==null){switch(s.tag){case 31:case 13:return jn===null?ic():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===xu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Zf(e,o,h)),!1;case 22:return s.flags|=65536,o===xu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Zf(e,o,h)),!1}throw Error(a(435,s.tag))}return Zf(e,o,h),ic(),!1}if(jt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Fh&&(e=Error(a(422),{cause:o}),qo(kn(e,s)))):(o!==Fh&&(n=Error(a(423),{cause:o}),qo(kn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=kn(o,s),h=Rf(e.stateNode,o,h),ef(e,h),Ee!==4&&(Ee=2)),!1;var f=Error(a(520),{cause:o});if(f=kn(f,s),ol===null?ol=[f]:ol.push(f),Ee!==4&&(Ee=2),n===null)return!0;o=kn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Rf(s.stateNode,o,e),ef(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Mp(h),Up(h,e,s,o),ef(s,h),!1}s=s.return}while(s!==null);return!1}var Cf=Error(a(461)),xe=!1;function Xe(e,n,s,o){n.child=e===null?zg(n,null,s,o):Mr(n,e.child,s,o)}function kp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Dr(n),o=lf(e,n,s,g,f,h),E=uf(),e!==null&&!xe?(cf(e,n,h),Yi(e,n,h)):(jt&&E&&qh(n),n.flags|=1,Xe(e,n,o,h),n.child)}function Lp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!zh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Pp(e,n,f,o,h)):(e=Ru(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:zo,s(g,o)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Pp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(xe=!1,n.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(xe=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return If(e,n,s,o,h)}function zp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return jp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?qg(n,f):sf(),Hg(n);else return o=n.lanes=536870912,jp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Du(n,f.cachePool),qg(n,f),Ns(),n.memoizedState=null):(e!==null&&Du(n,null),sf(),Ns());return Xe(e,n,h,s),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jp(e,n,s,o,h){var f=Zh();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),sf(),Hg(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Bp(e,n,s){return Mr(n,e.child,null,s),e=Qu(n,n.pendingProps),e.flags|=2,wn(n),n.memoizedState=null,e}function c1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(jt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,tl(null,e);if(af(n),(e=ue)?(e=Wy(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=bg(e),s.return=n,n.child=s,Ke=n,ue=null)):e=null,e===null)throw As(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(af(n),h)if(n.flags&256)n.flags&=-257,n=Bp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(xe||Aa(e,n,s,!1),h=(s&e.childLanes)!==0,xe||h){if(o=le,o!==null&&(g=To(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rr(e,g),yn(o,e,g),Cf;ic(),n=Bp(e,n,s)}else e=f.treeContext,ue=Bn(g.nextSibling),Ke=n,jt=!0,Ss=null,zn=!1,e!==null&&Cg(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function If(e,n,s,o,h){return Dr(n),s=lf(e,n,s,o,void 0,h),o=uf(),e!==null&&!xe?(cf(e,n,h),Yi(e,n,h)):(jt&&o&&qh(n),n.flags|=1,Xe(e,n,s,h),n.child)}function qp(e,n,s,o,h,f){return Dr(n),n.updateQueue=null,s=Gg(n,o,s,h),Fg(e),o=uf(),e!==null&&!xe?(cf(e,n,f),Yi(e,n,f)):(jt&&o&&qh(n),n.flags|=1,Xe(e,n,s,f),n.child)}function Hp(e,n,s,o,h){if(Dr(n),n.stateNode===null){var f=va,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ye(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ye(g):va,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(bf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&wf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=kr(s,E);f.props=R;var P=f.context,G=s.contextType;g=va,typeof G=="object"&&G!==null&&(g=Ye(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Np(n,f,o,g),ws=!1;var j=n.memoizedState;f.state=j,Xo(n,o,f,h),Yo(),P=n.memoizedState,E||j!==P||ws?(typeof Y=="function"&&(bf(n,s,Y,o),P=n.memoizedState),(R=ws||Ip(n,s,R,o,j,P,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,tf(e,n),g=n.memoizedProps,G=kr(s,g),f.props=G,Y=n.pendingProps,j=f.context,P=s.contextType,R=va,typeof P=="object"&&P!==null&&(R=Ye(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&Np(n,f,o,R),ws=!1,j=n.memoizedState,f.state=j,Xo(n,o,f,h),Yo();var H=n.memoizedState;g!==Y||j!==H||ws||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(bf(n,s,E,o),H=n.memoizedState),(G=ws||Ip(n,s,G,o,j,H,R)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Mr(n,e.child,null,h),n.child=Mr(n,null,s,h)):Xe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function Fp(e,n,s,o){return Ir(),n.flags|=256,Xe(e,n,s,o),n.child}var Nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(e){return{baseLanes:e,cachePool:Vg()}}function Of(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Cn),e}function Gp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?Is(n):Ns(),(e=ue)?(e=Wy(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},s=bg(e),s.return=n,n.child=s,Ke=n,ue=null)):e=null,e===null)throw As(n);return dd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ns(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=Cr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Df(s),o.childLanes=Of(e,g,s),n.memoizedState=Nf,tl(null,o)):(Is(n),xf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Is(n),n.flags&=-257,n=Vf(e,n,s)):n.memoizedState!==null?(Ns(),n.child=e.child,n.flags|=128,n=null):(Ns(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=Cr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Mr(n,e.child,null,s),o=n.child,o.memoizedState=Df(s),o.childLanes=Of(e,g,s),n.memoizedState=Nf,n=tl(null,o));else if(Is(n),dd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,qo({value:o,source:null,stack:null}),n=Vf(e,n,s)}else if(xe||Aa(e,n,s,!1),g=(s&e.childLanes)!==0,xe||g){if(g=le,g!==null&&(o=To(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Rr(e,o),yn(g,e,o),Cf;fd(E)||ic(),n=Vf(e,n,s)}else fd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ue=Bn(E.nextSibling),Ke=n,jt=!0,Ss=null,zn=!1,e!==null&&Cg(n,e),n=xf(n,o.children),n.flags|=4096);return n}return h?(Ns(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=qi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=qi(P,E):(E=Cr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Df(s):(h=E.cachePool,h!==null?(R=De._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Vg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Of(e,g,s),n.memoizedState=Nf,tl(e.child,o)):(Is(n),s=e.child,e=s.sibling,s=qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function xf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=An(22,e,null,n),e.lanes=0,e}function Vf(e,n,s){return Mr(n,e.child,null,s),e=xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Qp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Kh(e.return,n,s)}function Mf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Kp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ae.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(Ae,g),Xe(e,n,o,s),o=jt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qp(e,s,n);else if(e.tag===19)Qp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ku(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Mf(n,!0,s,null,f,o);break;case"together":Mf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Yi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Aa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function h1(e,n,s){switch(n.tag){case 3:rt(n,n.stateNode.containerInfo),bs(n,De,e.memoizedState.cache),Ir();break;case 27:case 5:pt(n);break;case 4:rt(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,af(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Is(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Gp(e,n,s):(Is(n),e=Yi(e,n,s),e!==null?e.sibling:null);Is(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Aa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Kp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ae,Ae.current),o)break;return null;case 22:return n.lanes=0,zp(e,n,s,n.pendingProps);case 24:bs(n,De,e.memoizedState.cache)}return Yi(e,n,s)}function Yp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)xe=!0;else{if(!Uf(e,s)&&(n.flags&128)===0)return xe=!1,h1(e,n,s);xe=(e.flags&131072)!==0}else xe=!1,jt&&(n.flags&1048576)!==0&&Rg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=xr(n.elementType),n.type=e,typeof e=="function")zh(e)?(o=kr(e,o),n.tag=1,n=Hp(null,n,e,o,s)):(n.tag=0,n=If(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===te){n.tag=11,n=kp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Lp(null,n,e,o,s);break t}}throw n=Z(e)||e,Error(a(306,n,""))}}return n;case 0:return If(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=kr(o,n.pendingProps),Hp(e,n,o,h,s);case 3:t:{if(rt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,tf(e,n),Xo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,bs(n,De,o),o!==f.cache&&Yh(n,[De],s,!0),Yo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fp(e,n,o,s);break t}else if(o!==h){h=kn(Error(a(424)),n),qo(h),n=Fp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ue=Bn(e.firstChild),Ke=n,jt=!0,Ss=null,zn=!0,s=zg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ir(),o===h){n=Yi(e,n,s);break t}Xe(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=r_(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,e=n.pendingProps,o=cc(Rt.current).createElement(s),o[Ce]=n,o[Be]=e,Je(o,s,e),Ie(o),n.stateNode=o):n.memoizedState=r_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return pt(n),e===null&&jt&&(o=n.stateNode=n_(n.type,n.pendingProps,Rt.current),Ke=n,zn=!0,h=ue,Ls(n.type)?(md=h,ue=Bn(o.firstChild)):ue=h),Xe(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=ue)&&(o=B1(o,n.type,n.pendingProps,zn),o!==null?(n.stateNode=o,Ke=n,ue=Bn(o.firstChild),zn=!1,h=!0):h=!1),h||As(n)),pt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,ud(h,f)?o=null:g!==null&&ud(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=lf(e,n,n1,null,null,s),gl._currentValue=h),Ku(e,n),Xe(e,n,o,s),n.child;case 6:return e===null&&jt&&((e=s=ue)&&(s=q1(s,n.pendingProps,zn),s!==null?(n.stateNode=s,Ke=n,ue=null,e=!0):e=!1),e||As(n)),null;case 13:return Gp(e,n,s);case 4:return rt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Mr(n,null,o,s):Xe(e,n,o,s),n.child;case 11:return kp(e,n,n.type,n.pendingProps,s);case 7:return Xe(e,n,n.pendingProps,s),n.child;case 8:return Xe(e,n,n.pendingProps.children,s),n.child;case 12:return Xe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,bs(n,n.type,o.value),Xe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Dr(n),h=Ye(h),o=o(h),n.flags|=1,Xe(e,n,o,s),n.child;case 14:return Lp(e,n,n.type,n.pendingProps,s);case 15:return Pp(e,n,n.type,n.pendingProps,s);case 19:return Kp(e,n,s);case 31:return c1(e,n,s);case 22:return zp(e,n,s,n.pendingProps);case 24:return Dr(n),o=Ye(De),e===null?(h=Zh(),h===null&&(h=le,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Wh(n),bs(n,De,h)):((e.lanes&s)!==0&&(tf(e,n),Xo(n,null,null,s),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,De,o)):(o=f.cache,bs(n,De,o),o!==h.cache&&Yh(n,[De],s,!0))),Xe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Xi(e){e.flags|=4}function kf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ty())e.flags|=8192;else throw Vr=xu,$h}else e.flags&=-16777217}function Xp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c_(n))if(Ty())e.flags|=8192;else throw Vr=xu,$h}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ua|=n)}function el(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ce(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function f1(e,n,s){var o=n.pendingProps;switch(Hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(n),null;case 1:return ce(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Gi(De),ft(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Sa(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gh())),ce(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Xi(n),f!==null?(ce(n),Xp(n,f)):(ce(n),kf(n,h,null,o,s))):f?f!==e.memoizedState?(Xi(n),ce(n),Xp(n,f)):(ce(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(n),ce(n),kf(n,h,e,o,s)),null;case 27:if(oe(n),s=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}e=at.current,Sa(n)?Ig(n):(e=n_(h,o,s),n.stateNode=e,Xi(n))}return ce(n),null;case 5:if(oe(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ce(n),null}if(f=at.current,Sa(n))Ig(n);else{var g=cc(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ce]=n,f[Be]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(n)}}return ce(n),kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Rt.current,Sa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ce]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Gy(e.nodeValue,s)),e||As(n,!0)}else e=cc(e).createTextNode(o),e[Ce]=n,n.stateNode=e}return ce(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Sa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ce]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),e=!1}else s=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ce(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Sa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ce]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ce(n),h=!1}else h=Gh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),ce(n),null);case 4:return ft(),e===null&&sd(n.stateNode.containerInfo),ce(n),null;case 10:return Gi(n.type),ce(n),null;case 19:if(K(Ae),o=n.memoizedState,o===null)return ce(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ku(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ag(s,e),s=s.sibling;return it(Ae,Ae.current&1|2),jt&&Hi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&on()>tc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!jt)return ce(n),null}else 2*on()-o.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=on(),e.sibling=null,s=Ae.current,it(Ae,h?s&1|2:s&1),jt&&Hi(n,o.treeForkCount),e):(ce(n),null);case 22:case 23:return wn(n),rf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ce(n),n.subtreeFlags&6&&(n.flags|=8192)):ce(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Or),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Gi(De),ce(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function d1(e,n){switch(Hh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gi(De),ft(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return oe(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(a(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Ae),null;case 4:return ft(),null;case 10:return Gi(n.type),null;case 22:case 23:return wn(n),rf(),e!==null&&K(Or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Gi(De),null;case 25:return null;default:return null}}function Jp(e,n){switch(Hh(n),n.tag){case 3:Gi(De),ft();break;case 26:case 27:case 5:oe(n);break;case 4:ft();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:K(Ae);break;case 10:Gi(n.type);break;case 22:case 23:wn(n),rf(),e!==null&&K(Or);break;case 24:Gi(De)}}function nl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function Ds(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,P=E;try{P()}catch(G){$t(h,R,G)}}}o=o.next}while(o!==f)}}catch(G){$t(n,n.return,G)}}function Zp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Bg(n,s)}catch(o){$t(e,e.return,o)}}}function $p(e,n,s){s.props=kr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function il(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function Ii(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function Wp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Lf(e,n,s){try{var o=e.stateNode;U1(o,e.type,s,n),o[Be]=n}catch(h){$t(e,e.return,h)}}function ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ls(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Jn));else if(o!==4&&(o===27&&Ls(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(zf(e,n,s),e=e.sibling;e!==null;)zf(e,n,s),e=e.sibling}function Ju(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ls(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ju(e,n,s),e=e.sibling;e!==null;)Ju(e,n,s),e=e.sibling}function ey(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,s),n[Ce]=e,n[Be]=s}catch(f){$t(e,e.return,f)}}var Ji=!1,Ve=!1,jf=!1,ny=typeof WeakSet=="function"?WeakSet:Set,He=null;function m1(e,n){if(e=e.containerInfo,od=yc,e=mg(e),xh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,P=0,G=0,Y=e,j=null;e:for(;;){for(var H;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)j=Y,Y=H;for(;;){if(Y===e)break e;if(j===s&&++P===h&&(E=g),j===f&&++G===o&&(R=g),(H=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=H}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ld={focusedElem:e,selectionRange:s},yc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=kr(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){$t(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)hd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function iy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:$i(e,s),o&4&&nl(5,s);break;case 1:if($i(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(s,s.return,g)}else{var h=kr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(s,s.return,g)}}o&64&&Zp(s),o&512&&il(s,s.return);break;case 3:if($i(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Bg(e,n)}catch(g){$t(s,s.return,g)}}break;case 27:n===null&&o&4&&ey(s);case 26:case 5:$i(e,s),n===null&&o&4&&Wp(s),o&512&&il(s,s.return);break;case 12:$i(e,s);break;case 31:$i(e,s),o&4&&ay(e,s);break;case 13:$i(e,s),o&4&&oy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=A1.bind(null,s),H1(e,s))));break;case 22:if(o=s.memoizedState!==null||Ji,!o){n=n!==null&&n.memoizedState!==null||Ve,h=Ji;var f=Ve;Ji=o,(Ve=n)&&!f?Wi(e,s,(s.subtreeFlags&8772)!==0):$i(e,s),Ji=h,Ve=f}break;case 30:break;default:$i(e,s)}}function sy(e){var n=e.alternate;n!==null&&(e.alternate=null,sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,dn=!1;function Zi(e,n,s){for(s=s.child;s!==null;)ry(e,n,s),s=s.sibling}function ry(e,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Qn,s)}catch{}switch(s.tag){case 26:Ve||Ii(s,n),Zi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||Ii(s,n);var o=ge,h=dn;Ls(s.type)&&(ge=s.stateNode,dn=!1),Zi(e,n,s),fl(s.stateNode),ge=o,dn=h;break;case 5:Ve||Ii(s,n);case 6:if(o=ge,h=dn,ge=null,Zi(e,n,s),ge=o,dn=h,ge!==null)if(dn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{ge.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:ge!==null&&(dn?(e=ge,Zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ha(e)):Zy(ge,s.stateNode));break;case 4:o=ge,h=dn,ge=s.stateNode.containerInfo,dn=!0,Zi(e,n,s),ge=o,dn=h;break;case 0:case 11:case 14:case 15:Ds(2,s,n),Ve||Ds(4,s,n),Zi(e,n,s);break;case 1:Ve||(Ii(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&$p(s,n,o)),Zi(e,n,s);break;case 21:Zi(e,n,s);break;case 22:Ve=(o=Ve)||s.memoizedState!==null,Zi(e,n,s),Ve=o;break;default:Zi(e,n,s)}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ha(e)}catch(s){$t(n,n.return,s)}}}function oy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(s){$t(n,n.return,s)}}function g1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ny),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var s=g1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=b1.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ls(E.type)){ge=E.stateNode,dn=!1;break t}break;case 5:ge=E.stateNode,dn=!1;break t;case 3:case 4:ge=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(ge===null)throw Error(a(160));ry(f,g,h),ge=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ly(n,e),n=n.sibling}var ni=null;function ly(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),o&4&&(Ds(3,e,e.return),nl(3,e),Ds(5,e,e.return));break;case 1:mn(n,e),gn(e),o&512&&(Ve||s===null||Ii(s,s.return)),o&64&&Ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ni;if(mn(n,e),gn(e),o&512&&(Ve||s===null||Ii(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[mi]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,s),f[Ce]=e,Ie(f),o=f;break t;case"link":var g=l_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;case"meta":if(g=l_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ce]=e,Ie(f),o=f}e.stateNode=o}else u_(h,e.type,e.stateNode);else e.stateNode=o_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?u_(h,e.type,e.stateNode):o_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,s.memoizedProps)}break;case 27:mn(n,e),gn(e),o&512&&(Ve||s===null||Ii(s,s.return)),s!==null&&o&4&&Lf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,e),gn(e),o&512&&(Ve||s===null||Ii(s,s.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(lt){$t(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Lf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(jf=!0);break;case 6:if(mn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){$t(e,e.return,lt)}}break;case 3:if(dc=null,h=ni,ni=hc(n.containerInfo),mn(n,e),ni=h,gn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ha(n.containerInfo)}catch(lt){$t(e,e.return,lt)}jf&&(jf=!1,uy(e));break;case 4:o=ni,ni=hc(e.stateNode.containerInfo),mn(n,e),gn(e),ni=o;break;case 12:mn(n,e),gn(e);break;case 31:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=on()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=Ji,G=Ve;if(Ji=P||h,Ve=G||R,mn(n,e),Ve=G,Ji=P,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Ji||Ve||Lr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){$t(R,R.return,lt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){$t(R,R.return,lt)}}}else if(n.tag===18){if(s===null){R=n;try{var H=R.stateNode;h?$y(H,!0):$y(R.stateNode,!1)}catch(lt){$t(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Zu(e,s))));break;case 19:mn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ty(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Pf(e);Ju(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(fn(g,""),s.flags&=-33);var E=Pf(e);Ju(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=Pf(e);zf(e,P,R);break;default:throw Error(a(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $i(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)iy(e,n.alternate,n),n=n.sibling}function Lr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ds(4,n,n.return),Lr(n);break;case 1:Ii(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&$p(n,n.return,s),Lr(n);break;case 27:fl(n.stateNode);case 26:case 5:Ii(n,n.return),Lr(n);break;case 22:n.memoizedState===null&&Lr(n);break;case 30:Lr(n);break;default:Lr(n)}e=e.sibling}}function Wi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,s),nl(4,f);break;case 1:if(Wi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$t(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)jg(R[h],E)}catch(P){$t(o,o.return,P)}}s&&g&64&&Zp(f),il(f,f.return);break;case 27:ey(f);case 26:case 5:Wi(h,f,s),s&&o===null&&g&4&&Wp(f),il(f,f.return);break;case 12:Wi(h,f,s);break;case 31:Wi(h,f,s),s&&g&4&&ay(h,f);break;case 13:Wi(h,f,s),s&&g&4&&oy(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,s),il(f,f.return);break;case 30:break;default:Wi(h,f,s)}n=n.sibling}}function Bf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ho(s))}function qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function ii(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cy(e,n,s,o),n=n.sibling}function cy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,s,o),h&2048&&nl(9,n);break;case 1:ii(e,n,s,o);break;case 3:ii(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){ii(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else ii(e,n,s,o);break;case 31:ii(e,n,s,o);break;case 13:ii(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,s,o):sl(e,n):f._visibility&2?ii(e,n,s,o):(f._visibility|=2,xa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Bf(g,n);break;case 24:ii(e,n,s,o),h&2048&&qf(n.alternate,n);break;default:ii(e,n,s,o)}}function xa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:xa(f,g,E,R,h),nl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?xa(f,g,E,R,h):sl(f,g):(G._visibility|=2,xa(f,g,E,R,h)),h&&P&2048&&Bf(g.alternate,g);break;case 24:xa(f,g,E,R,h),h&&P&2048&&qf(g.alternate,g);break;default:xa(f,g,E,R,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:sl(s,o),h&2048&&Bf(o.alternate,o);break;case 24:sl(s,o),h&2048&&qf(o.alternate,o);break;default:sl(s,o)}n=n.sibling}}var rl=8192;function Va(e,n,s){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)hy(e,n,s),e=e.sibling}function hy(e,n,s){switch(e.tag){case 26:Va(e,n,s),e.flags&rl&&e.memoizedState!==null&&eS(s,ni,e.memoizedState,e.memoizedProps);break;case 5:Va(e,n,s);break;case 3:case 4:var o=ni;ni=hc(e.stateNode.containerInfo),Va(e,n,s),ni=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Va(e,n,s),rl=o):Va(e,n,s));break;default:Va(e,n,s)}}function fy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,my(o,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Ds(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$u(e)):al(e);break;default:al(e)}}function $u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,my(o,e)}fy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ds(8,n,n.return),$u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$u(n));break;default:$u(n)}e=e.sibling}}function my(e,n){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:Ds(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,He=o;else t:for(s=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(sy(o),o===s){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var p1={getCacheForType:function(e){var n=Ye(De),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ye(De).controller.signal}},y1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,le=null,xt=null,Mt=0,Zt=0,Rn=null,Os=!1,Ma=!1,Hf=!1,ts=0,Ee=0,xs=0,Pr=0,Ff=0,Cn=0,Ua=0,ol=null,pn=null,Gf=!1,Wu=0,gy=0,tc=1/0,ec=null,Vs=null,ke=0,Ms=null,ka=null,es=0,Qf=0,Kf=null,py=null,ll=0,Yf=null;function In(){return(Kt&2)!==0&&Mt!==0?Mt&-Mt:F.T!==null?td():nu()}function yy(){if(Cn===0)if((Mt&536870912)===0||jt){var e=hr;hr<<=1,(hr&3932160)===0&&(hr=262144),Cn=e}else Cn=536870912;return e=bn.current,e!==null&&(e.flags|=32),Cn}function yn(e,n,s){(e===le&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Us(e,Mt,Cn,!1)),fr(e,s),((Kt&2)===0||e!==le)&&(e===le&&((Kt&2)===0&&(Pr|=s),Ee===4&&Us(e,Mt,Cn,!1)),Ni(e))}function _y(e,n,s){if((Kt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),h=o?E1(e,n):Jf(e,n,!0),f=o;do{if(h===0){Ma&&!o&&Us(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!_1(s)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ol;var R=E.current.memoizedState.isDehydrated;if(R&&(La(E,g).flags|=256),g=Jf(E,g,!1),g!==2){if(Hf&&!R){E.errorRecoveryDisabledLanes|=f,Pr|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){La(e,0),Us(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Us(o,n,Cn,!Os);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-on(),10<h)){if(Us(o,n,Cn,!Os),hi(o,0,!0)!==0)break t;es=n,o.timeoutHandle=Xy(vy.bind(null,o,s,pn,ec,Gf,n,Cn,Pr,Ua,Os,f,"Throttled",-0,0),h);break t}vy(o,s,pn,ec,Gf,n,Cn,Pr,Ua,Os,f,null,-0,0)}}break}while(!0);Ni(e)}function vy(e,n,s,o,h,f,g,E,R,P,G,Y,j,H){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},hy(n,f,Y);var lt=(f&62914560)===f?Wu-on():(f&4194048)===f?gy-on():0;if(lt=nS(Y,lt),lt!==null){es=f,e.cancelPendingCommit=lt(Cy.bind(null,e,n,f,s,o,h,g,E,R,G,Y,null,j,H)),Us(e,f,g,!P);return}}Cy(e,n,f,s,o,h,g,E,R)}function _1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Us(e,n,s,o){n&=~Ff,n&=~Pr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Te(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&dr(e,s,n)}function nc(){return(Kt&6)===0?(ul(0),!1):!0}function Xf(){if(xt!==null){if(Zt===0)var e=xt.return;else e=xt,Fi=Nr=null,hf(e),Ca=null,Go=0,e=xt;for(;e!==null;)Jp(e.alternate,e),e=e.return;xt=null}}function La(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,P1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),es=0,Xf(),le=e,xt=s=qi(e.current,null),Mt=n,Zt=0,Rn=null,Os=!1,Ma=Kn(e,n),Hf=!1,Ua=Cn=Ff=Pr=xs=Ee=0,pn=ol=null,Gf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Te(o),f=1<<h;n|=e[h],o&=~f}return ts=n,Au(),s}function Ey(e,n){Nt=null,F.H=Wo,n===Ra||n===Ou?(n=kg(),Zt=3):n===$h?(n=kg(),Zt=4):Zt=n===Cf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,xt===null&&(Ee=1,Gu(e,kn(n,e.current)))}function Ty(){var e=bn.current;return e===null?!0:(Mt&4194048)===Mt?jn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===jn:!1}function Sy(){var e=F.H;return F.H=Wo,e===null?Wo:e}function Ay(){var e=F.A;return F.A=p1,e}function ic(){Ee=4,Os||(Mt&4194048)!==Mt&&bn.current!==null||(Ma=!0),(xs&134217727)===0&&(Pr&134217727)===0||le===null||Us(le,Mt,Cn,!1)}function Jf(e,n,s){var o=Kt;Kt|=2;var h=Sy(),f=Ay();(le!==e||Mt!==n)&&(ec=null,La(e,n)),n=!1;var g=Ee;t:do try{if(Zt!==0&&xt!==null){var E=xt,R=Rn;switch(Zt){case 8:Xf(),g=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=Zt;if(Zt=0,Rn=null,Pa(e,E,R,P),s&&Ma){g=0;break t}break;default:P=Zt,Zt=0,Rn=null,Pa(e,E,R,P)}}v1(),g=Ee;break}catch(G){Ey(e,G)}while(!0);return n&&e.shellSuspendCounter++,Fi=Nr=null,Kt=o,F.H=h,F.A=f,xt===null&&(le=null,Mt=0,Au()),g}function v1(){for(;xt!==null;)by(xt)}function E1(e,n){var s=Kt;Kt|=2;var o=Sy(),h=Ay();le!==e||Mt!==n?(ec=null,tc=on()+500,La(e,n)):Ma=Kn(e,n);t:do try{if(Zt!==0&&xt!==null){n=xt;var f=Rn;e:switch(Zt){case 1:Zt=0,Rn=null,Pa(e,n,f,1);break;case 2:case 9:if(Mg(f)){Zt=0,Rn=null,wy(n);break}n=function(){Zt!==2&&Zt!==9||le!==e||(Zt=7),Ni(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Mg(f)?(Zt=0,Rn=null,wy(n)):(Zt=0,Rn=null,Pa(e,n,f,7));break;case 5:var g=null;switch(xt.tag){case 26:g=xt.memoizedState;case 5:case 27:var E=xt;if(g?c_(g):E.stateNode.complete){Zt=0,Rn=null;var R=E.sibling;if(R!==null)xt=R;else{var P=E.return;P!==null?(xt=P,sc(P)):xt=null}break e}}Zt=0,Rn=null,Pa(e,n,f,5);break;case 6:Zt=0,Rn=null,Pa(e,n,f,6);break;case 8:Xf(),Ee=6;break t;default:throw Error(a(462))}}T1();break}catch(G){Ey(e,G)}while(!0);return Fi=Nr=null,F.H=o,F.A=h,Kt=s,xt!==null?0:(le=null,Mt=0,Au(),Ee)}function T1(){for(;xt!==null&&!ea();)by(xt)}function by(e){var n=Yp(e.alternate,e,ts);e.memoizedProps=e.pendingProps,n===null?sc(e):xt=n}function wy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=qp(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=qp(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:hf(n);default:Jp(s,n),n=xt=Ag(n,ts),n=Yp(s,n,ts)}e.memoizedProps=e.pendingProps,n===null?sc(e):xt=n}function Pa(e,n,s,o){Fi=Nr=null,hf(n),Ca=null,Go=0;var h=n.return;try{if(u1(e,h,n,s,Mt)){Ee=1,Gu(e,kn(s,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;Ee=1,Gu(e,kn(s,e.current)),xt=null;return}n.flags&32768?(jt||o===1?e=!0:Ma||(Mt&536870912)!==0?e=!1:(Os=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ry(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Ry(n,Os);return}e=n.return;var s=f1(n.alternate,n,ts);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);Ee===0&&(Ee=5)}function Ry(e,n){do{var s=d1(e.alternate,e);if(s!==null){s.flags&=32767,xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=s}while(e!==null);Ee=6,xt=null}function Cy(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do rc();while(ke!==0);if((Kt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Lh,Ih(e,s,f,g,E,R),e===le&&(xt=le=null,Mt=0),ka=n,Ms=e,es=s,Qf=f,Kf=h,py=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w1(hs,function(){return xy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=W.p,W.p=2,g=Kt,Kt|=4;try{m1(e,n,s)}finally{Kt=g,W.p=h,F.T=o}}ke=1,Iy(),Ny(),Dy()}}function Iy(){if(ke===1){ke=0;var e=Ms,n=ka,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=W.p;W.p=2;var h=Kt;Kt|=4;try{ly(n,e);var f=ld,g=mg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&dg(E.ownerDocument.documentElement,E)){if(R!==null&&xh(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var H=j.getSelection(),lt=E.textContent.length,yt=Math.min(R.start,lt),ae=R.end===void 0?yt:Math.min(R.end,lt);!H.extend&&yt>ae&&(g=ae,ae=yt,yt=g);var M=fg(E,yt),D=fg(E,ae);if(M&&D&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var L=Y.createRange();L.setStart(M.node,M.offset),H.removeAllRanges(),yt>ae?(H.addRange(L),H.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),H.addRange(L))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yc=!!od,ld=od=null}finally{Kt=h,W.p=o,F.T=s}}e.current=n,ke=2}}function Ny(){if(ke===2){ke=0;var e=Ms,n=ka,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=W.p;W.p=2;var h=Kt;Kt|=4;try{iy(e,n.alternate,n)}finally{Kt=h,W.p=o,F.T=s}}ke=3}}function Dy(){if(ke===4||ke===3){ke=0,na();var e=Ms,n=ka,s=es,o=py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,ka=Ms=null,Oy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),Pi(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=W.p,W.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,W.p=h}}(es&3)!==0&&rc(),Ni(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Yf?ll++:(ll=0,Yf=e):ll=0,ul(0)}}function Oy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function rc(){return Iy(),Ny(),Dy(),xy()}function xy(){if(ke!==5)return!1;var e=Ms,n=Qf;Qf=0;var s=Pi(es),o=F.T,h=W.p;try{W.p=32>s?32:s,F.T=null,s=Kf,Kf=null;var f=Ms,g=es;if(ke=0,ka=Ms=null,es=0,(Kt&6)!==0)throw Error(a(331));var E=Kt;if(Kt|=4,dy(f.current),cy(f,f.current,g,s),Kt=E,ul(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{W.p=h,F.T=o,Oy(e,n)}}function Vy(e,n,s){n=kn(s,n),n=Rf(e.stateNode,n,2),e=Cs(e,n,2),e!==null&&(fr(e,2),Ni(e))}function $t(e,n,s){if(e.tag===3)Vy(e,e,s);else for(;n!==null;){if(n.tag===3){Vy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vs===null||!Vs.has(o))){e=kn(s,e),s=Mp(2),o=Cs(n,s,2),o!==null&&(Up(s,o,n,e),fr(o,2),Ni(o));break}}n=n.return}}function Zf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new y1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Hf=!0,h.add(s),e=S1.bind(null,e,n,s),n.then(e,e))}function S1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,le===e&&(Mt&s)===s&&(Ee===4||Ee===3&&(Mt&62914560)===Mt&&300>on()-Wu?(Kt&2)===0&&La(e,0):Ff|=s,Ua===Mt&&(Ua=0)),Ni(e)}function My(e,n){n===0&&(n=eu()),e=Rr(e,n),e!==null&&(fr(e,n),Ni(e))}function A1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),My(e,s)}function b1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),My(e,s)}function w1(e,n){return _e(e,n)}var ac=null,za=null,$f=!1,oc=!1,Wf=!1,ks=0;function Ni(e){e!==za&&e.next===null&&(za===null?ac=za=e:za=za.next=e),oc=!0,$f||($f=!0,C1())}function ul(e,n){if(!Wf&&oc){Wf=!0;do for(var s=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Te(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Py(o,f))}else f=Mt,f=hi(o,o===le?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Kn(o,f)||(s=!0,Py(o,f));o=o.next}while(s);Wf=!1}}function R1(){Uy()}function Uy(){oc=$f=!1;var e=0;ks!==0&&L1()&&(e=ks);for(var n=on(),s=null,o=ac;o!==null;){var h=o.next,f=ky(o,n);f===0?(o.next=null,s===null?ac=h:s.next=h,h===null&&(za=s)):(s=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}ke!==0&&ke!==5||ul(e),ks!==0&&(ks=0)}function ky(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Te(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Ch(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=le,s=Mt,s=hi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Gn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Kn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Gn(o),Pi(s)){case 2:case 8:s=vo;break;case 32:s=hs;break;case 268435456:s=Jl;break;default:s=hs}return o=Ly.bind(null,e),s=_e(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Gn(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var o=Mt;return o=hi(e,e===le?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(_y(e,o,n),ky(e,on()),e.callbackNode!=null&&e.callbackNode===s?Ly.bind(null,e):null)}function Py(e,n){if(rc())return null;_y(e,n,!0)}function C1(){z1(function(){(Kt&6)!==0?_e(_o,R1):Uy()})}function td(){if(ks===0){var e=ba;e===0&&(e=ui,ui<<=1,(ui&261888)===0&&(ui=256)),ks=e}return ks}function zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ua(""+e)}function jy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function I1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=zy((h[Be]||null).action),g=o.submitter;g&&(n=(n=g[Be]||null)?zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Si("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ks!==0){var R=g?jy(h,g):new FormData(h);Ef(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?jy(h,g):new FormData(h),Ef(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ed=0;ed<kh.length;ed++){var nd=kh[ed],N1=nd.toLowerCase(),D1=nd[0].toUpperCase()+nd.slice(1);ei(N1,"on"+D1)}ei(yg,"onAnimationEnd"),ei(_g,"onAnimationIteration"),ei(vg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(QT,"onTransitionRun"),ei(KT,"onTransitionStart"),ei(YT,"onTransitionCancel"),ei(Eg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function By(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Su(G)}h.currentTarget=null,f=R}}}}function Vt(e,n){var s=n[sa];s===void 0&&(s=n[sa]=new Set);var o=e+"__bubble";s.has(o)||(qy(n,e,2,!1),s.add(o))}function id(e,n,s){var o=0;n&&(o|=4),qy(s,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[lc]){e[lc]=!0,So.forEach(function(s){s!=="selectionchange"&&(O1.has(s)||id(s,!1,e),id(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,id("selectionchange",!1,n))}}function qy(e,n,s,o){switch(y_(n)){case 2:var h=rS;break;case 8:h=aS;break;default:h=vd}s=h.bind(null,n,s,e),h=void 0,!_r||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function rd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=gi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ys(function(){var P=f,G=xn(s),Y=[];t:{var j=Tg.get(e);if(j!==void 0){var H=Si,lt=e;switch(e){case"keypress":if(Er(s)===0)break t;case"keydown":case"keyup":H=vu;break;case"focusin":lt="focus",H=Sr;break;case"focusout":lt="blur",H=Sr;break;case"beforeblur":case"afterblur":H=Sr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case yg:case _g:case vg:H=fu;break;case Eg:H=T;break;case"scroll":case"scrollend":H=Mo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Bi;break;case"toggle":case"beforetoggle":H=It}var yt=(n&4)!==0,ae=!yt&&(e==="scroll"||e==="scrollend"),M=yt?j!==null?j+"Capture":null:j;yt=[];for(var D=P,L;D!==null;){var Q=D;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||M===null||(Q=Zn(D,M),Q!=null&&yt.push(hl(D,Q,L))),ae)break;D=D.return}0<yt.length&&(j=new H(j,lt,null,s,G),Y.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==Oo&&(lt=s.relatedTarget||s.fromElement)&&(gi(lt)||lt[di]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(lt=s.relatedTarget||s.toElement,H=P,lt=lt?gi(lt):null,lt!==null&&(ae=c(lt),yt=lt.tag,lt!==ae||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(H=null,lt=P),H!==lt)){if(yt=Uo,Q="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Bi,Q="onPointerLeave",M="onPointerEnter",D="pointer"),ae=H==null?j:En(H),L=lt==null?j:En(lt),j=new yt(Q,D+"leave",H,s,G),j.target=ae,j.relatedTarget=L,Q=null,gi(G)===P&&(yt=new yt(M,D+"enter",lt,s,G),yt.target=L,yt.relatedTarget=ae,Q=yt),ae=Q,H&&lt)e:{for(yt=x1,M=H,D=lt,L=0,Q=M;Q;Q=yt(Q))L++;Q=0;for(var dt=D;dt;dt=yt(dt))Q++;for(;0<L-Q;)M=yt(M),L--;for(;0<Q-L;)D=yt(D),Q--;for(;L--;){if(M===D||D!==null&&M===D.alternate){yt=M;break e}M=yt(M),D=yt(D)}yt=null}else yt=null;H!==null&&Hy(Y,j,H,yt,!1),lt!==null&&ae!==null&&Hy(Y,ae,lt,yt,!0)}}t:{if(j=P?En(P):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Ht=ag;else if(sg(j))if(og)Ht=HT;else{Ht=BT;var ut=jT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&la(P.elementType)&&(Ht=ag):Ht=qT;if(Ht&&(Ht=Ht(e,P))){rg(Y,Ht,s,G);break t}ut&&ut(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Io(j,"number",j.value)}switch(ut=P?En(P):window,e){case"focusin":(sg(ut)||ut.contentEditable==="true")&&(pa=ut,Vh=P,jo=null);break;case"focusout":jo=Vh=pa=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,gg(Y,s,G);break;case"selectionchange":if(GT)break;case"keydown":case"keyup":gg(Y,s,G)}var Dt;if(Qt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ga?Ar(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(wi&&s.locale!=="ko"&&(ga||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ga&&(Dt=Vo()):(Ti=G,xo="value"in Ti?Ti.value:Ti.textContent,ga=!0)),ut=uc(P,Ut),0<ut.length&&(Ut=new bi(Ut,e,null,s,G),Y.push({event:Ut,listeners:ut}),Dt?Ut.data=Dt:(Dt=ma(s),Dt!==null&&(Ut.data=Dt)))),(Dt=Mn?kT(e,s):LT(e,s))&&(Ut=uc(P,"onBeforeInput"),0<Ut.length&&(ut=new bi("onBeforeInput","beforeinput",null,s,G),Y.push({event:ut,listeners:Ut}),ut.data=Dt)),I1(Y,e,P,s,G)}By(Y,n)})}function hl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function uc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,s),h!=null&&o.unshift(hl(e,h,f)),h=Zn(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function x1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Zn(s,f),P!=null&&g.unshift(hl(s,P,R))):h||(P=Zn(s,f),P!=null&&g.push(hl(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var V1=/\r\n?/g,M1=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(V1,`
`).replace(M1,"")}function Gy(e,n){return n=Fy(n),Fy(e)===n}function re(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(e,""+o);break;case"className":Tn(e,"class",o);break;case"tabIndex":Tn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,s,o);break;case"style":Do(e,o,f);break;case"data":if(n!=="object"){Tn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ua(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ua(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ua(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),aa(e,"popover",o);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":aa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,aa(e,s,o))}}function ad(e,n,s,o,h,f){switch(s){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?fn(e,o):(typeof o=="number"||typeof o=="bigint")&&fn(e,""+o);break;case"onScroll":o!=null&&Vt("scroll",e);break;case"onScrollEnd":o!=null&&Vt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):aa(e,s,o)}}}function Je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,g,s,null)}}h&&re(e,n,"srcSet",s.srcSet,s,null),o&&re(e,n,"src",s.src,s,null);return;case"input":Vt("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:re(e,n,o,G,s,null)}}au(e,f,E,R,P,g,h,!1);return;case"select":Vt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:re(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?ds(e,!!o,n,!1):s!=null&&ds(e,!!o,s,!0);return;case"textarea":Vt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:re(e,n,g,E,s,null)}ms(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":re(e,n,R,o,s,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Vt(cl[o],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,P,o,s,null)}return;default:if(la(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&ad(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&re(e,n,E,o,s,null))}function U1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,G=null;for(H in s){var Y=s[H];if(s.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(H)||re(e,n,H,null,o,Y)}}for(var j in o){var H=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(H!=null||Y!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Y&&re(e,n,j,H,o,Y)}}oa(e,g,E,R,P,G,f,h);return;case"select":H=g=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||re(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&re(e,n,h,f,o,R)}n=E,s=g,o=H,j!=null?ds(e,!!s,j,!1):!!o!=!!s&&(n!=null?ds(e,!!s,n,!0):ds(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:re(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,g,h,o,f)}ou(e,j,H);return;case"option":for(var lt in s)j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:re(e,n,lt,null,o,j));for(R in o)j=o[R],H=s[R],o.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":re(e,n,R,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)j=s[yt],s.hasOwnProperty(yt)&&j!=null&&!o.hasOwnProperty(yt)&&re(e,n,yt,null,o,j);for(P in o)if(j=o[P],H=s[P],o.hasOwnProperty(P)&&j!==H&&(j!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:re(e,n,P,j,o,H)}return;default:if(la(n)){for(var ae in s)j=s[ae],s.hasOwnProperty(ae)&&j!==void 0&&!o.hasOwnProperty(ae)&&ad(e,n,ae,void 0,o,j);for(G in o)j=o[G],H=s[G],!o.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||ad(e,n,G,j,o,H);return}}for(var M in s)j=s[M],s.hasOwnProperty(M)&&j!=null&&!o.hasOwnProperty(M)&&re(e,n,M,null,o,j);for(Y in o)j=o[Y],H=s[Y],!o.hasOwnProperty(Y)||j===H||j==null&&H==null||re(e,n,Y,j,o,H)}function Qy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Qy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>E)break;var G=R.transferSize,Y=R.initiatorType;G&&Qy(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var od=null,ld=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cd=null;function L1(){var e=window.event;return e&&e.type==="popstate"?e===cd?!1:(cd=e,!0):(cd=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(j1)}:Xy;function j1(e){setTimeout(function(){throw e})}function Ls(e){return e==="head"}function Zy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ha(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")fl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,fl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[mi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&fl(e.ownerDocument.body);s=h}while(s);Ha(n)}function $y(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function hd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":hd(s),ra(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function B1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[mi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function q1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Bn(e.nextSibling),e===null))return null;return e}function Wy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Bn(e.nextSibling),e===null))return null;return e}function fd(e){return e.data==="$?"||e.data==="$~"}function dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var md=null;function t_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Bn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function e_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function n_(e,n,s){switch(n=cc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ra(e)}var qn=new Map,i_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ns=W.d;W.d={f:F1,r:G1,D:Q1,C:K1,L:Y1,m:X1,X:Z1,S:J1,M:$1};function F1(){var e=ns.f(),n=nc();return e||n}function G1(e){var n=On(e);n!==null&&n.tag===5&&n.type==="form"?Ep(n):ns.r(e)}var ja=typeof document>"u"?null:document;function s_(e,n,s){var o=ja;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),i_.has(h)||(i_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Ie(n),o.head.appendChild(n)))}}function Q1(e){ns.D(e),s_("dns-prefetch",e,null)}function K1(e,n){ns.C(e,n),s_("preconnect",e,n)}function Y1(e,n,s){ns.L(e,n,s);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+hn(s.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=Ba(e);break;case"script":f=qa(e)}qn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),qn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Je(n,"link",e),Ie(n),o.head.appendChild(n)))}}function X1(e,n){ns.m(e,n);var s=ja;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!qn.has(f)&&(e=w({rel:"modulepreload",href:e},n),qn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ml(f)))return}o=s.createElement("link"),Je(o,"link",e),Ie(o),s.head.appendChild(o)}}}function J1(e,n,s){ns.S(e,n,s);var o=ja;if(o&&e){var h=pi(o).hoistableStyles,f=Ba(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(dl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=qn.get(f))&&gd(e,s);var R=g=o.createElement("link");Ie(R),Je(R,"link",e),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Z1(e,n){ns.X(e,n);var s=ja;if(s&&e){var o=pi(s).hoistableScripts,h=qa(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=w({src:e,async:!0},n),(n=qn.get(h))&&pd(e,n),f=s.createElement("script"),Ie(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function $1(e,n){ns.M(e,n);var s=ja;if(s&&e){var o=pi(s).hoistableScripts,h=qa(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=qn.get(h))&&pd(e,n),f=s.createElement("script"),Ie(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function r_(e,n,s,o){var h=(h=Rt.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ba(s.href),s=pi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ba(s.href);var f=pi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(dl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qn.set(e,s),f||W1(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qa(s),s=pi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ba(e){return'href="'+hn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function a_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function W1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",s),Ie(n),e.head.appendChild(n))}function qa(e){return'[src="'+hn(e)+'"]'}function ml(e){return"script[async]"+e}function o_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(s.href)+'"]');if(o)return n.instance=o,Ie(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ie(o),Je(o,"style",h),fc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ba(s.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Ie(f),f;o=a_(s),(h=qn.get(h))&&gd(o,h),f=(e.ownerDocument||e).createElement("link"),Ie(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Je(f,"link",o),n.state.loading|=4,fc(f,s.precedence,e),n.instance=f;case"script":return f=qa(s.src),(h=e.querySelector(ml(f)))?(n.instance=h,Ie(h),h):(o=s,(h=qn.get(f))&&(o=w({},s),pd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,e));return n.instance}function fc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function gd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function l_(e,n,s){if(dc===null){var o=new Map,h=dc=new Map;h.set(s,o)}else h=dc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[mi]||f[Ce]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function u_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function tS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function c_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ba(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ie(f);return}f=n.ownerDocument||n,o=a_(o),(h=qn.get(h))&&gd(o,h),f=f.createElement("link"),Ie(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Je(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var yd=0;function nS(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&yd===0&&(yd=62500*k1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>yd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(iS,e),gc=null,mc.call(e))}function iS(e,n){if(!(n.state.loading&4)){var s=gc.get(e);if(s)var o=s.get(null);else{s=new Map,gc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:Et,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function sS(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function h_(e,n,s,o,h,f,g,E,R,P,G,Y){return e=new sS(e,n,s,g,R,P,G,Y,E),n=1,f===!0&&(n|=24),f=An(3,null,null,n),e.current=f,f.stateNode=e,n=Xh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Wh(f),e}function f_(e){return e?(e=va,e):va}function d_(e,n,s,o,h,f){h=f_(h),o.context===null?o.context=h:o.pendingContext=h,o=Rs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Cs(e,o,n),s!==null&&(yn(s,e,n),Ko(s,e,n))}function m_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function _d(e,n){m_(e,n),(e=e.alternate)&&m_(e,n)}function g_(e){if(e.tag===13||e.tag===31){var n=Rr(e,67108864);n!==null&&yn(n,e,67108864),_d(e,67108864)}}function p_(e){if(e.tag===13||e.tag===31){var n=In();n=mr(n);var s=Rr(e,n);s!==null&&yn(s,e,n),_d(e,n)}}var yc=!0;function rS(e,n,s,o){var h=F.T;F.T=null;var f=W.p;try{W.p=2,vd(e,n,s,o)}finally{W.p=f,F.T=h}}function aS(e,n,s,o){var h=F.T;F.T=null;var f=W.p;try{W.p=8,vd(e,n,s,o)}finally{W.p=f,F.T=h}}function vd(e,n,s,o){if(yc){var h=Ed(o);if(h===null)rd(e,n,o,_c,s),__(e,o);else if(lS(h,e,n,s,o))o.stopPropagation();else if(__(e,o),n&4&&-1<oS.indexOf(e)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ci(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-Te(g);E.entanglements[1]|=R,g&=~R}Ni(f),(Kt&6)===0&&(tc=on()+500,ul(0))}}break;case 31:case 13:E=Rr(f,2),E!==null&&yn(E,f,2),nc(),_d(f,2)}if(f=Ed(o),f===null&&rd(e,n,o,_c,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,n,o,null,s)}}function Ed(e){return e=xn(e),Td(e)}var _c=null;function Td(e){if(_c=null,e=gi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function y_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case _o:return 2;case vo:return 8;case hs:case Rh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Sd=!1,Ps=null,zs=null,js=null,pl=new Map,yl=new Map,Bs=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(e,n){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&g_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function lS(e,n,s,o,h){switch(n){case"focusin":return Ps=_l(Ps,e,n,s,o,h),!0;case"dragenter":return zs=_l(zs,e,n,s,o,h),!0;case"mouseover":return js=_l(js,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,s,o,h)),!0}return!1}function v_(e){var n=gi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){p_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Yn(e.priority,function(){p_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ed(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Oo=o,s.target.dispatchEvent(o),Oo=null}else return n=On(s),n!==null&&g_(n),e.blockedOn=s,!1;n.shift()}return!0}function E_(e,n,s){vc(e)&&s.delete(n)}function uS(){Sd=!1,Ps!==null&&vc(Ps)&&(Ps=null),zs!==null&&vc(zs)&&(zs=null),js!==null&&vc(js)&&(js=null),pl.forEach(E_),yl.forEach(E_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uS)))}var Tc=null;function T_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Td(o||s)===null)continue;break}var f=On(s);f!==null&&(e.splice(n,3),n-=3,Ef(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ha(e){function n(R){return Ec(R,e)}Ps!==null&&Ec(Ps,e),zs!==null&&Ec(zs,e),js!==null&&Ec(js,e),pl.forEach(n),yl.forEach(n);for(var s=0;s<Bs.length;s++){var o=Bs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Bs.length&&(s=Bs[0],s.blockedOn===null);)v_(s),s.blockedOn===null&&Bs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Be]||null;if(typeof f=="function")g||T_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Be]||null)E=g.formAction;else if(Td(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),T_(s)}}}function S_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ad(e){this._internalRoot=e}Sc.prototype.render=Ad.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=In();d_(s,o,e,n,null,null)},Sc.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;d_(e.current,2,null,e,null,null),nc(),n[di]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Bs.length&&n!==0&&n<Bs[s].priority;s++);Bs.splice(s,0,e),s===0&&v_(e)}};var A_=t.version;if(A_!=="19.2.3")throw Error(a(527,A_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var cS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Qn=Ac.inject(cS),Ge=Ac}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Dp,f=Op,g=xp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=h_(e,1,!1,null,null,s,o,null,h,f,g,S_),e[di]=n.current,sd(e),new Ad(n)},El.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Dp,g=Op,E=xp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=h_(e,1,!0,n,s??null,o,h,R,f,g,E,S_),n.context=f_(null),s=n.current,o=In(),o=mr(o),h=Rs(o),h.callback=null,Cs(s,h,o),s=o,n.current.lanes=s,fr(n,s),Ni(n),e[di]=n.current,sd(e),new Sc(n)},El.version="19.2.3",El}var V_;function ES(){if(V_)return Rd.exports;V_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Rd.exports=vS(),Rd.exports}var TS=ES();const SS=()=>{};var M_={};const c0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},AS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},h0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,v=l+2<r.length,_=v?r[l+2]:0,S=c>>2,w=(c&3)<<4|p>>4;let U=(p&15)<<2|_>>6,X=_&63;v||(X=64,d||(U=64)),a.push(i[S],i[w],i[U],i[X])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(c0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):AS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||w==null)throw new bS;const U=c<<2|p>>4;if(a.push(U),_!==64){const X=p<<4&240|_>>2;if(a.push(X),w!==64){const nt=_<<6&192|w;a.push(nt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class bS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(r){const t=c0(r);return h0.encodeByteArray(t,!0)},Bc=function(r){return wS(r).replace(/\./g,"")},f0=function(r){try{return h0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function RS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const CS=()=>RS().__FIREBASE_DEFAULTS__,IS=()=>{if(typeof process>"u"||typeof M_>"u")return;const r=M_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&f0(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return SS()||CS()||IS()||NS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},d0=r=>oh()?.emulatorHosts?.[r],DS=r=>{const t=d0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},m0=()=>oh()?.config,g0=r=>oh()?.[`_${r}`];class OS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p0(r){return(await fetch(r,{credentials:"include"})).ok}function xS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const Rl={};function VS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?r.emulator.push(t):r.prod.push(t);return r}function MS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let U_=!1;function y0(r,t){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Rl[r]===t||Rl[r]||U_)return;Rl[r]=t;function i(U){return`__firebase__banner__${U}`}const a="__firebase__banner",c=VS().prod.length>0;function d(){const U=document.getElementById(a);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function v(U,X){U.setAttribute("width","24"),U.setAttribute("id",X),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function _(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{U_=!0,d()},U}function S(U,X){U.setAttribute("id",X),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function w(){const U=MS(a),X=i("text"),nt=document.getElementById(X)||document.createElement("span"),st=i("learnmore"),et=document.getElementById(st)||document.createElement("a"),gt=i("preprendIcon"),At=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const Et=U.element;p(Et),S(et,st);const te=_();v(At,gt),Et.append(At,nt,et,te),document.body.appendChild(Et)}c?(nt.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,nt.innerText="Preview backend running in this workspace."),nt.setAttribute("id",X)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function US(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function kS(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jS(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function BS(){return!kS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const FS="FirebaseError";class cs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=FS,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?GS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new cs(l,p,a)}}function GS(r,t){return r.replace(QS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const QS=/\{\$([^}]+)}/g;function KS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Qr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(k_(c)&&k_(d)){if(!Qr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function k_(r){return r!==null&&typeof r=="object"}function Bl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function YS(r,t){const i=new XS(r,t);return i.subscribe.bind(i)}class XS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");JS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Dd),l.error===void 0&&(l.error=Dd),l.complete===void 0&&(l.complete=Dd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Dd(){}function Nn(r){return r&&r._delegate?r._delegate:r}class Kr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class ZS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new OS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(WS(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:$S(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $S(r){return r===qr?void 0:r}function WS(r){return r.instantiationMode==="EAGER"}class tA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ZS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const eA={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},nA=kt.INFO,iA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},sA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=iA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=nA,this._logHandler=sA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?eA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const rA=(r,t)=>t.some(i=>r instanceof i);let L_,P_;function aA(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oA(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _0=new WeakMap,Kd=new WeakMap,v0=new WeakMap,Od=new WeakMap,vm=new WeakMap;function lA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Js(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&_0.set(i,r)}).catch(()=>{}),vm.set(t,r),t}function uA(r){if(Kd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Kd.set(r,t)}let Yd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Kd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||v0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function cA(r){Yd=r(Yd)}function hA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(xd(this),t,...i);return v0.set(a,t.sort?t.sort():[t]),Js(a)}:oA().includes(r)?function(...t){return r.apply(xd(this),t),Js(_0.get(this))}:function(...t){return Js(r.apply(xd(this),t))}}function fA(r){return typeof r=="function"?hA(r):(r instanceof IDBTransaction&&uA(r),rA(r,aA())?new Proxy(r,Yd):r)}function Js(r){if(r instanceof IDBRequest)return lA(r);if(Od.has(r))return Od.get(r);const t=fA(r);return t!==r&&(Od.set(r,t),vm.set(t,r)),t}const xd=r=>vm.get(r);function dA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Js(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Js(d.result),v.oldVersion,v.newVersion,Js(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const mA=["get","getKey","getAll","getAllKeys","count"],gA=["put","add","delete","clear"],Vd=new Map;function z_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=gA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||mA.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return Vd.set(t,c),c}cA(r=>({...r,get:(t,i,a)=>z_(t,i)||r.get(t,i,a),has:(t,i)=>!!z_(t,i)||r.has(t,i)}));class pA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(yA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function yA(r){return r.getComponent()?.type==="VERSION"}const Xd="@firebase/app",j_="0.14.7";const rs=new _m("@firebase/app"),_A="@firebase/app-compat",vA="@firebase/analytics-compat",EA="@firebase/analytics",TA="@firebase/app-check-compat",SA="@firebase/app-check",AA="@firebase/auth",bA="@firebase/auth-compat",wA="@firebase/database",RA="@firebase/data-connect",CA="@firebase/database-compat",IA="@firebase/functions",NA="@firebase/functions-compat",DA="@firebase/installations",OA="@firebase/installations-compat",xA="@firebase/messaging",VA="@firebase/messaging-compat",MA="@firebase/performance",UA="@firebase/performance-compat",kA="@firebase/remote-config",LA="@firebase/remote-config-compat",PA="@firebase/storage",zA="@firebase/storage-compat",jA="@firebase/firestore",BA="@firebase/ai",qA="@firebase/firestore-compat",HA="firebase",FA="12.8.0";const Jd="[DEFAULT]",GA={[Xd]:"fire-core",[_A]:"fire-core-compat",[EA]:"fire-analytics",[vA]:"fire-analytics-compat",[SA]:"fire-app-check",[TA]:"fire-app-check-compat",[AA]:"fire-auth",[bA]:"fire-auth-compat",[wA]:"fire-rtdb",[RA]:"fire-data-connect",[CA]:"fire-rtdb-compat",[IA]:"fire-fn",[NA]:"fire-fn-compat",[DA]:"fire-iid",[OA]:"fire-iid-compat",[xA]:"fire-fcm",[VA]:"fire-fcm-compat",[MA]:"fire-perf",[UA]:"fire-perf-compat",[kA]:"fire-rc",[LA]:"fire-rc-compat",[PA]:"fire-gcs",[zA]:"fire-gcs-compat",[jA]:"fire-fst",[qA]:"fire-fst-compat",[BA]:"fire-vertex","fire-js":"fire-js",[HA]:"fire-js-all"};const qc=new Map,QA=new Map,Zd=new Map;function B_(r,t){try{r.container.addComponent(t)}catch(i){rs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function no(r){const t=r.name;if(Zd.has(t))return rs.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,r);for(const i of qc.values())B_(i,r);for(const i of QA.values())B_(i,r);return!0}function Em(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function si(r){return r==null?!1:r.settings!==void 0}const KA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new jl("app","Firebase",KA);class YA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const ho=FA;function E0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Zs.create("bad-app-name",{appName:String(l)});if(i||(i=m0()),!i)throw Zs.create("no-options");const c=qc.get(l);if(c){if(Qr(i,c.options)&&Qr(a,c.config))return c;throw Zs.create("duplicate-app",{appName:l})}const d=new tA(l);for(const v of Zd.values())d.addComponent(v);const p=new YA(i,a,d);return qc.set(l,p),p}function T0(r=Jd){const t=qc.get(r);if(!t&&r===Jd&&m0())return E0();if(!t)throw Zs.create("no-app",{appName:r});return t}function $s(r,t,i){let a=GA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rs.warn(d.join(" "));return}no(new Kr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const XA="firebase-heartbeat-database",JA=1,xl="firebase-heartbeat-store";let Md=null;function S0(){return Md||(Md=dA(XA,JA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Zs.create("idb-open",{originalErrorMessage:r.message})})),Md}async function ZA(r){try{const i=(await S0()).transaction(xl),a=await i.objectStore(xl).get(A0(r));return await i.done,a}catch(t){if(t instanceof cs)rs.warn(t.message);else{const i=Zs.create("idb-get",{originalErrorMessage:t?.message});rs.warn(i.message)}}}async function q_(r,t){try{const a=(await S0()).transaction(xl,"readwrite");await a.objectStore(xl).put(t,A0(r)),await a.done}catch(i){if(i instanceof cs)rs.warn(i.message);else{const a=Zs.create("idb-set",{originalErrorMessage:i?.message});rs.warn(a.message)}}}function A0(r){return`${r.name}!${r.options.appId}`}const $A=1024,WA=30;class tb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>WA){const l=ib(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H_(),{heartbeatsToSend:i,unsentEntries:a}=eb(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rs.warn(t),""}}}function H_(){return new Date().toISOString().substring(0,10)}function eb(r,t=$A){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),F_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),F_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class nb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ZA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function F_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function ib(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function sb(r){no(new Kr("platform-logger",t=>new pA(t),"PRIVATE")),no(new Kr("heartbeat",t=>new tb(t),"PRIVATE")),$s(Xd,j_,r),$s(Xd,j_,"esm2020"),$s("fire-js","")}sb("");var rb="firebase",ab="12.8.0";$s(rb,ab,"app");function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ob=b0,w0=new jl("auth","Firebase",b0());const Hc=new _m("@firebase/auth");function lb(r,...t){Hc.logLevel<=kt.WARN&&Hc.warn(`Auth (${ho}): ${r}`,...t)}function Oc(r,...t){Hc.logLevel<=kt.ERROR&&Hc.error(`Auth (${ho}): ${r}`,...t)}function as(r,...t){throw Tm(r,...t)}function Oi(r,...t){return Tm(r,...t)}function R0(r,t,i){const a={...ob(),[t]:i};return new jl("auth","Firebase",a).create(t,{appName:r.name})}function Ws(r){return R0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return w0.create(r,...t)}function Tt(r,t,...i){if(!r)throw Tm(t,...i)}function is(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Oc(t),new Error(t)}function os(r,t){r||is(t)}function $d(){return typeof self<"u"&&self.location?.href||""}function ub(){return G_()==="http:"||G_()==="https:"}function G_(){return typeof self<"u"&&self.location?.protocol||null}function cb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ub()||PS()||"connection"in navigator)?navigator.onLine:!0}function hb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,os(i>t,"Short delay should be less than long delay!"),this.isMobile=US()||zS()}get(){return cb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sm(r,t){os(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class C0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const db=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mb=new ql(3e4,6e4);function lh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function fo(r,t,i,a,l={}){return I0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Bl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:v,...c};return LS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&co(r.emulatorConfig.host)&&(_.credentials="include"),C0.fetch()(await D0(r,r.config.apiHost,i,p),_)})}async function I0(r,t,i){r._canInitEmulator=!1;const a={...fb,...t};try{const l=new gb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw bc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw bc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw bc(r,"user-disabled",d);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw R0(r,S,_);as(r,S)}}catch(l){if(l instanceof cs)throw l;as(r,"network-request-failed",{message:String(l)})}}async function N0(r,t,i,a,l={}){const c=await fo(r,t,i,a,l);return"mfaPendingCredential"in c&&as(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function D0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Sm(r.config,l):`${r.config.apiScheme}://${l}`;return db.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class gb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Oi(this.auth,"network-request-failed")),mb.get())})}}function bc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Oi(r,t,a);return l.customData._tokenResponse=i,l}async function pb(r,t){return fo(r,"POST","/v1/accounts:delete",t)}async function Fc(r,t){return fo(r,"POST","/v1/accounts:lookup",t)}function Cl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yb(r,t=!1){const i=Nn(r),a=await i.getIdToken(t),l=Am(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Cl(Ud(l.auth_time)),issuedAtTime:Cl(Ud(l.iat)),expirationTime:Cl(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ud(r){return Number(r)*1e3}function Am(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=f0(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Q_(r){const t=Am(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof cs&&_b(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function _b({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class vb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Wd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gc(r){const t=r.auth,i=await r.getIdToken(),a=await Vl(r,Fc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?O0(l.providerUserInfo):[],d=Tb(r.providerData,c),p=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,_=p?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function Eb(r){const t=Nn(r);await Gc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Tb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function O0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Sb(r,t){const i=await I0(r,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await D0(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return r.emulatorConfig&&co(r.emulatorConfig.host)&&(v.credentials="include"),C0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Ab(r,t){return fo(r,"POST","/v2/accounts:revokeToken",lh(r,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Q_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=Q_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Sb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return is("not implemented")}}function Hs(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new vb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Wd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Vl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return yb(this,t)}reload(){return Eb(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Gc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Ws(this.auth));const t=await this.getIdToken();return await Vl(this,pb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:U,isAnonymous:X,providerData:nt,stsTokenManager:st}=i;Tt(w&&st,t,"internal-error");const et=Ja.fromJSON(this.name,st);Tt(typeof w=="string",t,"internal-error"),Hs(a,t.name),Hs(l,t.name),Tt(typeof U=="boolean",t,"internal-error"),Tt(typeof X=="boolean",t,"internal-error"),Hs(c,t.name),Hs(d,t.name),Hs(p,t.name),Hs(v,t.name),Hs(_,t.name),Hs(S,t.name);const gt=new ri({uid:w,auth:t,email:l,emailVerified:U,displayName:a,isAnonymous:X,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:et,createdAt:_,lastLoginAt:S});return nt&&Array.isArray(nt)&&(gt.providerData=nt.map(At=>({...At}))),v&&(gt._redirectEventId=v),gt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new ri({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Gc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?O0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ja;p.updateFromIdToken(a);const v=new ri({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,_),v}}const K_=new Map;function ss(r){os(r instanceof Function,"Expected a class definition");let t=K_.get(r);return t?(os(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,K_.set(r,t),t)}class x0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}x0.type="NONE";const Y_=x0;function xc(r,t,i){return`firebase:${r}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=xc(this.userKey,l.apiKey,c),this.fullPersistenceKey=xc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fc(this.auth,{idToken:t}).catch(()=>{});return i?ri._fromGetAccountInfoResponse(this.auth,i,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(ss(Y_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ss(Y_);const d=xc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let w;if(typeof S=="string"){const U=await Fc(t,{idToken:S}).catch(()=>{});if(!U)break;w=await ri._fromGetAccountInfoResponse(t,U,S)}else w=ri._fromJSON(t,S);_!==c&&(p=w),c=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Za(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Za(c,t,a))}}function X_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(k0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(V0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(P0(t))return"Blackberry";if(z0(t))return"Webos";if(M0(t))return"Safari";if((t.includes("chrome/")||U0(t))&&!t.includes("edge/"))return"Chrome";if(L0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function V0(r=rn()){return/firefox\//i.test(r)}function M0(r=rn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function U0(r=rn()){return/crios\//i.test(r)}function k0(r=rn()){return/iemobile/i.test(r)}function L0(r=rn()){return/android/i.test(r)}function P0(r=rn()){return/blackberry/i.test(r)}function z0(r=rn()){return/webos/i.test(r)}function bm(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bb(r=rn()){return bm(r)&&!!window.navigator?.standalone}function wb(){return jS()&&document.documentMode===10}function j0(r=rn()){return bm(r)||L0(r)||z0(r)||P0(r)||/windows phone/i.test(r)||k0(r)}function B0(r,t=[]){let i;switch(r){case"Browser":i=X_(rn());break;case"Worker":i=`${X_(rn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${a}`}class Rb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Cb(r,t={}){return fo(r,"GET","/v2/passwordPolicy",lh(r,t))}const Ib=6;class Nb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Ib,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Db{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new Rb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ss(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fc(this,{idToken:t}),a=await ri._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Gc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=hb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(Ws(this));const i=t?Nn(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Cb(this),i=new Nb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Ab(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ss(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&lb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function uh(r){return Nn(r)}class J_{constructor(t){this.auth=t,this.observer=null,this.addObserver=YS(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ob(r){wm=r}function xb(r){return wm.loadJS(r)}function Vb(){return wm.gapiScript}function Mb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Ub(r,t){const i=Em(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Qr(c,t??{}))return l;as(l,"already-initialized")}return i.initialize({options:t})}function kb(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ss);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Lb(r,t,i){const a=uh(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=q0(t),{host:d,port:p}=Pb(t),v=p===null?"":`:${p}`,_={url:`${c}//${d}${v}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(Qr(_,a.config.emulator)&&Qr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,co(d)?(p0(`${c}//${d}${v}`),y0("Auth",!0)):zb()}function q0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Pb(r){const t=q0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Z_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Z_(d)}}}function Z_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function zb(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class H0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return is("not implemented")}_getIdTokenResponse(t){return is("not implemented")}_linkToIdToken(t,i){return is("not implemented")}_getReauthenticationResolver(t){return is("not implemented")}}async function $a(r,t){return N0(r,"POST","/v1/accounts:signInWithIdp",lh(r,t))}const jb="http://localhost";class Yr extends H0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Yr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):as("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Yr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return $a(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,$a(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$a(t,i)}buildRequest(){const t={requestUri:jb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}class F0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hl extends F0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Gs extends Hl{constructor(){super("facebook.com")}static credential(t){return Yr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";class Qs extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Yr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Qs.credential(i,a)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";class Ks extends Hl{constructor(){super("github.com")}static credential(t){return Yr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Ys extends Hl{constructor(){super("twitter.com")}static credential(t,i){return Yr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ys.credential(i,a)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";async function Bb(r,t){return N0(r,"POST","/v1/accounts:signUp",lh(r,t))}class ir{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ri._fromIdTokenResponse(t,a,l),d=$_(a);return new ir({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=$_(a);return new ir({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function $_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function qb(r){if(si(r.app))return Promise.reject(Ws(r));const t=uh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ir({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Bb(t,{returnSecureToken:!0}),a=await ir._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Qc extends cs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Qc(t,i,a,l)}}function G0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(r,c,t,a):c})}async function Hb(r,t,i=!1){const a=await Vl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ir._forOperation(r,"link",a)}async function Fb(r,t,i=!1){const{auth:a}=r;if(si(a.app))return Promise.reject(Ws(a));const l="reauthenticate";try{const c=await Vl(r,G0(a,l,t,r),i);Tt(c.idToken,a,"internal-error");const d=Am(c.idToken);Tt(d,a,"internal-error");const{sub:p}=d;return Tt(r.uid===p,a,"user-mismatch"),ir._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&as(a,"user-mismatch"),c}}async function Gb(r,t,i=!1){if(si(r.app))return Promise.reject(Ws(r));const a="signIn",l=await G0(r,a,t),c=await ir._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function Qb(r,t,i,a){return Nn(r).onIdTokenChanged(t,i,a)}function Kb(r,t,i){return Nn(r).beforeAuthStateChanged(t,i)}function Yb(r,t,i,a){return Nn(r).onAuthStateChanged(t,i,a)}const Kc="__sak";class Q0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xb=1e3,Jb=10;class K0 extends Q0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);wb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Jb):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Xb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}K0.type="LOCAL";const Zb=K0;class Y0 extends Q0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Y0.type="SESSION";const X0=Y0;function $b(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),v=await $b(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Rm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class Wb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const _=Rm("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const U=w;if(U.data.eventId===_)switch(U.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(U.data.response);break;default:clearTimeout(S),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function tw(r){xi().location.href=r}function J0(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function ew(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nw(){return navigator?.serviceWorker?.controller||null}function iw(){return J0()?self:null}const Z0="firebaseLocalStorageDb",sw=1,Yc="firebaseLocalStorage",$0="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,t){return r.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function rw(){const r=indexedDB.deleteDatabase(Z0);return new Fl(r).toPromise()}function tm(){const r=indexedDB.open(Z0,sw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Yc,{keyPath:$0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Yc)?t(a):(a.close(),await rw(),t(await tm()))})})}async function W_(r,t,i){const a=hh(r,!0).put({[$0]:t,value:i});return new Fl(a).toPromise()}async function aw(r,t){const i=hh(r,!1).get(t),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function tv(r,t){const i=hh(r,!0).delete(t);return new Fl(i).toPromise()}const ow=800,lw=3;class W0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>lw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(iw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ew(),!this.activeServiceWorker)return;this.sender=new Wb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tm();return await W_(t,Kc,"1"),await tv(t,Kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>W_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>aw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>tv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new Fl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W0.type="LOCAL";const uw=W0;new ql(3e4,6e4);function cw(r,t){return t?ss(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Cm extends H0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $a(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function hw(r){return Gb(r.auth,new Cm(r),r.bypassAuthState)}function fw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),Fb(i,new Cm(r),r.bypassAuthState)}async function dw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),Hb(i,new Cm(r),r.bypassAuthState)}class tE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hw;case"linkViaPopup":case"linkViaRedirect":return dw;case"reauthViaPopup":case"reauthViaRedirect":return fw;default:as(this.auth,"internal-error")}}resolve(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mw=new ql(2e3,1e4);class Xa extends tE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const t=Rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mw.get())};t()}}Xa.currentPopupAction=null;const gw="pendingRedirect",Vc=new Map;class pw extends tE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await yw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yw(r,t){const i=Ew(t),a=vw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function _w(r,t){Vc.set(r._key(),t)}function vw(r){return ss(r._redirectPersistence)}function Ew(r){return xc(gw,r.config.apiKey,r.name)}async function Tw(r,t,i=!1){if(si(r.app))return Promise.reject(Ws(r));const a=uh(r),l=cw(a,t),d=await new pw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Sw=600*1e3;class Aw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!eE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Oi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Sw&&this.cachedEventUids.clear(),this.cachedEventUids.has(ev(t))}saveEventToCache(t){this.cachedEventUids.add(ev(t)),this.lastProcessedEventTime=Date.now()}}function ev(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function eE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function bw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eE(r);default:return!1}}async function ww(r,t={}){return fo(r,"GET","/v1/projects",t)}const Rw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cw=/^https?/;async function Iw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await ww(r);for(const i of t)try{if(Nw(i))return}catch{}as(r,"unauthorized-domain")}function Nw(r){const t=$d(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Cw.test(i))return!1;if(Rw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Dw=new ql(3e4,6e4);function nv(){const r=xi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Ow(r){return new Promise((t,i)=>{function a(){nv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nv(),i(Oi(r,"network-request-failed"))},timeout:Dw.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)a();else{const l=Mb("iframefcb");return xi()[l]=()=>{gapi.load?a():i(Oi(r,"network-request-failed"))},xb(`${Vb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Mc=null,t})}let Mc=null;function xw(r){return Mc=Mc||Ow(r),Mc}const Vw=new ql(5e3,15e3),Mw="__/auth/iframe",Uw="emulator/auth/iframe",kw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pw(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Sm(t,Uw):`https://${r.config.authDomain}/${Mw}`,a={apiKey:t.apiKey,appName:r.name,v:ho},l=Lw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function zw(r){const t=await xw(r),i=xi().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:Pw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Oi(r,"network-request-failed"),p=xi().setTimeout(()=>{c(d)},Vw.get());function v(){xi().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bw=500,qw=600,Hw="_blank",Fw="http://localhost";class iv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gw(r,t,i,a=Bw,l=qw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...jw,width:a.toString(),height:l.toString(),top:c,left:d},_=rn().toLowerCase();i&&(p=U0(_)?Hw:i),V0(_)&&(t=t||Fw,v.scrollbars="yes");const S=Object.entries(v).reduce((U,[X,nt])=>`${U}${X}=${nt},`,"");if(bb(_)&&p!=="_self")return Qw(t||"",p),new iv(null);const w=window.open(t||"",p,S);Tt(w,r,"popup-blocked");try{w.focus()}catch{}return new iv(w)}function Qw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Kw="__/auth/handler",Yw="emulator/auth/handler",Xw=encodeURIComponent("fac");async function sv(r,t,i,a,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ho,eventId:l};if(t instanceof F0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",KS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(t instanceof Hl){const S=t.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const v=await r._getAppCheckToken(),_=v?`#${Xw}=${encodeURIComponent(v)}`:"";return`${Jw(r)}?${Bl(p).slice(1)}${_}`}function Jw({config:r}){return r.emulator?Sm(r,Yw):`https://${r.authDomain}/${Kw}`}const kd="webStorageSupport";class Zw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X0,this._completeRedirectFn=Tw,this._overrideRedirectResult=_w}async _openPopup(t,i,a,l){os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await sv(t,i,a,$d(),l);return Gw(t,c,Rm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await sv(t,i,a,$d(),l);return tw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(os(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await zw(t),a=new Aw(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(kd,{type:kd},l=>{const c=l?.[0]?.[kd];c!==void 0&&i(!!c),as(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Iw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return j0()||M0()||bm()}}const $w=Zw;var rv="@firebase/auth",av="1.12.0";class Ww{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eR(r){no(new Kr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(r)},_=new Db(a,l,c,v);return kb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),no(new Kr("auth-internal",t=>{const i=uh(t.getProvider("auth").getImmediate());return(a=>new Ww(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(rv,av,tR(r)),$s(rv,av,"esm2020")}const nR=300,iR=g0("authIdTokenMaxAge")||nR;let ov=null;const sR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>iR)return;const l=i?.token;ov!==l&&(ov=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function rR(r=T0()){const t=Em(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Ub(r,{popupRedirectResolver:$w,persistence:[uw,Zb,X0]}),a=g0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=sR(c.toString());Kb(i,d,()=>d(i.currentUser)),Qb(i,p=>d(p))}}const l=d0("auth");return l&&Lb(i,`http://${l}`),i}function aR(){return document.getElementsByTagName("head")?.[0]??document}Ob({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Oi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",aR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eR("Browser");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tr,nE;(function(){var r;function t(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(x,N,V){for(var b=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)b[Z-2]=arguments[Z];return A.prototype[N].apply(x,b)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,A,C){C||(C=0);const x=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)x[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)x[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],N=I.g[2];let V=I.g[3],b;b=A+(V^C&(N^V))+x[0]+3614090360&4294967295,A=C+(b<<7&4294967295|b>>>25),b=V+(N^A&(C^N))+x[1]+3905402710&4294967295,V=A+(b<<12&4294967295|b>>>20),b=N+(C^V&(A^C))+x[2]+606105819&4294967295,N=V+(b<<17&4294967295|b>>>15),b=C+(A^N&(V^A))+x[3]+3250441966&4294967295,C=N+(b<<22&4294967295|b>>>10),b=A+(V^C&(N^V))+x[4]+4118548399&4294967295,A=C+(b<<7&4294967295|b>>>25),b=V+(N^A&(C^N))+x[5]+1200080426&4294967295,V=A+(b<<12&4294967295|b>>>20),b=N+(C^V&(A^C))+x[6]+2821735955&4294967295,N=V+(b<<17&4294967295|b>>>15),b=C+(A^N&(V^A))+x[7]+4249261313&4294967295,C=N+(b<<22&4294967295|b>>>10),b=A+(V^C&(N^V))+x[8]+1770035416&4294967295,A=C+(b<<7&4294967295|b>>>25),b=V+(N^A&(C^N))+x[9]+2336552879&4294967295,V=A+(b<<12&4294967295|b>>>20),b=N+(C^V&(A^C))+x[10]+4294925233&4294967295,N=V+(b<<17&4294967295|b>>>15),b=C+(A^N&(V^A))+x[11]+2304563134&4294967295,C=N+(b<<22&4294967295|b>>>10),b=A+(V^C&(N^V))+x[12]+1804603682&4294967295,A=C+(b<<7&4294967295|b>>>25),b=V+(N^A&(C^N))+x[13]+4254626195&4294967295,V=A+(b<<12&4294967295|b>>>20),b=N+(C^V&(A^C))+x[14]+2792965006&4294967295,N=V+(b<<17&4294967295|b>>>15),b=C+(A^N&(V^A))+x[15]+1236535329&4294967295,C=N+(b<<22&4294967295|b>>>10),b=A+(N^V&(C^N))+x[1]+4129170786&4294967295,A=C+(b<<5&4294967295|b>>>27),b=V+(C^N&(A^C))+x[6]+3225465664&4294967295,V=A+(b<<9&4294967295|b>>>23),b=N+(A^C&(V^A))+x[11]+643717713&4294967295,N=V+(b<<14&4294967295|b>>>18),b=C+(V^A&(N^V))+x[0]+3921069994&4294967295,C=N+(b<<20&4294967295|b>>>12),b=A+(N^V&(C^N))+x[5]+3593408605&4294967295,A=C+(b<<5&4294967295|b>>>27),b=V+(C^N&(A^C))+x[10]+38016083&4294967295,V=A+(b<<9&4294967295|b>>>23),b=N+(A^C&(V^A))+x[15]+3634488961&4294967295,N=V+(b<<14&4294967295|b>>>18),b=C+(V^A&(N^V))+x[4]+3889429448&4294967295,C=N+(b<<20&4294967295|b>>>12),b=A+(N^V&(C^N))+x[9]+568446438&4294967295,A=C+(b<<5&4294967295|b>>>27),b=V+(C^N&(A^C))+x[14]+3275163606&4294967295,V=A+(b<<9&4294967295|b>>>23),b=N+(A^C&(V^A))+x[3]+4107603335&4294967295,N=V+(b<<14&4294967295|b>>>18),b=C+(V^A&(N^V))+x[8]+1163531501&4294967295,C=N+(b<<20&4294967295|b>>>12),b=A+(N^V&(C^N))+x[13]+2850285829&4294967295,A=C+(b<<5&4294967295|b>>>27),b=V+(C^N&(A^C))+x[2]+4243563512&4294967295,V=A+(b<<9&4294967295|b>>>23),b=N+(A^C&(V^A))+x[7]+1735328473&4294967295,N=V+(b<<14&4294967295|b>>>18),b=C+(V^A&(N^V))+x[12]+2368359562&4294967295,C=N+(b<<20&4294967295|b>>>12),b=A+(C^N^V)+x[5]+4294588738&4294967295,A=C+(b<<4&4294967295|b>>>28),b=V+(A^C^N)+x[8]+2272392833&4294967295,V=A+(b<<11&4294967295|b>>>21),b=N+(V^A^C)+x[11]+1839030562&4294967295,N=V+(b<<16&4294967295|b>>>16),b=C+(N^V^A)+x[14]+4259657740&4294967295,C=N+(b<<23&4294967295|b>>>9),b=A+(C^N^V)+x[1]+2763975236&4294967295,A=C+(b<<4&4294967295|b>>>28),b=V+(A^C^N)+x[4]+1272893353&4294967295,V=A+(b<<11&4294967295|b>>>21),b=N+(V^A^C)+x[7]+4139469664&4294967295,N=V+(b<<16&4294967295|b>>>16),b=C+(N^V^A)+x[10]+3200236656&4294967295,C=N+(b<<23&4294967295|b>>>9),b=A+(C^N^V)+x[13]+681279174&4294967295,A=C+(b<<4&4294967295|b>>>28),b=V+(A^C^N)+x[0]+3936430074&4294967295,V=A+(b<<11&4294967295|b>>>21),b=N+(V^A^C)+x[3]+3572445317&4294967295,N=V+(b<<16&4294967295|b>>>16),b=C+(N^V^A)+x[6]+76029189&4294967295,C=N+(b<<23&4294967295|b>>>9),b=A+(C^N^V)+x[9]+3654602809&4294967295,A=C+(b<<4&4294967295|b>>>28),b=V+(A^C^N)+x[12]+3873151461&4294967295,V=A+(b<<11&4294967295|b>>>21),b=N+(V^A^C)+x[15]+530742520&4294967295,N=V+(b<<16&4294967295|b>>>16),b=C+(N^V^A)+x[2]+3299628645&4294967295,C=N+(b<<23&4294967295|b>>>9),b=A+(N^(C|~V))+x[0]+4096336452&4294967295,A=C+(b<<6&4294967295|b>>>26),b=V+(C^(A|~N))+x[7]+1126891415&4294967295,V=A+(b<<10&4294967295|b>>>22),b=N+(A^(V|~C))+x[14]+2878612391&4294967295,N=V+(b<<15&4294967295|b>>>17),b=C+(V^(N|~A))+x[5]+4237533241&4294967295,C=N+(b<<21&4294967295|b>>>11),b=A+(N^(C|~V))+x[12]+1700485571&4294967295,A=C+(b<<6&4294967295|b>>>26),b=V+(C^(A|~N))+x[3]+2399980690&4294967295,V=A+(b<<10&4294967295|b>>>22),b=N+(A^(V|~C))+x[10]+4293915773&4294967295,N=V+(b<<15&4294967295|b>>>17),b=C+(V^(N|~A))+x[1]+2240044497&4294967295,C=N+(b<<21&4294967295|b>>>11),b=A+(N^(C|~V))+x[8]+1873313359&4294967295,A=C+(b<<6&4294967295|b>>>26),b=V+(C^(A|~N))+x[15]+4264355552&4294967295,V=A+(b<<10&4294967295|b>>>22),b=N+(A^(V|~C))+x[6]+2734768916&4294967295,N=V+(b<<15&4294967295|b>>>17),b=C+(V^(N|~A))+x[13]+1309151649&4294967295,C=N+(b<<21&4294967295|b>>>11),b=A+(N^(C|~V))+x[4]+4149444226&4294967295,A=C+(b<<6&4294967295|b>>>26),b=V+(C^(A|~N))+x[11]+3174756917&4294967295,V=A+(b<<10&4294967295|b>>>22),b=N+(A^(V|~C))+x[2]+718787259&4294967295,N=V+(b<<15&4294967295|b>>>17),b=C+(V^(N|~A))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+V&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,x=this.C;let N=this.h,V=0;for(;V<A;){if(N==0)for(;V<=C;)l(this,I,V),V+=this.blockSize;if(typeof I=="string"){for(;V<A;)if(x[N++]=I.charCodeAt(V++),N==this.blockSize){l(this,x),N=0;break}}else for(;V<A;)if(x[N++]=I[V++],N==this.blockSize){l(this,x),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)I[A++]=this.g[C]>>>x&255;return I};function c(I,A){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let x=!0;for(let N=I.length-1;N>=0;N--){const V=I[N]|0;x&&V==A||(C[N]=V,x=!1)}this.g=C}var p={};function v(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return et(_(-I));const A=[];let C=1;for(let x=0;I>=C;x++)A[x]=I/C|0,C*=4294967296;return new d(A,0)}function S(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return et(S(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let x=w;for(let V=0;V<I.length;V+=8){var N=Math.min(8,I.length-V);const b=parseInt(I.substring(V,V+N),A);N<8?(N=_(Math.pow(A,N)),x=x.j(N).add(_(b))):(x=x.j(C),x=x.add(_(b)))}return x}var w=v(0),U=v(1),X=v(16777216);r=d.prototype,r.m=function(){if(st(this))return-et(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);I+=(x>=0?x:4294967296+x)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(nt(this))return"0";if(st(this))return"-"+et(this).toString(I);const A=_(Math.pow(I,6));var C=this;let x="";for(;;){const N=te(C,A).g;C=gt(C,N.j(A));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,nt(C))return V+x;for(;V.length<6;)V="0"+V;x=V+x}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function nt(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function st(I){return I.h==-1}r.l=function(I){return I=gt(this,I),st(I)?-1:nt(I)?0:1};function et(I){const A=I.g.length,C=[];for(let x=0;x<A;x++)C[x]=~I.g[x];return new d(C,~I.h).add(U)}r.abs=function(){return st(this)?et(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let x=0;for(let N=0;N<=A;N++){let V=x+(this.i(N)&65535)+(I.i(N)&65535),b=(V>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);x=b>>>16,V&=65535,b&=65535,C[N]=b<<16|V}return new d(C,C[C.length-1]&-2147483648?-1:0)};function gt(I,A){return I.add(et(A))}r.j=function(I){if(nt(this)||nt(I))return w;if(st(this))return st(I)?et(this).j(et(I)):et(et(this).j(I));if(st(I))return et(this.j(et(I)));if(this.l(X)<0&&I.l(X)<0)return _(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var x=0;x<2*A;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let N=0;N<I.g.length;N++){const V=this.i(x)>>>16,b=this.i(x)&65535,Z=I.i(N)>>>16,Ot=I.i(N)&65535;C[2*x+2*N]+=b*Ot,At(C,2*x+2*N),C[2*x+2*N+1]+=V*Ot,At(C,2*x+2*N+1),C[2*x+2*N+1]+=b*Z,At(C,2*x+2*N+1),C[2*x+2*N+2]+=V*Z,At(C,2*x+2*N+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function At(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function Et(I,A){this.g=I,this.h=A}function te(I,A){if(nt(A))throw Error("division by zero");if(nt(I))return new Et(w,w);if(st(I))return A=te(et(I),A),new Et(et(A.g),et(A.h));if(st(A))return A=te(I,et(A)),new Et(et(A.g),A.h);if(I.g.length>30){if(st(I)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var C=U,x=A;x.l(I)<=0;)C=de(C),x=de(x);var N=Bt(C,1),V=Bt(x,1);for(x=Bt(x,2),C=Bt(C,2);!nt(x);){var b=V.add(x);b.l(I)<=0&&(N=N.add(C),V=b),x=Bt(x,1),C=Bt(C,1)}return A=gt(I,N.j(A)),new Et(N,A)}for(N=w;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),V=_(C),b=V.j(A);st(b)||b.l(I)>0;)C-=x,V=_(C),b=V.j(A);nt(V)&&(V=U),N=N.add(V),I=gt(I,b)}return new Et(N,I)}r.B=function(I){return te(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<A;x++)C[x]=this.i(x)&I.i(x);return new d(C,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<A;x++)C[x]=this.i(x)|I.i(x);return new d(C,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<A;x++)C[x]=this.i(x)^I.i(x);return new d(C,this.h^I.h)};function de(I){const A=I.g.length+1,C=[];for(let x=0;x<A;x++)C[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(C,I.h)}function Bt(I,A){const C=A>>5;A%=32;const x=I.g.length-C,N=[];for(let V=0;V<x;V++)N[V]=A>0?I.i(V+C)>>>A|I.i(V+C+1)<<32-A:I.i(V+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,nE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,tr=d}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var iE,Sl,sE,Uc,em,rE,aE,oE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in y))break t;y=y[k]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function S(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,k,q){for(var tt=Array(arguments.length-2),It=2;It<arguments.length;It++)tt[It-2]=arguments[It];return m.prototype[k].apply(T,tt)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function X(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function nt(u,m){for(let T=1;T<arguments.length;T++){const k=arguments[T];var y=typeof k;if(y=y!="object"?y:k?Array.isArray(k)?"array":y:"null",y=="array"||y=="object"&&typeof k.length=="number"){y=u.length||0;const q=k.length||0;u.length=y+q;for(let tt=0;tt<q;tt++)u[y+tt]=k[tt]}else u.push(k)}}class st{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class At{constructor(){this.h=this.g=null}add(m,y){const T=Et.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var Et=new st(()=>new te,u=>u.reset());class te{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let de,Bt=!1,I=new At,A=()=>{const u=Promise.resolve(void 0);de=()=>{u.then(C)}};function C(){for(var u;u=gt();){try{u.h.call(u.g)}catch(y){et(y)}var m=Et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Bt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function b(u){return/^[\s\xa0]*$/.test(u)}function Z(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Z,N),Z.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ot="closure_listenable_"+(Math.random()*1e6|0),F=0;function W(u,m,y,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=k,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Gt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let y,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(y in T)u[y]=T[y];for(let q=0;q<K.length;q++)y=K[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,y,T,k){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=Rt(u,m,T,k);return tt>-1?(m=u[tt],y||(m.fa=!1)):(m=new W(m,this.src,q,!!T,k),m.fa=y,u.push(m)),m};function _t(u,m){const y=m.type;if(y in u.g){var T=u.g[y],k=Array.prototype.indexOf.call(T,m,void 0),q;(q=k>=0)&&Array.prototype.splice.call(T,k,1),q&&(ht(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Rt(u,m,y,T){for(let k=0;k<u.length;++k){const q=u[k];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return k}return-1}var B="closure_lm_"+(Math.random()*1e6|0),rt={};function ft(u,m,y,T,k){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ft(u,m[q],y,T,k);return null}return y=an(y),u&&u[Ot]?u.J(m,y,p(T)?!!T.capture:!1,k):pt(u,m,y,!1,T,k)}function pt(u,m,y,T,k,q){if(!m)throw Error("Invalid event type");const tt=p(k)?!!k.capture:!!k;let It=cn(u);if(It||(u[B]=It=new at(u)),y=It.add(m,y,T,tt,q),y.proxy)return y;if(T=oe(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)V||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Xt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function oe(){function u(y){return m.call(u.src,u.listener,y)}const m=Ct;return u}function je(u,m,y,T,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)je(u,m[q],y,T,k);else T=p(T)?!!T.capture:!!T,y=an(y),u&&u[Ot]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=Rt(m,y,T,k),y>-1&&(ht(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=cn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,y,T,k)),(y=u>-1?m[u]:null)&&ye(y))}function ye(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ot])_t(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Xt(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=cn(m))?(_t(y,u),y.h==0&&(y.src=null,m[B]=null)):ht(u)}}}function Xt(u){return u in rt?rt[u]:rt[u]="on"+u}function Ct(u,m){if(u.da)u=!0;else{m=new Z(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&ye(u),u=y.call(T,m)}return u}function cn(u){return u=u[B],u instanceof at?u:null}var ee="__closure_events_fn_"+(Math.random()*1e9>>>0);function an(u){return typeof u=="function"?u:(u[ee]||(u[ee]=function(m){return u.handleEvent(m)}),u[ee])}function ne(){x.call(this),this.i=new at(this),this.M=this,this.G=null}w(ne,x),ne.prototype[Ot]=!0,ne.prototype.removeEventListener=function(u,m,y,T){je(this,u,m,y,T)};function _e(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var k=m;m=new N(T,u),it(m,k)}k=!0;let q,tt;if(y)for(tt=y.length-1;tt>=0;tt--)q=m.g=y[tt],k=Gn(q,T,!0,m)&&k;if(q=m.g=u,k=Gn(q,T,!0,m)&&k,k=Gn(q,T,!1,m)&&k,y)for(tt=0;tt<y.length;tt++)q=m.g=y[tt],k=Gn(q,T,!1,m)&&k}ne.prototype.N=function(){if(ne.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)ht(y[T]);delete u.g[m],u.h--}}this.G=null},ne.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ne.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function Gn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==y){const It=tt.listener,Se=tt.ha||tt.src;tt.fa&&_t(u.i,tt),k=It.call(Se,T)!==!1&&k}}return k&&!T.defaultPrevented}function ea(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function na(u){u.g=ea(()=>{u.g=null,u.i&&(u.i=!1,na(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class on extends x{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:na(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(u){x.call(this),this.h=u,this.g={}}w(cr,x);var _o=[];function vo(u){zt(u.g,function(m,y){this.g.hasOwnProperty(y)&&ye(m)},u),u.g={}}cr.prototype.N=function(){cr.Z.N.call(this),vo(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=d.JSON.stringify,Rh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function $l(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){N.call(this,"d")}w(Ge,N);function Dn(){N.call(this,"c")}w(Dn,N);var Te={},Wl=null;function ia(){return Wl=Wl||new ne}Te.Ia="serverreachability";function tu(u){N.call(this,Te.Ia,u)}w(tu,N);function ui(u){const m=ia();_e(m,new tu(m))}Te.STAT_EVENT="statevent";function hr(u,m){N.call(this,Te.STAT_EVENT,u),this.stat=m}w(hr,N);function Re(u){const m=ia();_e(m,new hr(m,u))}Te.Ja="timingevent";function ci(u,m){N.call(this,Te.Ja,u),this.size=m}w(ci,N);function hi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Ch(u,m,y,T,k,q){u.info(function(){if(u.g)if(q){var tt="",It=q.split("&");for(let Qt=0;Qt<It.length;Qt++){var Se=It[Qt].split("=");if(Se.length>1){const me=Se[0];Se=Se[1];const Mn=me.split("_");tt=Mn.length>=2&&Mn[1]=="type"?tt+(me+"="+Se+"&"):tt+(me+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+y+`
`+tt})}function eu(u,m,y,T,k,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+y+`
`+q+" "+tt})}function fi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ih(u,y)+(T?" "+T:"")})}function fr(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Ih(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return hs(q)}catch{return m}}var dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function mr(){}w(mr,Zl),mr.prototype.g=function(){return new XMLHttpRequest},To=new mr;function Pi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Yn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Ce={},Be={};function di(u,m,y){u.M=1,u.A=gr(Ne(m)),u.u=y,u.R=!0,sa(u,null)}function sa(u,m){u.F=Date.now(),mi(u),u.B=Ne(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),la(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Xn,u.g=yu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new on(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(_o[0]=k.toString()),k=_o);for(let q=0;q<k.length;q++){const tt=ft(y,k[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ui(),Ch(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$n(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const It=$n(this.g),Se=this.g.ya(),Qt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||It!=4||Se==7||(Se==8||Qt<=0?ui(3):ui(2)),gi(this);var m=this.g.ca();this.X=m;var y=Nh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(T)){var q=T;break e}}q=null}if(u=q)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,Re(12),En(this),On(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<y.length;)if(me=su(this,y),me==Be){It==4&&(this.m=4,Re(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ce){this.m=4,Re(15),fi(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,me,null),pi(this,me);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||y.length!=0||this.h.h||(this.m=1,Re(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,y,"[Invalid Chunked Response]"),En(this),On(this);else if(y.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),ko(tt),tt.P=!0,Re(11))}}else fi(this.i,this.l,y,null),pi(this,y);It==4&&En(this),this.o&&!this.K&&(It==4?du(this.j,this):(this.o=!1,mi(this)))}else ji(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),En(this),On(this)}}}catch{}};function Nh(u){if(!iu(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let y="";const T=m.length,k=$n(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),On(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(k&&q==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Be:(y=Number(m.substring(y,T)),isNaN(y)?Ce:(T+=1,T+y>m.length?Be:(m=m.slice(T,T+y),u.C=T+y,m)))}Yn.prototype.cancel=function(){this.K=!0,En(this)};function mi(u){u.T=Date.now()+u.H,ra(u,u.H)}function ra(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=hi(_(u.aa,u),m)}function gi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fr(this.i,this.B),this.M!=2&&(ui(),Re(17)),En(this),this.m=2,On(this)):ra(this,this.T-u)};function On(u){u.j.I==0||u.K||du(u.j,u)}function En(u){gi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||_i(y.h,u))){if(!u.L&&_i(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)da(y),vs(y);else break t;Sr(y),Re(18)}}else y.xa=k[1],0<y.xa-y.K&&k[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=hi(_(y.Va,y),6e3));yi(y.h)<=1&&y.ta&&(y.ta=void 0)}else bi(y,11)}else if((u.L||y.g==u)&&da(y),!b(m))for(k=y.Ba.g.parse(m),m=0;m<k.length;m++){let Qt=k[m];const me=Qt[0];if(!(me<=y.K))if(y.K=me,Qt=Qt[1],y.I==2)if(Qt[0]=="c"){y.M=Qt[1],y.ba=Qt[2];const Mn=Qt[3];Mn!=null&&(y.ka=Mn,y.j.info("VER="+y.ka));const wi=Qt[4];wi!=null&&(y.za=wi,y.j.info("SVER="+y.za));const Wn=Qt[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(T=1.5*Wn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const ti=u.g;if(ti){const Ar=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var q=T.h;q.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(bo(q,q.h),q.h=null))}if(T.G){const ma=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(T.wa=ma,Jt(T.J,T.G,ma))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var tt=u;if(T.na=pu(T,T.L?T.ba:null,T.W),tt.L){wo(T.h,tt);var It=tt,Se=T.O;Se&&(It.H=Se),It.D&&(gi(It),mi(It)),T.g=tt}else hu(T);y.i.length>0&&Ai(y)}else Qt[0]!="stop"&&Qt[0]!="close"||bi(y,7);else y.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?bi(y,7):Mo(y):Qt[0]!="noop"&&y.l&&y.l.qa(Qt),y.A=0)}}ui(4)}catch{}}var Ie=class{constructor(u,m){this.g=u,this.map=m}};function So(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yi(u){return u.h?1:u.g?u.g.size:0}function _i(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bo(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}So.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return X(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let k,q=null;T>=0?(k=u[y].substring(0,T),q=u[y].substring(T+1)):k=u[y],m(k,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Tn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,fs(this,u.u),this.h=u.h,Co(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,qe(this,m[1]||"",!0),this.o=vi(m[2]||""),this.g=vi(m[3]||"",!0),fs(this,m[4]),this.h=vi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=vi(m[7]||"")):(this.l=!1,this.i=new ms(null,this.l))}Tn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(pr(m,oa,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pr(m,oa,!0),"@"),u.push(Pi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(pr(y,y.charAt(0)=="/"?Io:au,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",pr(y,ou)),u.join("")},Tn.prototype.resolve=function(u){const m=Ne(this);let y=!!u.j;y?qe(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)fs(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var k=m.h.lastIndexOf("/");k!=-1&&(T=m.h.slice(0,k+1)+T)}if(k=T,k==".."||k==".")T="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){T=k.lastIndexOf("/",0)==0,k=k.split("/");const q=[];for(let tt=0;tt<k.length;){const It=k[tt++];It=="."?T&&tt==k.length&&q.push(""):It==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&tt==k.length&&q.push("")):(q.push(It),T=!0)}T=q.join("/")}else T=k}return y?m.h=T:y=u.i.toString()!=="",y?Co(m,uu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Ne(u){return new Tn(u)}function qe(u,m,y){u.j=y?vi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,y){m instanceof ms?(u.i=m,ua(u.i,u.l)):(y||(m=pr(m,ds)),u.i=new ms(m,u.l))}function Jt(u,m,y){u.i.set(m,y)}function gr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,au=/[#\?:]/g,Io=/[#\?]/g,ds=/[#\?@]/g,ou=/#/g;function ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&aa(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=ms.prototype,r.add=function(u,m){fn(this),this.i=null,u=gs(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function lu(u,m){fn(u),m=gs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return fn(u),m=gs(u,m),u.g.has(m)}r.forEach=function(u,m){fn(this),this.g.forEach(function(y,T){y.forEach(function(k){u.call(m,k,T,this)},this)},this)};function Do(u,m){fn(u);let y=[];if(typeof m=="string")No(u,m)&&(y=y.concat(u.g.get(gs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return fn(this),this.i=null,u=gs(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function la(u,m,y){lu(u,m),y.length>0&&(u.i=null,u.g.set(gs(u,m),X(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const k=Pi(y);y=Do(this,y);for(let q=0;q<y.length;q++){let tt=k;y[q]!==""&&(tt+="="+Pi(y[q])),u.push(tt)}}return this.i=u.join("&")};function uu(u){const m=new ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ua(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(y,T){const k=T.toLowerCase();T!=k&&(lu(this,T),la(this,k,y))},u)),u.j=m}function Jn(u,m){const y=new Kn;if(d.Image){const T=new Image;T.onload=S(xn,y,"TestLoadImage: loaded",!0,m,T),T.onerror=S(xn,y,"TestLoadImage: error",!1,m,T),T.onabort=S(xn,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(xn,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Oo(u,m){const y=new Kn,T=new AbortController,k=setTimeout(()=>{T.abort(),xn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(k),q.ok?xn(y,"TestPingServer: ok",!0,m):xn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),xn(y,"TestPingServer: error",!1,m)})}function xn(u,m,y,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(y)}catch{}}function ps(){this.g=new Jl}function Ei(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ei,Zl),Ei.prototype.g=function(){return new yr(this.i,this.h)};function yr(u,m){ne.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(yr,ne),r=yr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ca(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ca(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ys(this):Zn(this),this.readyState==3&&ca(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ys(this))},r.Na=function(u){this.g&&(this.response=u,ys(this))},r.ga=function(){this.g&&ys(this)};function ys(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return zt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function _r(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Vn(y),typeof u=="string"?y!=null&&Pi(y):Jt(u,m,y))}function ie(u){ne.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ie,ne);var Ti=/^https?$/i,xo=["POST","PUT"];r=ie.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=U(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){vr(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)y.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||T||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of y)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){vr(this,q)}};function vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),zi(u)}function Vo(u){u.A||(u.A=!0,_e(u,"complete"),_e(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,_e(this,"complete"),_e(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),ie.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},r.Xa=function(){Er(this)};function Er(u){if(u.h&&typeof c<"u"){if(u.v&&$n(u)==4)setTimeout(u.Ca.bind(u),0);else if(_e(u,"readystatechange"),$n(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=q===0){let tt=String(u.D).match(ru)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ti.test(tt?tt.toLowerCase():"")}y=T}if(y)_e(u,"complete"),_e(u,"success");else{u.o=6;try{var k=$n(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",Vo(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||_e(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function $n(u){return u.g?u.g.readyState:0}r.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rh(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&$n(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(b(u[T]))continue;var y=nu(u[T]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[k]||[];m[k]=q,q.push(y)}Gt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function _s(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new So(u&&u.concurrentRequestLimit),this.Ba=new ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_s.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,T){Re(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=pu(this,null,this.W),Ai(this)};function Mo(u){if(ha(u),u.I==3){var m=u.V++,y=Ne(u.J);if(Jt(y,"SID",u.M),Jt(y,"RID",m),Jt(y,"TYPE","terminate"),Tr(u,y),m=new Yn(u,u.j,m),m.M=2,m.A=gr(Ne(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),mi(m)}gu(u)}function vs(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ha(u){vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),da(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!Ao(u.h)&&!u.m){u.m=!0;var m=u.Ea;de||A(),Bt||(de(),Bt=!0),I.add(m,u),u.D=0}}function fa(u,m){return yi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=hi(_(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new Yn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(k.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=cu(this,k,m),y=Ne(this.J),Jt(y,"RID",u),Jt(y,"CVER",22),this.G&&Jt(y,"X-HTTP-Session-Id",this.G),Tr(this,y),q&&(this.R?m="headers="+Pi(Vn(q))+"&"+m:this.u&&_r(y,this.u,q)),bo(this.h,k),this.Ra&&Jt(y,"TYPE","init"),this.S?(Jt(y,"$req",m),Jt(y,"SID","null"),k.U=!0,di(k,y,null)):di(k,y,m),this.I=2}}else this.I==3&&(u?Uo(this,u):this.i.length==0||Ao(this.h)||Uo(this))};function Uo(u,m){var y;m?y=m.l:y=u.V++;const T=Ne(u.J);Jt(T,"SID",u.M),Jt(T,"RID",y),Jt(T,"AID",u.K),Tr(u,T),u.u&&u.o&&_r(T,u.u,u.o),y=new Yn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bo(u.h,y),di(y,T,m)}function Tr(u,m){u.H&&zt(u.H,function(y,T){Jt(m,T,y)}),u.l&&zt({},function(y,T){Jt(m,T,y)})}function cu(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var k=u.i;let It=-1;for(;;){const Se=["count="+y];It==-1?y>0?(It=k[0].g,Se.push("ofs="+It)):It=0:Se.push("ofs="+It);let Qt=!0;for(let me=0;me<y;me++){var q=k[me].g;const Mn=k[me].map;if(q-=It,q<0)It=Math.max(0,k[me].g-100),Qt=!1;else try{q="req"+q+"_"||"";try{var tt=Mn instanceof Map?Mn:Object.entries(Mn);for(const[wi,Wn]of tt){let ti=Wn;p(Wn)&&(ti=hs(Wn)),Se.push(q+wi+"="+encodeURIComponent(ti))}}catch(wi){throw Se.push(q+"type="+encodeURIComponent("_badmap")),wi}}catch{T&&T(Mn)}}if(Qt){tt=Se.join("&");break t}}tt=void 0}return u=u.i.splice(0,y),m.G=u,tt}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;de||A(),Bt||(de(),Bt=!0),I.add(m,u),u.A=0}}function Sr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=hi(_(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=hi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),vs(this),fu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ne(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),Tr(u,m),u.u&&u.o&&_r(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=gr(Ne(m)),y.u=null,y.R=!0,sa(y,u)}r.Va=function(){this.C!=null&&(this.C=null,vs(this),Sr(this),Re(19))};function da(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var y=null;if(u.g==m){da(u),ko(u),u.g=null;var T=2}else if(_i(u.h,m))y=m.G,wo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;T=ia(),_e(T,new ci(T,y)),Ai(u)}else hu(u);else if(k=m.m,k==3||k==0&&m.X>0||!(T==1&&fa(u,m)||T==2&&Sr(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),k){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function mu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const k=!T;T=new Tn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(T,"https"),gr(T),k?Jn(T.toString(),y):Oo(T.toString(),y)}else Re(2);u.I=0,u.l&&u.l.pa(m),gu(u),ha(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(nt(u.ja,m),nt(u.ja,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,y){var T=y instanceof Tn?Ne(y):new Tn(y);if(T.g!="")m&&(T.g=m+"."+T.g),fs(T,T.u);else{var k=d.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const q=new Tn(null);T&&qe(q,T),m&&(q.g=m),k&&fs(q,k),y&&(q.h=y),T=q}return y=u.G,m=u.wa,y&&m&&Jt(T,y,m),Jt(T,"VER",u.ka),Tr(u,T),T}function yu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new Ei({ab:y})):new ie(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Es(){}Es.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){ne.call(this),this.g=new _s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!b(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}w(ln,ne),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Mo(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=hs(u),u=y);m.i.push(new Ie(m.Ya++,u)),m.I==3&&Ai(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,ln.Z.N.call(this)};function vu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(vu,Ge);function Eu(){Dn.call(this),this.status=1}w(Eu,Dn);function Bi(u){this.g=u}w(Bi,_u),Bi.prototype.ra=function(){_e(this.g,"a")},Bi.prototype.qa=function(u){_e(this.g,new vu(u))},Bi.prototype.pa=function(u){_e(this.g,new Eu)},Bi.prototype.oa=function(){_e(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,oE=function(){return new Es},aE=function(){return ia()},rE=Te,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,Uc=dr,Eo.COMPLETE="complete",sE=Eo,$l.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",ne.prototype.listen=ne.prototype.J,Sl=$l,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,iE=ie}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let mo="12.8.0";function oR(r){mo=r}const Xr=new _m("@firebase/firestore");function Fa(){return Xr.logLevel}function ot(r,...t){if(Xr.logLevel<=kt.DEBUG){const i=t.map(Im);Xr.debug(`Firestore (${mo}): ${r}`,...i)}}function ls(r,...t){if(Xr.logLevel<=kt.ERROR){const i=t.map(Im);Xr.error(`Firestore (${mo}): ${r}`,...i)}}function io(r,...t){if(Xr.logLevel<=kt.WARN){const i=t.map(Im);Xr.warn(`Firestore (${mo}): ${r}`,...i)}}function Im(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,lE(r,a,i)}function lE(r,t,i){let a=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ls(a),new Error(a)}function Yt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||lE(t,l,a)}function wt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends cs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class uE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class uR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class cR{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new uE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class hR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class fR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new hR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new uv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function mR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=mR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Lt(r,t){return r<t?-1:r>t?1:0}function nm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Ld(l)===Ld(c)?Lt(l,c):Ld(l)?1:-1}return Lt(r.length,t.length)}const gR=55296,pR=57343;function Ld(r){const t=r.charCodeAt(0);return t>=gR&&t<=pR}function so(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const cv="__name__";class Di{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Di.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Lt(t.length,i.length)}static compareSegments(t,i){const a=Di.isNumericId(t),l=Di.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Di.extractNumericId(t).compare(Di.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class he extends Di{construct(t,i,a){return new he(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new he(i)}static emptyPath(){return new he([])}}const yR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Di{construct(t,i,a){return new $e(t,i,a)}static isValidIdentifier(t){return yR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cv}static keyField(){return new $e([cv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(i)}static emptyPath(){return new $e([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(he.fromString(t))}static fromName(t){return new mt(he.fromString(t).popFirst(5))}static empty(){return new mt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new he(t.slice()))}}function cE(r,t,i){if(!i)throw new ct($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function _R(r,t,i,a){if(t===!0&&a===!0)throw new ct($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function hv(r){if(!mt.isDocumentKey(r))throw new ct($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fv(r){if(mt.isDocumentKey(r))throw new ct($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function er(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(r);throw new ct($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ue(r,t){const i={typeString:r};return t&&(i.value=t),i}function Gl(r,t){if(!hE(r))throw new ct($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct($.INVALID_ARGUMENT,i);return!0}const dv=-62135596800,mv=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*mv);return new fe(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<dv)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mv}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-dv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Ue("string",fe._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new fe(0,0))}static max(){return new St(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function vR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new fe(i+1,0):new fe(i,a));return new sr(l,mt.empty(),t)}function ER(r){return new sr(r.readTime,r.key,Ml)}class sr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new sr(St.min(),mt.empty(),Ml)}static max(){return new sr(St.max(),mt.empty(),Ml)}}function TR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Lt(r.largestBatchId,t.largestBatchId))}const SR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==SR)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((l=>l?J.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const _=v;i(t[_]).next((S=>{d[_]=S,++p,p===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new J(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function bR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function po(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const Om=-1;function dh(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function wR(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const fE="";function RR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=gv(t)),t=CR(r.get(i),t);return gv(t)}function CR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case fE:i+="";break;default:i+=c}}return i}function gv(r){return r+fE+""}function pv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Zr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function dE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=l??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ze(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ze.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new yv(this.data.getIterator())}getIteratorFrom(t){return new yv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class yv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ai{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new ai([])}unionWith(t){let i=new ze($e.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new ai(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return so(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new mE("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const IR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const i=IR.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:we(r.seconds),nanos:we(r.nanos)}}function we(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ar(r){return typeof r=="string"?We.fromBase64String(r):We.fromUint8Array(r)}const gE="server_timestamp",pE="__type__",yE="__previous_value__",_E="__local_write_time__";function xm(r){return(r?.mapValue?.fields||{})[pE]?.stringValue===gE}function mh(r){const t=r.mapValue.fields[yE];return xm(t)?mh(t):t}function Ul(r){const t=rr(r.mapValue.fields[_E].timestampValue);return new fe(t.seconds,t.nanos)}class NR{constructor(t,i,a,l,c,d,p,v,_,S,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=w}}const Jc="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}function DR(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ct($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(r.options.projectId,t)}const vE="__type__",OR="__max__",Cc={mapValue:{}},EE="__vector__",Zc="value";function or(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xm(r)?4:VR(r)?9007199254740991:xR(r)?10:11:vt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const i=or(r);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ul(r).isEqual(Ul(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=rr(l.timestampValue),p=rr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ar(l.bytesValue).isEqual(ar(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return we(l.geoPointValue.latitude)===we(c.geoPointValue.latitude)&&we(l.geoPointValue.longitude)===we(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return we(l.integerValue)===we(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=we(l.doubleValue),p=we(c.doubleValue);return d===p?Xc(d)===Xc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return so(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(pv(d)!==pv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ki(d[v],p[v])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Ll(r,t){return(r.values||[]).find((i=>ki(i,t)))!==void 0}function ro(r,t){if(r===t)return 0;const i=or(r),a=or(t);if(i!==a)return Lt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=we(c.integerValue||c.doubleValue),v=we(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return _v(r.timestampValue,t.timestampValue);case 4:return _v(Ul(r),Ul(t));case 5:return nm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=ar(c),v=ar(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const S=Lt(p[_],v[_]);if(S!==0)return S}return Lt(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Lt(we(c.latitude),we(d.latitude));return p!==0?p:Lt(we(c.longitude),we(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return vv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},_=p[Zc]?.arrayValue,S=v[Zc]?.arrayValue,w=Lt(_?.values?.length||0,S?.values?.length||0);return w!==0?w:vv(_,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let w=0;w<v.length&&w<S.length;++w){const U=nm(v[w],S[w]);if(U!==0)return U;const X=ro(p[v[w]],_[S[w]]);if(X!==0)return X}return Lt(v.length,S.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function _v(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Lt(r,t);const i=rr(r),a=rr(t),l=Lt(i.seconds,a.seconds);return l!==0?l:Lt(i.nanos,a.nanos)}function vv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ro(i[l],a[l]);if(c)return c}return Lt(i.length,a.length)}function ao(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=rr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ar(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=im(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function kc(r){switch(or(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return ar(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Zr(a.fields,((c,d)=>{l+=c.length+kc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function sm(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function Ev(r){return!!r&&"nullValue"in r}function Tv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function xR(r){return(r?.mapValue?.fields||{})[vE]?.stringValue===EE}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Zr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Il(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(r.arrayValue.values[i]);return t}return{...r}}function VR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===OR}class Hn{constructor(t){this.value=t}static empty(){return new Hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=$e.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Il(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Zr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Hn(Il(this.value))}}function TE(r){const t=[];return Zr(r.fields,((i,a)=>{const l=new $e([i]);if(Lc(a)){const c=TE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new ai(t)}class sn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new sn(t,0,St.min(),St.min(),St.min(),Hn.empty(),0)}static newFoundDocument(t,i,a,l){return new sn(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new sn(t,2,i,St.min(),St.min(),Hn.empty(),0)}static newUnknownDocument(t,i){return new sn(t,3,i,St.min(),St.min(),Hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(t,i){this.position=t,this.inclusive=i}}function Sv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=ro(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Av(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ki(r.position[i],t.position[i]))return!1;return!0}class Wc{constructor(t,i="asc"){this.field=t,this.dir=i}}function MR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class SE{}class Le extends SE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new kR(t,i,a):i==="array-contains"?new zR(t,a):i==="in"?new jR(t,a):i==="not-in"?new BR(t,a):i==="array-contains-any"?new qR(t,a):new Le(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new LR(t,a):new PR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ro(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(ro(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends SE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Li(t,i)}matches(t){return AE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AE(r){return r.op==="and"}function bE(r){return UR(r)&&AE(r)}function UR(r){for(const t of r.filters)if(t instanceof Li)return!1;return!0}function rm(r){if(r instanceof Le)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(bE(r))return r.filters.map((t=>rm(t))).join(",");{const t=r.filters.map((i=>rm(i))).join(",");return`${r.op}(${t})`}}function wE(r,t){return r instanceof Le?(function(a,l){return l instanceof Le&&a.op===l.op&&a.field.isEqual(l.field)&&ki(a.value,l.value)})(r,t):r instanceof Li?(function(a,l){return l instanceof Li&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&wE(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function RE(r){return r instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${ao(i.value)}`})(r):r instanceof Li?(function(i){return i.op.toString()+" {"+i.getFilters().map(RE).join(" ,")+"}"})(r):"Filter"}class kR extends Le{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class LR extends Le{constructor(t,i){super(t,"in",i),this.keys=CE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class PR extends Le{constructor(t,i){super(t,"not-in",i),this.keys=CE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function CE(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class zR extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&Ll(i.arrayValue,this.value)}}class jR extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class BR extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class qR extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ll(this.value.arrayValue,a)))}}class HR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function bv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new HR(r,t,i,a,l,c,d)}function Mm(r){const t=wt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>rm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ao(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ao(a))).join(",")),t.Te=i}return t.Te}function Um(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!MR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!wE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Av(r.startAt,t.startAt)&&Av(r.endAt,t.endAt)}function am(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function FR(r,t,i,a,l,c,d,p){return new gh(r,t,i,a,l,c,d,p)}function km(r){return new gh(r)}function wv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function GR(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function QR(r){return r.collectionGroup!==null}function Nl(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze($e.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Wc(c,a))})),i.has($e.keyField().canonicalString())||t.Ie.push(new Wc($e.keyField(),a))}return t.Ie}function Vi(r){const t=wt(r);return t.Ee||(t.Ee=KR(t,Nl(r))),t.Ee}function KR(r,t){if(r.limitType==="F")return bv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Wc(l.field,c)}));const i=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return bv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function om(r,t,i){return new gh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return Um(Vi(r),Vi(t))&&r.limitType===t.limitType}function IE(r){return`${Mm(Vi(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>RE(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ao(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ao(l))).join(",")),`Target(${a})`})(Vi(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Nl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const _=Sv(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,Nl(a),l)||a.endAt&&!(function(d,p,v){const _=Sv(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,Nl(a),l))})(r,t)}function YR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function NE(r){return(t,i)=>{let a=!1;for(const l of Nl(r)){const c=XR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function XR(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),_=p.data.field(c);return v!==null&&_!==null?ro(v,_):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class $r{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Zr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}const JR=new pe(mt.comparator);function us(){return JR}const DE=new pe(mt.comparator);function Al(...r){let t=DE;for(const i of r)t=t.insert(i.key,i);return t}function OE(r){let t=DE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Hr(){return Dl()}function xE(){return Dl()}function Dl(){return new $r((r=>r.toString()),((r,t)=>r.isEqual(t)))}const ZR=new pe(mt.comparator),$R=new ze(mt.comparator);function Pt(...r){let t=$R;for(const i of r)t=t.add(i);return t}const WR=new ze(Lt);function t2(){return WR}function Lm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(t)?"-0":t}}function VE(r){return{integerValue:""+r}}function e2(r,t){return wR(t)?VE(t):Lm(r,t)}class _h{constructor(){this._=void 0}}function n2(r,t,i){return r instanceof th?(function(l,c){const d={fields:{[pE]:{stringValue:gE},[_E]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&xm(c)&&(c=mh(c)),c&&(d.fields[yE]=c),{mapValue:d}})(i,t):r instanceof Pl?UE(r,t):r instanceof zl?kE(r,t):(function(l,c){const d=ME(l,c),p=Rv(d)+Rv(l.Ae);return sm(d)&&sm(l.Ae)?VE(p):Lm(l.serializer,p)})(r,t)}function i2(r,t,i){return r instanceof Pl?UE(r,t):r instanceof zl?kE(r,t):i}function ME(r,t){return r instanceof eh?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class th extends _h{}class Pl extends _h{constructor(t){super(),this.elements=t}}function UE(r,t){const i=LE(t);for(const a of r.elements)i.some((l=>ki(l,a)))||i.push(a);return{arrayValue:{values:i}}}class zl extends _h{constructor(t){super(),this.elements=t}}function kE(r,t){let i=LE(t);for(const a of r.elements)i=i.filter((l=>!ki(l,a)));return{arrayValue:{values:i}}}class eh extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Rv(r){return we(r.integerValue||r.doubleValue)}function LE(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function s2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Pl&&l instanceof Pl||a instanceof zl&&l instanceof zl?so(a.elements,l.elements,ki):a instanceof eh&&l instanceof eh?ki(a.Ae,l.Ae):a instanceof th&&l instanceof th})(r.transform,t.transform)}class r2{constructor(t,i){this.version=t,this.transformResults=i}}class oi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function PE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Pm(r.key,oi.none()):new Ql(r.key,r.data,oi.none());{const i=r.data,a=Hn.empty();let l=new ze($e.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Wr(r.key,a,new ai(l.toArray()),oi.none())}}function a2(r,t,i){r instanceof Ql?(function(l,c,d){const p=l.value.clone(),v=Iv(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Wr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Iv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(zE(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(r,t,i,a){return r instanceof Ql?(function(c,d,p,v){if(!Pc(c.precondition,d))return p;const _=c.value.clone(),S=Nv(c.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Wr?(function(c,d,p,v){if(!Pc(c.precondition,d))return p;const _=Nv(c.fieldTransforms,v,d),S=d.data;return S.setAll(zE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function o2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=ME(a.transform,l||null);c!=null&&(i===null&&(i=Hn.empty()),i.set(a.field,c))}return i||null}function Cv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&so(a,l,((c,d)=>s2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ql extends vh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wr extends vh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Iv(r,t,i){const a=new Map;Yt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,i2(d,p,i[l]))}return a}function Nv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,n2(c,d,t))}return a}class Pm extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l2 extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class u2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&a2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=xE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=PE(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&so(this.mutations,t.mutations,((i,a)=>Cv(i,a)))&&so(this.baseMutations,t.baseMutations,((i,a)=>Cv(i,a)))}}class zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return ZR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new zm(t,i,a,l)}}class c2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class h2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Me,qt;function f2(r){switch(r){case $.OK:return vt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function jE(r){if(r===void 0)return ls("GRPC error has no .code"),$.UNKNOWN;switch(r){case Me.OK:return $.OK;case Me.CANCELLED:return $.CANCELLED;case Me.UNKNOWN:return $.UNKNOWN;case Me.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Me.INTERNAL:return $.INTERNAL;case Me.UNAVAILABLE:return $.UNAVAILABLE;case Me.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Me.NOT_FOUND:return $.NOT_FOUND;case Me.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Me.ABORTED:return $.ABORTED;case Me.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Me.DATA_LOSS:return $.DATA_LOSS;default:return vt(39323,{code:r})}}(qt=Me||(Me={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function d2(){return new TextEncoder}const m2=new tr([4294967295,4294967295],0);function Dv(r){const t=d2().encode(r),i=new nE;return i.update(t),new Uint8Array(i.digest())}function Ov(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new tr([i,a],0),new tr([l,c],0)]}class jm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bl(`Invalid padding: ${i}`);if(a<0)throw new bl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=tr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(tr.fromNumber(a)));return l.compare(m2)===1&&(l=new tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Dv(t),[a,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new jm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Dv(t),[a,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(St.min(),l,new pe(Lt),us(),Pt())}}class Kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,Pt(),Pt(),Pt())}}class zc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class BE{constructor(t,i){this.targetId=t,this.Ce=i}}class qE{constructor(t,i,a=We.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class xv{constructor(){this.ve=0,this.Fe=Vv(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Vv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class g2{constructor(t){this.Ge=t,this.ze=new Map,this.je=us(),this.He=Ic(),this.Je=Ic(),this.Ze=new pe(Lt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(a===0){const d=new mt(c.path);this.et(i,d,sn.newNoDocument(d,St.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ar(a).toUint8Array()}catch(v){if(v instanceof mE)return io("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new jm(d,l,c)}catch(v){return io(v instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&am(p.target)){const v=new mt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,sn.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Pt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ze,this.je,a);return this.je=us(),this.He=Ic(),this.Je=Ic(),this.Ze=new pe(Lt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new xv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new ze(Lt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new ze(Lt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new xv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new pe(mt.comparator)}function Vv(){return new pe(mt.comparator)}const p2={asc:"ASCENDING",desc:"DESCENDING"},y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_2={and:"AND",or:"OR"};class v2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function nh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function HE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function E2(r,t){return nh(r,t.toTimestamp())}function Mi(r){return Yt(!!r,49232),St.fromTimestamp((function(i){const a=rr(i);return new fe(a.seconds,a.nanos)})(r))}function Bm(r,t){return um(r,t).canonicalString()}function um(r,t){const i=(function(l){return new he(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function FE(r){const t=he.fromString(r);return Yt(XE(t),10190,{key:t.toString()}),t}function cm(r,t){return Bm(r.databaseId,t.path)}function Pd(r,t){const i=FE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(QE(i))}function GE(r,t){return Bm(r.databaseId,t)}function T2(r){const t=FE(r);return t.length===4?he.emptyPath():QE(t)}function hm(r){return new he(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function QE(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Mv(r,t,i){return{name:cm(r,t),fields:i.value.mapValue.fields}}function S2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Yt(S===void 0||typeof S=="string",58123),We.fromBase64String(S||"")):(Yt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),We.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:jE(_.code);return new ct(S,_.message||"")})(d);i=new qE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Pd(r,a.document.name),c=Mi(a.document.updateTime),d=a.document.createTime?Mi(a.document.createTime):St.min(),p=new Hn({mapValue:{fields:a.document.fields}}),v=sn.newFoundDocument(l,c,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new zc(_,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Pd(r,a.document),c=a.readTime?Mi(a.readTime):St.min(),d=sn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Pd(r,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new h2(l,c),p=a.targetId;i=new BE(p,d)}}return i}function A2(r,t){let i;if(t instanceof Ql)i={update:Mv(r,t.key,t.value)};else if(t instanceof Pm)i={delete:cm(r,t.key)};else if(t instanceof Wr)i={update:Mv(r,t.key,t.data),updateMask:x2(t.fieldMask)};else{if(!(t instanceof l2))return vt(16599,{dt:t.type});i={verify:cm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:E2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function b2(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Mi(l.updateTime):Mi(c);return d.isEqual(St.min())&&(d=Mi(c)),new r2(d,l.transformResults||[])})(i,t)))):[]}function w2(r,t){return{documents:[GE(r,t.path)]}}function R2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=GE(r,l);const c=(function(_){if(_.length!==0)return YE(Li.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(U){return{field:Qa(U.field),direction:N2(U.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=lm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function C2(r){let t=T2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const U=KE(w);return U instanceof Li&&bE(U)?U.getFilters():[U]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((U=>(function(nt){return new Wc(Ka(nt.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(nt.direction))})(U)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let U;return U=typeof w=="object"?w.value:w,dh(U)?null:U})(i.limit));let v=null;i.startAt&&(v=(function(w){const U=!!w.before,X=w.values||[];return new $c(X,U)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const U=!w.before,X=w.values||[];return new $c(X,U)})(i.endAt)),FR(t,l,d,c,p,"F",v,_)}function I2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function KE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ka(i.unaryFilter.field);return Le.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(i.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Le.create(Ka(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Li.create(i.compositeFilter.filters.map((a=>KE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function N2(r){return p2[r]}function D2(r){return y2[r]}function O2(r){return _2[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return $e.fromServerFormat(r.fieldPath)}function YE(r){return r instanceof Le?(function(i){if(i.op==="=="){if(Tv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Tv(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(i.field),op:D2(i.op),value:i.value}}})(r):r instanceof Li?(function(i){const a=i.getFilters().map((l=>YE(l)));return a.length===1?a[0]:{compositeFilter:{op:O2(i.op),filters:a}}})(r):vt(54877,{filter:r})}function x2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function XE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function JE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Xs{constructor(t,i,a,l,c=St.min(),d=St.min(),p=We.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class V2{constructor(t){this.yt=t}}function M2(r){const t=C2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(t,t.limit,"L"):t}class U2{constructor(){this.Sn=new k2}addToCollectionParentIndex(t,i){return this.Sn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(sr.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class k2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(he.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(he.comparator)).toArray()}}const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(ZE,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class oo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new oo(0)}static ar(){return new oo(-1)}}const kv="LruGarbageCollector",L2=1048576;function Lv([r,t],[i,a]){const l=Lt(r,i);return l===0?Lt(t,a):l}class P2{constructor(t){this.Pr=t,this.buffer=new ze(Lv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Lv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class z2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(kv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){po(i)?ot(kv,"Ignoring IndexedDB error during garbage collection: ",i):await go(i)}await this.Ar(3e5)}))}}class j2{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(fh.ce);const a=new P2(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Uv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,v,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),Fa()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function B2(r,t){return new j2(r,t)}class q2{constructor(){this.changes=new $r((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class H2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class F2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ol(a.mutation,l,ai.empty(),fe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const l=Hr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Al();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Hr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=us();const d=Dl(),p=(function(){return Dl()})();return i.forEach(((v,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Wr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Ol(S.mutation,_,S.mutation.getFieldMask(),fe.now())):d.set(_.key,ai.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new H2(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Dl();let l=new pe(((d,p)=>d-p)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=a.get(v)||ai.empty();S=p.applyToLocalView(_,S),a.set(v,S);const w=(l.get(p.batchId)||Pt()).add(v);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,S=v.value,w=xE();S.forEach((U=>{if(!c.has(U)){const X=PE(i.get(U),a.get(U));X!==null&&w.set(U,X),c=c.add(U)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return GR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):QR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):J.resolve(Hr());let p=Ml,v=c;return d.next((_=>J.forEach(_,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(S)?J.resolve():this.remoteDocumentCache.getEntry(t,S).next((U=>{v=v.insert(S,U)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,v,_,Pt()))).next((S=>({batchId:p,changes:OE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=Al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((p=>J.forEach(p,(v=>{const _=(function(w,U){return new gh(U,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((S=>{S.forEach(((w,U)=>{d=d.insert(w,U)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,sn.newInvalidDocument(S)))}));let p=Al();return d.forEach(((v,_)=>{const S=c.get(v);S!==void 0&&Ol(S.mutation,_,ai.empty(),fe.now()),yh(i,_)&&(p=p.insert(v,_))})),p}))}}class G2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Mi(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:M2(l.bundledQuery),readTime:Mi(l.readTime)}})(i)),J.resolve()}}class Q2{constructor(){this.overlays=new pe(mt.comparator),this.Lr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Hr();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const l=Hr(),c=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new pe(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=Hr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=Hr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return J.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new c2(i,a));let c=this.Lr.get(i);c===void 0&&(c=Pt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class K2{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class qm{constructor(){this.kr=new ze(Fe.Kr),this.qr=new ze(Fe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Fe(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Fe(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new mt(new he([])),a=new Fe(i,t),l=new Fe(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new mt(new he([])),a=new Fe(i,t),l=new Fe(i,t+1);let c=Pt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Fe(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Fe{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return mt.comparator(t.key,i.key)||Lt(t.Hr,i.Hr)}static Ur(t,i){return Lt(t.Hr,i.Hr)||mt.comparator(t.key,i.key)}}class Y2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new ze(Fe.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new u2(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Fe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Om:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Fe(i,0),l=new Fe(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Lt);return i.forEach((l=>{const c=new Fe(l,0),d=new Fe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),J.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new Fe(new mt(c),0);let p=new ze(Lt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return J.forEach(i.mutations,(l=>{const c=new Fe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Fe(i,0),l=this.Jr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class X2{constructor(t){this.ti=t,this.docs=(function(){return new pe(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(t,i){let a=us();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=us();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||TR(ER(S),a)<=0||(l.has(S.key)||yh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ni(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new J2(this)}getSize(t){return J.resolve(this.size)}}class J2 extends q2{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class Z2{constructor(t){this.persistence=t,this.ri=new $r((i=>Mm(i)),Um),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.ii=0,this.si=new qm,this.targetCount=0,this.oi=oo._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),J.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new oo(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.lr(i),J.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),J.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this.si.containsKey(i))}}class $E{constructor(t,i){this._i={},this.overlays={},this.ai=new fh(0),this.ui=!1,this.ui=!0,this.ci=new K2,this.referenceDelegate=t(this),this.li=new Z2(this),this.indexManager=new U2,this.remoteDocumentCache=(function(l){return new X2(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new V2(i),this.Pi=new G2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Q2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new Y2(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new $2(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return J.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class $2 extends AR{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new qm,this.Ai=null}static Vi(t){return new Hm(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(a=>{const l=mt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ih{constructor(t,i){this.persistence=t,this.fi=new $r((a=>RR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=B2(this,i)}static Vi(t,i){return new ih(t,i)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return J.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),J.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}wr(t,i,a){return J.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Fm(t,i.fromCache,a,l)}}class W2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class tC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return BS()?8:bR(rn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new W2;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Fa()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ga(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Fa()<=kt.DEBUG&&ot("QueryEngine","Query:",Ga(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Fa()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ga(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):J.resolve())}gs(t,i){if(wv(i))return J.resolve(null);let a=Vi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),a=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Pt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(t,om(i,null,"F")):this.Ds(t,_,i,v)}))))})))))}ps(t,i,a,l){return wv(i)||l.isEqual(St.min())?J.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?J.resolve(null):(Fa()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(i)),this.Ds(t,d,i,vR(l,Ml)).next((p=>p)))}))}bs(t,i){let a=new ze(NE(t));return i.forEach(((l,c)=>{yh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Fa()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ga(i)),this.fs.getDocumentsMatchingQuery(t,i,sr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",eC=3e8;class nC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new pe(Lt),this.Fs=new $r((c=>Mm(c)),Um),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new F2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function iC(r,t,i,a){return new nC(r,t,i,a)}async function WE(r,t){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Pt();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of c){p.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function sC(r,t){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,S){const w=_.batch,U=w.keys();let X=J.resolve();return U.forEach((nt=>{X=X.next((()=>S.getEntry(v,nt))).next((st=>{const et=_.docVersions.get(nt);Yt(et!==null,48541),st.version.compareTo(et)<0&&(w.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),S.addEntry(st)))}))})),X.next((()=>p.mutationQueue.removeMutationBatch(v,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Pt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function tT(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function rC(r,t){const i=wt(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((S,w)=>{const U=l.get(w);if(!U)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,w))));let X=U.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?X=X.withResumeToken(We.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):S.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(S.resumeToken,a)),l=l.insert(w,X),(function(st,et,gt){return st.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=eC?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(U,X,S)&&p.push(i.li.updateTargetData(c,X))}));let v=us(),_=Pt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(aC(c,d,t.documentUpdates).next((S=>{v=S.Bs,_=S.Ls}))),!a.isEqual(St.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return J.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(i.vs=l,c)))}function aC(r,t,i){let a=Pt(),l=Pt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=us();return i.forEach(((p,v)=>{const _=c.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(St.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):ot(Gm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function oC(r,t){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Om),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function lC(r,t){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,J.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Xs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function fm(r,t,i){const a=wt(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!po(d))throw d;ot(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Pv(r,t,i){const a=wt(r);let l=St.min(),c=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const w=wt(v),U=w.Fs.get(S);return U!==void 0?J.resolve(w.vs.get(U)):w.li.getTargetData(_,S)})(a,d,Vi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:Pt()))).next((p=>(uC(a,YR(t),p),{documents:p,ks:c})))))}function uC(r,t,i){let a=r.Ms.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class zv{constructor(){this.activeTargetIds=t2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cC{constructor(){this.vo=new zv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new zv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class hC{Mo(t){}shutdown(){}}const jv="ConnectivityMonitor";class Bv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(jv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(jv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function dm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const zd="RestConnection",fC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class dC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=dm(),p=this.Qo(t,i.toUriEncodedString());ot(zd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:_}=new URL(p),S=co(_);return this.zo(t,p,v,a,S).then((w=>(ot(zd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw io(zd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=fC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class mC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const en="WebChannelConnection",Tl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Wa extends dC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Wa.c_){const t=aE();Tl(t,rE.STAT_EVENT,(i=>{i.stat===em.PROXY?ot(en,"STAT_EVENT: detected buffering proxy"):i.stat===em.NOPROXY&&ot(en,"STAT_EVENT: detected no buffering proxy")})),Wa.c_=!0}}zo(t,i,a,l,c){const d=dm();return new Promise(((p,v)=>{const _=new iE;_.setWithCredentials(!0),_.listenOnce(sE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uc.NO_ERROR:const w=_.getResponseJson();ot(en,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Uc.TIMEOUT:ot(en,`RPC '${t}' ${d} timed out`),v(new ct($.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const U=_.getStatus();if(ot(en,`RPC '${t}' ${d} failed with status:`,U,"response text:",_.getResponseText()),U>0){let X=_.getResponseJson();Array.isArray(X)&&(X=X[0]);const nt=X?.error;if(nt&&nt.status&&nt.message){const st=(function(gt){const At=gt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(At)>=0?At:$.UNKNOWN})(nt.status);v(new ct(st,nt.message))}else v(new ct($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ct($.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(en,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);ot(en,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=dm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const _=c.join("");ot(en,`Creating RPC '${t}' stream ${l}: ${_}`,p);const S=d.createWebChannel(_,p);this.I_(S);let w=!1,U=!1;const X=new mC({Ho:nt=>{U?ot(en,`Not sending because RPC '${t}' stream ${l} is closed:`,nt):(w||(ot(en,`Opening RPC '${t}' stream ${l} transport.`),S.open(),w=!0),ot(en,`RPC '${t}' stream ${l} sending:`,nt),S.send(nt))},Jo:()=>S.close()});return Tl(S,Sl.EventType.OPEN,(()=>{U||(ot(en,`RPC '${t}' stream ${l} transport opened.`),X.i_())})),Tl(S,Sl.EventType.CLOSE,(()=>{U||(U=!0,ot(en,`RPC '${t}' stream ${l} transport closed`),X.o_(),this.E_(S))})),Tl(S,Sl.EventType.ERROR,(nt=>{U||(U=!0,io(en,`RPC '${t}' stream ${l} transport errored. Name:`,nt.name,"Message:",nt.message),X.o_(new ct($.UNAVAILABLE,"The operation could not be completed")))})),Tl(S,Sl.EventType.MESSAGE,(nt=>{if(!U){const st=nt.data[0];Yt(!!st,16349);const et=st,gt=et?.error||et[0]?.error;if(gt){ot(en,`RPC '${t}' stream ${l} received error:`,gt);const At=gt.status;let Et=(function(Bt){const I=Me[Bt];if(I!==void 0)return jE(I)})(At),te=gt.message;Et===void 0&&(Et=$.INTERNAL,te="Unknown error status: "+At+" with message "+gt.message),U=!0,X.o_(new ct(Et,te)),S.close()}else ot(en,`RPC '${t}' stream ${l} received:`,st),X.__(st)}})),Wa.u_(),setTimeout((()=>{X.s_()}),0),X}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return oE()}}function gC(r){return new Wa(r)}function jd(){return typeof document<"u"?document:null}function Th(r){return new v2(r,!0)}Wa.c_=!1;class eT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const qv="PersistentStream";class nT{constructor(t,i,a,l,c,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ls(i.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pC extends nT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=S2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Mi(d.readTime):St.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=am(v)?{documents:w2(c,v)}:{query:R2(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=HE(c,d.resumeToken);const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=nh(c,d.snapshotVersion.toTimestamp());const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=I2(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.K_(i)}}class yC extends nT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=b2(t.writeResults,t.commitTime),a=Mi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=hm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>A2(this.serializer,a)))};this.K_(i)}}class _C{}class vC extends _C{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,um(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,um(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function EC(r,t,i,a){return new vC(r,t,i,a)}class TC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class SC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ta(this)&&(ot(Jr,"Restarting streams for network reachability change."),await(async function(v){const _=wt(v);_.Ea.add(4),await Yl(_),_.Va.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Va=new TC(a,l)}}async function Sh(r){if(ta(r))for(const t of r.Ra)await t(!0)}async function Yl(r){for(const t of r.Ra)await t(!1)}function iT(r,t){const i=wt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Ym(i):yo(i).O_()&&Km(i,t))}function Qm(r,t){const i=wt(r),a=yo(i);i.Ia.delete(t),a.O_()&&sT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ta(i)&&i.Va.set("Unknown"))}function Km(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}yo(r).Z_(t)}function sT(r,t){r.da.$e(t),yo(r).X_(t)}function Ym(r){r.da=new g2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),yo(r).start(),r.Va.ua()}function Xm(r){return ta(r)&&!yo(r).x_()&&r.Ia.size>0}function ta(r){return wt(r).Ea.size===0}function rT(r){r.da=void 0}async function AC(r){r.Va.set("Online")}async function bC(r){r.Ia.forEach(((t,i)=>{Km(r,t)}))}async function wC(r,t){rT(r),Xm(r)?(r.Va.ha(t),Ym(r)):r.Va.set("Unknown")}async function RC(r,t,i){if(r.Va.set("Online"),t instanceof qE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(a){ot(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(r,a)}else if(t instanceof zc?r.da.Xe(t):t instanceof BE?r.da.st(t):r.da.tt(t),!i.isEqual(St.min()))try{const a=await tT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const S=c.Ia.get(v);if(!S)return;c.Ia.set(v,S.withResumeToken(We.EMPTY_BYTE_STRING,S.snapshotVersion)),sT(c,v);const w=new Xs(S.target,v,_,S.sequenceNumber);Km(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ot(Jr,"Failed to raise snapshot:",a),await sh(r,a)}}async function sh(r,t,i){if(!po(t))throw t;r.Ea.add(1),await Yl(r),r.Va.set("Offline"),i||(i=()=>tT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Jr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sh(r)}))}function aT(r,t){return t().catch((i=>sh(r,i,t)))}async function Ah(r){const t=wt(r),i=lr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Om;for(;CC(t);)try{const l=await oC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,IC(t,l)}catch(l){await sh(t,l)}oT(t)&&lT(t)}function CC(r){return ta(r)&&r.Ta.length<10}function IC(r,t){r.Ta.push(t);const i=lr(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function oT(r){return ta(r)&&!lr(r).x_()&&r.Ta.length>0}function lT(r){lr(r).start()}async function NC(r){lr(r).ra()}async function DC(r){const t=lr(r);for(const i of r.Ta)t.ea(i.mutations)}async function OC(r,t,i){const a=r.Ta.shift(),l=zm.from(a,t,i);await aT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ah(r)}async function xC(r,t){t&&lr(r).Y_&&await(async function(a,l){if((function(d){return f2(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();lr(a).B_(),await aT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(a)}})(r,t),oT(r)&&lT(r)}async function Hv(r,t){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),ot(Jr,"RemoteStore received new credentials");const a=ta(i);i.Ea.add(3),await Yl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function VC(r,t){const i=wt(r);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Yl(i),i.Va.set("Unknown"))}function yo(r){return r.ma||(r.ma=(function(i,a,l){const c=wt(i);return c.sa(),new pC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:AC.bind(null,r),Yo:bC.bind(null,r),t_:wC.bind(null,r),J_:RC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Xm(r)?Ym(r):r.Va.set("Unknown")):(await r.ma.stop(),rT(r))}))),r.ma}function lr(r){return r.fa||(r.fa=(function(i,a,l){const c=wt(i);return c.sa(),new yC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:NC.bind(null,r),t_:xC.bind(null,r),ta:DC.bind(null,r),na:OC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Ah(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Jr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Jm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Jm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(r,t){if(ls("AsyncQueue",`${t}: ${r}`),po(r))return new ct($.UNAVAILABLE,`${t}: ${r}`);throw r}class to{static emptySet(t){return new to(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=Al(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof to)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new to;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Fv{constructor(){this.ga=new pe(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class lo{constructor(t,i,a,l,c,d,p,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new lo(t,i,to.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class MC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class UC{constructor(){this.queries=Gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=Gv(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ct($.ABORTED,"Firestore shutting down"))}}function Gv(){return new $r((r=>IE(r)),ph)}async function kC(r,t){const i=wt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new MC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Zm(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&$m(i)}async function LC(r,t){const i=wt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function PC(r,t){const i=wt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&$m(i)}function zC(r,t,i){const a=wt(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function $m(r){r.Ca.forEach((t=>{t.next()}))}var mm,Qv;(Qv=mm||(mm={})).Ma="default",Qv.Cache="cache";class jC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new lo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class uT{constructor(t){this.key=t}}class cT{constructor(t){this.key=t}}class BC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=NE(t),this.tu=new to(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Fv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,w)=>{const U=l.get(S),X=yh(this.query,w)?w:null,nt=!!U&&this.mutatedKeys.has(U.key),st=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let et=!1;U&&X?U.data.isEqual(X.data)?nt!==st&&(a.track({type:3,doc:X}),et=!0):this.su(U,X)||(a.track({type:2,doc:X}),et=!0,(v&&this.eu(X,v)>0||_&&this.eu(X,_)<0)&&(p=!0)):!U&&X?(a.track({type:0,doc:X}),et=!0):U&&!X&&(a.track({type:1,doc:U}),et=!0,(v||_)&&(p=!0)),et&&(X?(d=d.add(X),c=st?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,w)=>(function(X,nt){const st=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:et})}};return st(X)-st(nt)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new lo(this.query,t.tu,c,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Fv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new cT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new uT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wm="SyncEngine";class qC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class HC{constructor(t){this.key=t,this.hu=!1}}class FC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $r((p=>IE(p)),ph),this.Iu=new Map,this.Eu=new Set,this.Ru=new pe(mt.comparator),this.Au=new Map,this.Vu=new qm,this.du={},this.mu=new Map,this.fu=oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GC(r,t,i=!0){const a=pT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await hT(a,t,i,!0),l}async function QC(r,t){const i=pT(r);await hT(i,t,!0,!1)}async function hT(r,t,i,a){const l=await lC(r.localStore,Vi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await KC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&iT(r.remoteStore,l),p}async function KC(r,t,i,a,l){r.pu=(w,U,X)=>(async function(st,et,gt,At){let Et=et.view.ru(gt);Et.Ss&&(Et=await Pv(st.localStore,et.query,!1).then((({documents:I})=>et.view.ru(I,Et))));const te=At&&At.targetChanges.get(et.targetId),de=At&&At.targetMismatches.get(et.targetId)!=null,Bt=et.view.applyChanges(Et,st.isPrimaryClient,te,de);return Yv(st,et.targetId,Bt.au),Bt.snapshot})(r,w,U,X);const c=await Pv(r.localStore,t,!0),d=new BC(t,c.ks),p=d.ru(c.documents),v=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,v);Yv(r,i,_.au);const S=new qC(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function YC(r,t,i){const a=wt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Qm(a.remoteStore,l.targetId),gm(a,l.targetId)})).catch(go)):(gm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function XC(r,t){const i=wt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Qm(i.remoteStore,a.targetId))}async function JC(r,t,i){const a=iI(r);try{const l=await(function(d,p){const v=wt(d),_=fe.now(),S=p.reduce(((X,nt)=>X.add(nt.key)),Pt());let w,U;return v.persistence.runTransaction("Locally write mutations","readwrite",(X=>{let nt=us(),st=Pt();return v.xs.getEntries(X,S).next((et=>{nt=et,nt.forEach(((gt,At)=>{At.isValidDocument()||(st=st.add(gt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(X,nt))).next((et=>{w=et;const gt=[];for(const At of p){const Et=o2(At,w.get(At.key).overlayedDocument);Et!=null&&gt.push(new Wr(At.key,Et,TE(Et.value.mapValue),oi.exists(!0)))}return v.mutationQueue.addMutationBatch(X,_,gt,p)})).next((et=>{U=et;const gt=et.applyToLocalDocumentSet(w,st);return v.documentOverlayCache.saveOverlays(X,et.batchId,gt)}))})).then((()=>({batchId:U.batchId,changes:OE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new pe(Lt)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await Xl(a,l.changes),await Ah(a.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");i.reject(c)}}async function fT(r,t){const i=wt(r);try{const a=await rC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Xl(i,a,t)}catch(a){await go(a)}}function Kv(r,t,i){const a=wt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=wt(d);v.onlineState=p;let _=!1;v.queries.forEach(((S,w)=>{for(const U of w.ba)U.va(p)&&(_=!0)})),_&&$m(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ZC(r,t,i){const a=wt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new pe(mt.comparator);d=d.insert(c,sn.newNoDocument(c,St.min()));const p=Pt().add(c),v=new Eh(St.min(),new Map,new pe(Lt),d,p);await fT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),tg(a)}else await fm(a.localStore,t,!1).then((()=>gm(a,t,i))).catch(go)}async function $C(r,t){const i=wt(r),a=t.batch.batchId;try{const l=await sC(i.localStore,t);mT(i,a,null),dT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await go(l)}}async function WC(r,t,i){const a=wt(r);try{const l=await(function(d,p){const v=wt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,p).next((w=>(Yt(w!==null,37113),S=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(a.localStore,t);mT(a,t,i),dT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xl(a,l)}catch(l){await go(l)}}function dT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function mT(r,t,i){const a=wt(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function gm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||gT(r,a)}))}function gT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Qm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),tg(r))}function Yv(r,t,i){for(const a of i)a instanceof uT?(r.Vu.addReference(a.key,t),tI(r,a)):a instanceof cT?(ot(Wm,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||gT(r,a.key)):vt(19791,{wu:a})}function tI(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(ot(Wm,"New document in limbo: "+i),r.Eu.add(a),tg(r))}function tg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(he.fromString(t)),a=r.fu.next();r.Au.set(a,new HC(i)),r.Ru=r.Ru.insert(i,a),iT(r.remoteStore,new Xs(Vi(km(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Xl(r,t,i){const a=wt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Fm.Es(v.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,_){const S=wt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(_,(U=>J.forEach(U.Ts,(X=>S.persistence.referenceDelegate.addReference(w,U.targetId,X))).next((()=>J.forEach(U.Is,(X=>S.persistence.referenceDelegate.removeReference(w,U.targetId,X)))))))))}catch(w){if(!po(w))throw w;ot(Gm,"Failed to update sequence numbers: "+w)}for(const w of _){const U=w.targetId;if(!w.fromCache){const X=S.vs.get(U),nt=X.snapshotVersion,st=X.withLastLimboFreeSnapshotVersion(nt);S.vs=S.vs.insert(U,st)}}})(a.localStore,c))}async function eI(r,t){const i=wt(r);if(!i.currentUser.isEqual(t)){ot(Wm,"User change. New user:",t.toKey());const a=await WE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ct($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.Ns)}}function nI(r,t){const i=wt(r),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function pT(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ZC.bind(null,t),t.Pu.J_=PC.bind(null,t.eventManager),t.Pu.yu=zC.bind(null,t.eventManager),t}function iI(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$C.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WC.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return iC(this.persistence,new tC,t.initialUser,this.serializer)}Cu(t){return new $E(Hm.Vi,this.serializer)}Du(t){return new cC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class sI extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new z2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new $E((a=>ih.Vi(a,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Kv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=eI.bind(null,this.syncEngine),await VC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new UC})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=gC(t.databaseInfo);return EC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new SC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Kv(this.syncEngine,i,0)),(function(){return Bv.v()?new Bv:new hC})())}createSyncEngine(t,i){return(function(l,c,d,p,v,_,S){const w=new FC(l,c,d,p,v,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);ot(Jr,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class rI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ur="FirestoreClient";class aI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Bd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(ur,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await WE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Xv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await oI(r);ot(ur,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Hv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Hv(t.remoteStore,l))),r._onlineComponents=t}async function oI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(ur,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;io("Error using user provided cache. Falling back to memory cache: "+i),await Bd(r,new rh)}}else ot(ur,"Using default OfflineComponentProvider"),await Bd(r,new sI(void 0));return r._offlineComponents}async function yT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(ur,"Using user provided OnlineComponentProvider"),await Xv(r,r._uninitializedComponentsProvider._online)):(ot(ur,"Using default OnlineComponentProvider"),await Xv(r,new pm))),r._onlineComponents}function lI(r){return yT(r).then((t=>t.syncEngine))}async function Jv(r){const t=await yT(r),i=t.eventManager;return i.onListen=GC.bind(null,t.syncEngine),i.onUnlisten=YC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=QC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=XC.bind(null,t.syncEngine),i}function uI(r,t,i,a){const l=new rI(a),c=new jC(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>kC(await Jv(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>LC(await Jv(r),c)))}}function cI(r,t){const i=new Fr;return r.asyncQueue.enqueueAndForget((async()=>JC(await lI(r),t,i))),i.promise}function _T(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const hI="ComponentProvider",Zv=new Map;function fI(r,t,i,a,l){return new NR(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,_T(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const vT="firestore.googleapis.com",$v=!0;class Wv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=$v}else this.host=t.host,this.ssl=t.ssl??$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<L2)throw new ct($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_R("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new lR;switch(a.type){case"firstParty":return new fR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Zv.get(i);a&&(ot(hI,"Removing Datastore"),Zv.delete(i),a.terminate())})(this),Promise.resolve()}}function dI(r,t,i,a={}){r=er(r,bh);const l=co(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(p0(`https://${p}`),y0("Firestore",!0)),c.host!==vT&&c.host!==p&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!Qr(v,d)&&(r._setSettings(v),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=nn.MOCK_USER;else{_=xS(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ct($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new nn(w)}r._authCredentials=new uR(new uE(_,S))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class Pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pe(this.firestore,t,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Gl(i,Pe._jsonSchema))return new Pe(t,a||null,new mt(he.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:Ue("string",Pe._jsonSchemaVersion),referencePath:Ue("string")};class nr extends wh{constructor(t,i,a){super(t,i,km(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pe(this.firestore,null,new mt(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function t0(r,t,...i){if(r=Nn(r),cE("collection","path",t),r instanceof bh){const a=he.fromString(t,...i);return fv(a),new nr(r,null,a)}{if(!(r instanceof Pe||r instanceof nr))throw new ct($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(he.fromString(t,...i));return fv(a),new nr(r.firestore,null,a)}}function Ya(r,t,...i){if(r=Nn(r),arguments.length===1&&(t=Nm.newId()),cE("doc","path",t),r instanceof bh){const a=he.fromString(t,...i);return hv(a),new Pe(r,null,new mt(a))}{if(!(r instanceof Pe||r instanceof nr))throw new ct($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(he.fromString(t,...i));return hv(a),new Pe(r.firestore,r instanceof nr?r.converter:null,new mt(a))}}const e0="AsyncQueue";class n0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eT(this,"async_queue_retry"),this._c=()=>{const a=jd();a&&ot(e0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!po(t))throw t;ot(e0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",i0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Jm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:i0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function i0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class uo extends bh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new n0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new n0(t),this._firestoreClient=void 0,await t}}}function mI(r,t){const i=typeof r=="object"?r:T0(),a=typeof r=="string"?r:Jc,l=Em(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=DS("firestore");c&&dI(l,...c)}return l}function ET(r){if(r._terminated)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||gI(r),r._firestoreClient}function gI(r){const t=r._freezeSettings(),i=fI(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new aI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Fn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fn(We.fromBase64String(t))}catch(i){throw new ct($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Fn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,Fn._jsonSchema))return Fn.fromBase64String(t.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ue("string",Fn._jsonSchemaVersion),bytes:Ue("string")};class TT{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ST{constructor(t){this._methodName=t}}class Ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Ue("string",Ui._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class li{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,li._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new li(t.vectorValues);throw new ct($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Ue("string",li._jsonSchemaVersion),vectorValues:Ue("object")};const pI=/^__.*__$/;class yI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Wr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}function AT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:r})}}class eg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new eg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ah(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(AT(this.dataSource)&&pI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class _I{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}createContext(t,i,a,l=!1){return new eg({dataSource:t,methodName:i,targetDoc:a,path:$e.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bT(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new _I(r._databaseId,!!t.ignoreUndefinedProperties,i)}function wT(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);NT("Data must be an object, but it was:",d,a);const p=CT(a,d);let v,_;if(c.merge)v=new ai(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const U=ng(t,w,i);if(!d.contains(U))throw new ct($.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);TI(S,U)||S.push(U)}v=new ai(S),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new yI(new Hn(p),v,_)}function RT(r,t){if(IT(r=Nn(r)))return NT("Unsupported field value:",t,r),CT(r,t);if(r instanceof ST)return(function(a,l){if(!AT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=RT(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Nn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return e2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=fe.fromDate(a);return{timestampValue:nh(l.serializer,c)}}if(a instanceof fe){const c=new fe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nh(l.serializer,c)}}if(a instanceof Ui)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Fn)return{bytesValue:HE(l.serializer,a._byteString)};if(a instanceof Pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof li)return(function(d,p){const v=d instanceof li?d.toArray():d;return{mapValue:{fields:{[vE]:{stringValue:EE},[Zc]:{arrayValue:{values:v.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Lm(p.serializer,S)}))}}}}}})(a,l);if(JE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Dm(a)}`)})(r,t)}function CT(r,t){const i={};return dE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(r,((a,l)=>{const c=RT(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function IT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof fe||r instanceof Ui||r instanceof Fn||r instanceof Pe||r instanceof ST||r instanceof li||JE(r))}function NT(r,t,i){if(!IT(i)||!hE(i)){const a=Dm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function ng(r,t,i){if((t=Nn(t))instanceof TT)return t._internalPath;if(typeof t=="string")return EI(r,t);throw ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const vI=new RegExp("[~\\*/\\[\\]]");function EI(r,t,i){if(t.search(vI)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new TT(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ah(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ct($.INVALID_ARGUMENT,p+r+v)}function TI(r,t){return r.some((i=>i.isEqual(t)))}class SI{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Zr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((a=>we(a.doubleValue)));return new li(i)}convertGeoPoint(t){return new Ui(we(t.latitude),we(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=rr(t);return new fe(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=he.fromString(t);Yt(XE(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return l.isEqual(i)||ls(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class DT extends SI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}const s0="@firebase/firestore",r0="4.10.0";function a0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class OT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(ng("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class AI extends OT{data(){return super.data()}}function bI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function xT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class wl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends OT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(ng("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Ue("string",Gr._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class jc extends Gr{data(t={}){return super.data(t)}}class eo{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new wl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new wl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new jc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:wI(p.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=eo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function wI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}eo._jsonSchemaVersion="firestore/querySnapshot/1.0",eo._jsonSchema={type:Ue("string",eo._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};function o0(r,t,i){r=er(r,Pe);const a=er(r.firestore,uo),l=xT(r.converter,t,i),c=bT(a);return ig(a,[wT(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,oi.none())])}function RI(r){return ig(er(r.firestore,uo),[new Pm(r._key,oi.none())])}function CI(r,t){const i=er(r.firestore,uo),a=Ya(r),l=xT(r.converter,t),c=bT(r.firestore);return ig(i,[wT(c,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,oi.exists(!1))]).then((()=>a))}function qd(r,...t){r=Nn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||a0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(a0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Pe)d=er(r.firestore,uo),p=km(r._key.path),c={next:_=>{t[a]&&t[a](II(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=er(r,wh);d=er(_.firestore,uo),p=_._query;const S=new DT(d);c={next:w=>{t[a]&&t[a](new eo(d,S,_,w))},error:t[a+1],complete:t[a+2]},bI(r._query)}const v=ET(d);return uI(v,p,l,c)}function ig(r,t){const i=ET(r);return cI(i,t)}function II(r,t,i){const a=i.docs.get(t._key),l=new DT(r);return new Gr(r,l,t._key,a,new wl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){oR(ho),no(new Kr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new uo(new cR(a.getProvider("auth-internal")),new dR(d,a.getProvider("app-check-internal")),DR(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),$s(s0,r0,t),$s(s0,r0,"esm2020")})();const NI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),l0=r=>{const t=DI(r);return t.charAt(0).toUpperCase()+t.slice(1)},VT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),OI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var xI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VI=Wt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},v)=>Wt.createElement("svg",{ref:v,...xI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:VT("lucide",l),...!c&&!OI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,S])=>Wt.createElement(_,S)),...Array.isArray(c)?c:[c]]));const vn=(r,t)=>{const i=Wt.forwardRef(({className:a,...l},c)=>Wt.createElement(VI,{ref:c,iconNode:t,className:VT(`lucide-${NI(l0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=l0(r),i};const MI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],UI=vn("circle-arrow-down",MI);const kI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],LI=vn("circle-arrow-up",kI);const PI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],zI=vn("circle-minus",PI);const jI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],BI=vn("coins",jI);const qI=[["path",{d:"M12 2C8 2 4 8 4 14a8 8 0 0 0 16 0c0-6-4-12-8-12",key:"1le142"}]],Dc=vn("egg",qI);const HI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],FI=vn("history",HI);const GI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],QI=vn("layout-dashboard",GI);const KI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],YI=vn("lock-open",KI);const XI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],MT=vn("lock",XI);const JI=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ZI=vn("phone",JI);const $I=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WI=vn("settings",$I);const tN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],eN=vn("trending-up",tN);const nN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],iN=vn("user-minus",nN);const sN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rN=vn("users",sN),aN={apiKey:"AIzaSyBOWUydDyASpw664VN7kkkUNJUPekpTmQA",authDomain:"nishad-agro.firebaseapp.com",projectId:"nishad-agro",storageBucket:"nishad-agro.firebasestorage.app",messagingSenderId:"984825143099",appId:"1:984825143099:web:c48e6e399fc98ee257211e"},UT=E0(aN),u0=rR(UT),zr=mI(UT),jr="nishad-agro-live",Hd=[" "," "," "],Fd=["  ","   ",""],Gd={pis:{label:"",value:1},hali:{label:" ()",value:4},dojon:{label:" ()",value:12},case:{label:" ()",value:30},soto:{label:" ()",value:100}},Fs=({label:r,type:t="text",value:i,onChange:a,placeholder:l,required:c=!1,readOnly:d=!1,className:p=""})=>z.jsxs("div",{className:`mb-3 ${p}`,children:[r&&z.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r," ",c&&z.jsx("span",{className:"text-red-500",children:"*"})]}),z.jsx("input",{type:t,value:i,onChange:a,placeholder:l,readOnly:d,className:`w-full px-3 py-2 border ${c&&!i?"border-red-300 focus:ring-red-200":"border-gray-300 focus:ring-orange-500"} rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-all ${d?"bg-gray-100 text-gray-500 cursor-not-allowed":""}`,required:c})]}),Qd=({label:r,value:t,onChange:i,options:a,disabled:l=!1})=>z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r}),z.jsx("select",{value:t,onChange:i,disabled:l,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-white ${l?"bg-gray-100 text-gray-500 cursor-not-allowed":""}`,children:a.map(c=>z.jsx("option",{value:c.value,children:c.label},c.value))})]}),Br=({title:r,value:t,subValue:i,icon:a,color:l,blurred:c=!1})=>z.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow relative overflow-hidden h-full",children:[z.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 transform translate-x-4 -translate-y-4 rounded-full opacity-10 ${l.replace("text","bg")}`}),z.jsx("div",{className:"flex justify-between items-start mb-2 relative z-10",children:z.jsx("div",{className:`p-2 rounded-lg ${l} bg-opacity-10`,children:z.jsx(a,{size:24,className:l.replace("bg-","text-")})})}),z.jsx("h3",{className:"text-gray-500 text-sm font-medium mb-1 relative z-10",children:r}),c?z.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[z.jsx("div",{className:"text-2xl font-bold text-gray-300 blur-sm select-none",children:""}),z.jsx(MT,{size:16,className:"text-gray-400"})]}):z.jsx("div",{className:"text-2xl font-bold text-gray-800 relative z-10",children:t}),i&&!c&&z.jsx("div",{className:"text-xs text-gray-500 mt-1 relative z-10",children:i})]});function oN(){const[r,t]=Wt.useState(null),[i,a]=Wt.useState("dashboard"),[l,c]=Wt.useState([]),[d,p]=Wt.useState(!0),[v,_]=Wt.useState(!1),[S,w]=Wt.useState("all"),[U,X]=Wt.useState("all"),[nt,st]=Wt.useState(new Date().toISOString().split("T")[0]),[et,gt]=Wt.useState("guest"),[At,Et]=Wt.useState(""),[te,de]=Wt.useState("665911"),[Bt,I]=Wt.useState("1234"),[A,C]=Wt.useState(""),[x,N]=Wt.useState(""),[V,b]=Wt.useState({retail:{" ":{pis:"",hali:"",case:"",dojon:"",soto:""}," ":{pis:"",hali:"",case:"",dojon:"",soto:""}," ":{pis:"",hali:"",case:"",dojon:"",soto:""}},wholesale:{" ":""," ":""," ":""}}),[Z,Ot]=Wt.useState({type:"sell",saleCategory:"retail",eggType:" ",unit:"pis",quantity:"",rate:"",description:"",customerName:"",discount:"",paidAmount:"",amount:"",date:new Date().toISOString().split("T")[0]});Wt.useEffect(()=>{(async()=>{try{await qb(u0)}catch(ft){console.error("Auth Error:",ft)}})();const rt=Yb(u0,ft=>{t(ft),ft||p(!1)});return()=>rt()},[]),Wt.useEffect(()=>{if(!r)return;const B=t0(zr,"artifacts",jr,"users",r.uid,"egg_transactions_v2"),rt=qd(B,ye=>{const Xt=ye.docs.map(Ct=>({id:Ct.id,...Ct.data()}));Xt.sort((Ct,cn)=>new Date(cn.createdAt)-new Date(Ct.createdAt)),c(Xt),p(!1)}),ft=Ya(zr,"artifacts",jr,"users",r.uid,"settings","rates"),pt=qd(ft,ye=>{if(ye.exists()){const Xt=ye.data();Xt.retail&&typeof Xt.retail[" "]!="object"||b(Xt)}}),oe=Ya(zr,"artifacts",jr,"users",r.uid,"settings","auth"),je=qd(oe,ye=>{if(ye.exists()){const Xt=ye.data();Xt.adminPassword&&de(Xt.adminPassword),Xt.subAdminPassword&&I(Xt.subAdminPassword)}});return()=>{rt(),pt(),je()}},[r]),Wt.useEffect(()=>{if(Z.type==="sell"&&V){if(Z.saleCategory==="wholesale"){if(Z.unit!=="pis"){Ot(rt=>({...rt,unit:"pis"}));return}const B=V.wholesale?.[Z.eggType];B&&Ot(rt=>({...rt,rate:B||""}))}else if(Z.saleCategory==="retail"){const B=V.retail?.[Z.eggType];if(B&&typeof B=="object"){const rt=B[Z.unit];Ot(ft=>({...ft,rate:rt||""}))}}}},[Z.saleCategory,Z.eggType,Z.unit,Z.type,V]);const F=Wt.useMemo(()=>{let B={" ":0," ":0," ":0},rt={" ":{qty:0,cost:0}," ":{qty:0,cost:0}," ":{qty:0,cost:0}},ft=0,pt=0,oe=0,je=0,ye=0,Xt=0;const Ct=new Date().toISOString().split("T")[0];l.forEach(ee=>{if(ee.type==="buy"){const an=parseInt(ee.quantityInPieces)||0,ne=parseFloat(ee.amount)||0;rt[ee.eggType]&&(rt[ee.eggType].qty+=an,rt[ee.eggType].cost+=ne)}});let cn={};for(const[ee,an]of Object.entries(rt))cn[ee]=an.qty>0?an.cost/an.qty:0;return l.forEach(ee=>{const an=parseInt(ee.quantityInPieces)||0,ne=parseFloat(ee.amount)||0,_e=parseFloat(ee.paidAmount)||0,Gn=parseFloat(ee.dueAmount)||0,ea=ee.date===Ct;if(ee.type==="buy")B[ee.eggType]!==void 0&&(B[ee.eggType]+=an),oe-=_e,ye+=Gn;else if(ee.type==="sell"){if(B[ee.eggType]!==void 0&&(B[ee.eggType]-=an),oe+=_e,je+=Gn,ea){ft+=ne;const na=an*(cn[ee.eggType]||0);Xt+=ne-na}}else ee.type==="expense"&&(oe-=ne,ea&&(pt+=ne,Xt-=ne))}),{stock:B,totalSalesToday:ft,totalExpenseToday:pt,cashInHand:oe,totalCustomerDue:je,totalSupplierDue:ye,todayProfit:Xt}},[l]),W=Wt.useMemo(()=>{let B=l;const rt=new Date,ft=rt.toISOString().split("T")[0];if(U==="today")B=B.filter(pt=>pt.date===ft);else if(U==="last7"){const pt=new Date(rt);pt.setDate(pt.getDate()-7),B=B.filter(oe=>oe.date>=pt.toISOString().split("T")[0])}else if(U==="last30"){const pt=new Date(rt);pt.setDate(pt.getDate()-30),B=B.filter(oe=>oe.date>=pt.toISOString().split("T")[0])}else U==="custom"&&(B=B.filter(pt=>pt.date===nt));return S!=="all"&&(S==="due"?B=B.filter(pt=>pt.type==="sell"&&pt.dueAmount>0):S==="supplier_due"?B=B.filter(pt=>pt.type==="buy"&&pt.dueAmount>0):B=B.filter(pt=>pt.type===S)),B},[l,S,U,nt]),ht=Wt.useMemo(()=>{let B=0,rt=0,ft=0;return W.forEach(pt=>{const oe=parseFloat(pt.amount)||0;pt.type==="sell"?B+=oe:pt.type==="buy"?rt+=oe:pt.type==="expense"&&(ft+=oe)}),{totalSell:B,totalBuy:rt,totalExpense:ft}},[W]),zt=Wt.useMemo(()=>S==="due"?W.reduce((B,rt)=>B+(parseFloat(rt.dueAmount)||0),0):S==="supplier_due"?W.reduce((B,rt)=>B+(parseFloat(rt.dueAmount)||0),0):0,[W,S]),Gt=B=>{B.preventDefault(),At===te?(gt("admin"),Et("")):At===Bt?(gt("subadmin"),Et("")):alert(" !")},O=()=>{gt("guest"),a("dashboard")},K=async B=>{if(B.preventDefault(),!!r){_(!0);try{let rt=parseFloat(Z.amount),ft=0,pt=0,oe=0,je=0;if(Z.type==="sell"){const ye=parseFloat(Z.quantity)*parseFloat(Z.rate);je=parseFloat(Z.discount)||0,rt=ye-je,ft=parseInt(Z.quantity)*Gd[Z.unit].value,pt=Z.paidAmount===""?rt:parseFloat(Z.paidAmount),oe=rt-pt}else Z.type==="buy"?(rt=parseFloat(Z.quantity)*parseFloat(Z.rate),ft=parseInt(Z.quantity),pt=Z.paidAmount===""?rt:parseFloat(Z.paidAmount),oe=rt-pt):(rt=parseFloat(Z.amount),pt=rt);await CI(t0(zr,"artifacts",jr,"users",r.uid,"egg_transactions_v2"),{type:Z.type,saleCategory:Z.type==="sell"?Z.saleCategory:"",eggType:Z.type==="expense"?"":Z.eggType,unit:Z.type==="sell"?Z.unit:"pis",quantity:Z.type==="expense"?0:parseFloat(Z.quantity),quantityInPieces:ft,rate:Z.type==="expense"?0:parseFloat(Z.rate),description:Z.description,customerName:Z.customerName,discount:je,amount:rt,paidAmount:pt,dueAmount:oe,date:Z.date,createdAt:new Date().toISOString()}),Ot({type:i==="dashboard"?"sell":i,saleCategory:"retail",eggType:" ",unit:"pis",quantity:"",rate:"",description:"",customerName:"",discount:"",paidAmount:"",amount:"",date:new Date().toISOString().split("T")[0]})}catch(rt){console.error(rt),alert(" ")}finally{_(!1)}}},it=async B=>{if(et!=="admin")return alert("    ");window.confirm("  ?")&&await RI(Ya(zr,"artifacts",jr,"users",r.uid,"egg_transactions_v2",B))},at=async()=>{r&&(await o0(Ya(zr,"artifacts",jr,"users",r.uid,"settings","rates"),V),alert("  !"))},_t=async B=>{if(!r)return;const rt=B==="admin"?{adminPassword:A}:{subAdminPassword:x};await o0(Ya(zr,"artifacts",jr,"users",r.uid,"settings","auth"),rt,{merge:!0}),alert("  !"),B==="admin"?C(""):N("")},Rt=B=>{const rt=B==="expense",ft=B==="sell",pt=B==="buy",oe=!rt&&Z.quantity&&Z.rate?parseFloat(Z.quantity)*parseFloat(Z.rate):0,je=Math.max(0,oe-(parseFloat(Z.discount)||0)),ye=ft&&Z.saleCategory==="wholesale",Xt=ft&&et==="subadmin";return z.jsxs("div",{className:`p-6 rounded-2xl border shadow-sm mb-6 ${pt?"bg-blue-50 border-blue-100":ft?"bg-green-50 border-green-100":"bg-red-50 border-red-100"}`,children:[z.jsx("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-gray-800",children:pt?"  /  ":ft?" ":" "}),z.jsxs("form",{onSubmit:K,className:"space-y-4",children:[z.jsx(Fs,{label:"",type:"date",value:Z.date,onChange:Ct=>Ot({...Z,date:Ct.target.value}),required:!0}),ft&&z.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-2",children:[z.jsxs("label",{className:`flex items-center justify-center gap-2 p-3 rounded-xl border cursor-pointer ${Z.saleCategory==="retail"?"bg-green-600 text-white":"bg-white"}`,children:[z.jsx("input",{type:"radio",name:"cat",checked:Z.saleCategory==="retail",onChange:()=>Ot({...Z,saleCategory:"retail"}),className:"hidden"})," User "]}),z.jsxs("label",{className:`flex items-center justify-center gap-2 p-3 rounded-xl border cursor-pointer ${Z.saleCategory==="wholesale"?"bg-purple-600 text-white":"bg-white"}`,children:[z.jsx("input",{type:"radio",name:"cat",checked:Z.saleCategory==="wholesale",onChange:()=>Ot({...Z,saleCategory:"wholesale"}),className:"hidden"})," Store "]})]}),!rt&&z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z.jsx(Qd,{label:" ",value:Z.eggType,onChange:Ct=>Ot({...Z,eggType:Ct.target.value}),options:Hd.map(Ct=>({label:Ct,value:Ct}))}),ye?z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),z.jsx("div",{className:"w-full px-3 py-2 border rounded bg-purple-100 text-purple-800",children:" ()"})]}):ft?z.jsx(Qd,{label:"",value:Z.unit,onChange:Ct=>Ot({...Z,unit:Ct.target.value}),options:Object.entries(Gd).map(([Ct,cn])=>({label:cn.label,value:Ct}))}):z.jsxs("div",{className:"mb-3",children:[z.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),z.jsx("div",{className:"w-full px-3 py-2 border rounded bg-gray-100",children:""})]})]}),!rt&&z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z.jsx(Fs,{label:"",type:"number",value:Z.quantity,onChange:Ct=>Ot({...Z,quantity:Ct.target.value}),placeholder:"0",required:!0}),z.jsx(Fs,{label:` ${Xt?"()":""}`,type:"number",value:Z.rate,onChange:Ct=>Ot({...Z,rate:Ct.target.value}),placeholder:"0.00",required:!0,readOnly:Xt})]}),(ft||pt)&&z.jsxs("div",{className:"p-4 bg-white rounded-xl border",children:[z.jsx(Fs,{label:pt?" /  ":" ",value:Z.customerName,onChange:Ct=>Ot({...Z,customerName:Ct.target.value}),placeholder:" ...",required:ye||pt}),ft&&z.jsx(Fs,{label:"",type:"number",value:Z.discount,onChange:Ct=>Ot({...Z,discount:Ct.target.value}),placeholder:"0"}),z.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded mb-2",children:[z.jsx("span",{className:"font-bold",children:" :"})," ",z.jsxs("span",{className:"font-bold text-lg",children:[" ",je.toLocaleString()]})]}),z.jsx(Fs,{label:pt?" ":" ",type:"number",value:Z.paidAmount,onChange:Ct=>Ot({...Z,paidAmount:Ct.target.value}),placeholder:je.toString()})]}),rt&&z.jsxs(z.Fragment,{children:[z.jsx(Qd,{label:" ",value:Fd.includes(Z.description)?Z.description:"",onChange:Ct=>Ot({...Z,description:Ct.target.value===""?"":Ct.target.value}),options:[...Fd,""].map(Ct=>({label:Ct,value:Ct}))}),!Fd.includes(Z.description)&&Z.description!==""&&z.jsx(Fs,{value:Z.description,onChange:Ct=>Ot({...Z,description:Ct.target.value}),placeholder:" ",required:!0}),z.jsx(Fs,{label:" ",type:"number",value:Z.amount,onChange:Ct=>Ot({...Z,amount:Ct.target.value}),required:!0})]}),z.jsx("button",{type:"submit",disabled:v,className:"w-full py-3 bg-gray-800 text-white font-bold rounded-xl hover:bg-gray-900",children:v?" ...":" "})]})]})};return d?z.jsx("div",{className:"flex h-screen justify-center items-center",children:" ..."}):z.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans pb-24 md:pb-0",children:[et==="guest"&&z.jsx("div",{className:"fixed inset-0 bg-gray-900 z-50 flex items-center justify-center p-4",children:z.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-sm text-center",children:[z.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" "}),z.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"  "}),z.jsxs("form",{onSubmit:Gt,children:[z.jsx("input",{type:"password",value:At,onChange:B=>Et(B.target.value),placeholder:" ",className:"w-full text-center text-xl px-4 py-3 border rounded-xl mb-4",autoFocus:!0}),z.jsx("button",{type:"submit",className:"w-full py-3 bg-orange-600 text-white font-bold rounded-xl",children:" "})]}),z.jsxs("div",{className:"mt-6 text-xs text-gray-400 border-t pt-2",children:[z.jsx("p",{children:"-: 1234 | : 665911"}),z.jsx("p",{children:"Developer: Shipon Talukdar"})]})]})}),z.jsx("header",{className:"bg-gradient-to-r from-orange-600 to-orange-500 text-white p-4 sticky top-0 z-20 shadow-lg",children:z.jsxs("div",{className:"max-w-3xl mx-auto",children:[z.jsxs("div",{className:"flex justify-between items-center mb-2",children:[z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:z.jsx(Dc,{size:24})}),z.jsxs("div",{children:[z.jsx("h1",{className:"text-xl font-bold",children:" "}),z.jsx("p",{className:"text-[10px] opacity-90",children:"Proprietor: Ratan Talukdar"})]})]}),z.jsxs("div",{className:"text-right",children:[z.jsx("div",{className:"text-xs",children:" "}),z.jsxs("div",{className:"font-bold text-lg",children:[" ",F.cashInHand.toLocaleString()]})]})]}),z.jsxs("div",{className:"flex justify-between text-xs border-t border-orange-400 pt-1",children:[z.jsxs("div",{className:"flex items-center gap-1",children:[z.jsx(ZI,{size:10})," 01979665911"]}),z.jsx("div",{className:"flex items-center gap-1",children:et==="admin"?z.jsxs(z.Fragment,{children:[z.jsx(YI,{size:10})," "]}):z.jsxs(z.Fragment,{children:[z.jsx(MT,{size:10})," -"]})})]})]})}),z.jsxs("main",{className:"max-w-3xl mx-auto p-4",children:[z.jsx("div",{className:"flex overflow-x-auto gap-2 mb-6 no-scrollbar",children:[{id:"dashboard",label:"",icon:QI},{id:"buy",label:" ",icon:UI},{id:"sell",label:"",icon:LI},{id:"expense",label:"",icon:zI},{id:"history",label:"",icon:FI},{id:"settings",label:"",icon:WI}].map(B=>B.id==="settings"&&et!=="admin"?null:z.jsxs("button",{onClick:()=>a(B.id),className:`flex items-center gap-2 px-4 py-2 rounded-full whitespace-nowrap text-sm font-medium ${i===B.id?"bg-gray-800 text-white":"bg-white text-gray-600 border"}`,children:[z.jsx(B.icon,{size:16})," ",B.label]},B.id))}),i==="dashboard"&&z.jsxs("div",{className:"space-y-6",children:[z.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[z.jsx(Br,{title:" ",value:F.stock[" "],subValue:"",icon:Dc,color:"bg-red-500 text-red-600"}),z.jsx(Br,{title:" ",value:F.stock[" "],subValue:"",icon:Dc,color:"bg-gray-400 text-gray-600"}),z.jsx(Br,{title:" ",value:F.stock[" "],subValue:"",icon:Dc,color:"bg-blue-400 text-blue-600"})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z.jsx(Br,{title:" ",value:`${F.totalCustomerDue.toLocaleString()}`,icon:rN,color:"bg-green-500 text-green-600"}),z.jsx(Br,{title:" ",value:`${F.totalSupplierDue.toLocaleString()}`,icon:iN,color:"bg-red-500 text-red-600"})]}),z.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[z.jsx(Br,{title:" ",value:`${F.totalSalesToday.toLocaleString()}`,icon:eN,color:"bg-blue-500 text-blue-600"}),z.jsx(Br,{title:" ",value:et==="admin"?`${F.todayProfit.toLocaleString()}`:"",subValue:et==="admin"?"/":"",icon:BI,color:"bg-emerald-500 text-emerald-600",blurred:et!=="admin"})]}),z.jsx("div",{className:"mt-6 text-center",children:z.jsx("button",{onClick:O,className:"px-6 py-2 bg-red-50 text-red-600 rounded-full text-sm font-bold",children:""})})]}),(i==="buy"||i==="sell"||i==="expense")&&Rt(i),i==="history"&&z.jsxs("div",{className:"space-y-4",children:[z.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-xs font-bold",children:[z.jsxs("div",{className:"bg-green-50 p-2 rounded border border-green-200 text-green-700",children:[": ",ht.totalSell.toLocaleString()]}),z.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-200 text-blue-700",children:[": ",ht.totalBuy.toLocaleString()]}),z.jsxs("div",{className:"bg-red-50 p-2 rounded border border-red-200 text-red-700",children:[": ",ht.totalExpense.toLocaleString()]})]}),z.jsxs("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[z.jsxs("div",{className:"p-3 bg-gray-50 border-b space-y-2",children:[z.jsxs("div",{className:"flex gap-2 flex-wrap",children:[["all","today","last7","last30"].map(B=>z.jsx("button",{onClick:()=>X(B),className:`px-2 py-1 rounded text-xs border ${U===B?"bg-orange-500 text-white":"bg-white"}`,children:B==="all"?"":B==="today"?"":B==="last7"?" ":" "},B)),z.jsx("input",{type:"date",value:nt,onChange:B=>{st(B.target.value),X("custom")},className:"px-2 py-1 text-xs border rounded"})]}),z.jsx("div",{className:"flex gap-2 flex-wrap pt-2 border-t border-dashed",children:["all","sell","buy","expense","due","supplier_due"].map(B=>z.jsx("button",{onClick:()=>w(B),className:`px-2 py-1 rounded text-xs border ${S===B?"bg-gray-800 text-white":"bg-white"}`,children:B==="all"?"":B==="sell"?"":B==="buy"?"":B==="expense"?"":B==="due"?" ":" "},B))})]}),(S==="due"||S==="supplier_due")&&z.jsxs("div",{className:"bg-yellow-50 p-2 text-center text-sm font-bold text-yellow-800 border-b",children:["  :  ",zt.toLocaleString()]}),z.jsxs("div",{className:"divide-y",children:[W.map(B=>z.jsxs("div",{className:"p-3 flex justify-between items-start hover:bg-gray-50",children:[z.jsxs("div",{children:[z.jsxs("div",{className:"font-bold text-sm text-gray-800",children:[B.type==="sell"?"":B.type==="buy"?"":""," ",z.jsxs("span",{className:"font-normal text-xs text-gray-500",children:["(",B.date,")"]})]}),z.jsxs("div",{className:"text-xs text-gray-600",children:[B.customerName&&z.jsx("span",{className:"text-orange-600 font-bold",children:B.customerName})," ",B.description||`${B.quantity} ${Gd[B.unit]?.label} ${B.eggType}`]})]}),z.jsxs("div",{className:"text-right",children:[z.jsxs("div",{className:"font-bold text-sm",children:[" ",B.amount.toLocaleString()]}),B.dueAmount>0&&z.jsxs("div",{className:"text-xs text-red-500 font-bold bg-red-50 px-1 rounded inline-block",children:[": ",B.dueAmount]}),et==="admin"&&z.jsx("button",{onClick:()=>it(B.id),className:"text-red-400 text-xs mt-1 block ml-auto",children:"Delete"})]})]},B.id)),W.length===0&&z.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:" "})]})]})]}),i==="settings"&&z.jsxs("div",{className:"p-4 bg-white rounded-xl border space-y-6",children:[z.jsx("h2",{className:"font-bold text-lg",children:" ( )"}),z.jsxs("div",{className:"space-y-4",children:[z.jsx("h3",{className:"font-bold text-green-700",children:" "}),Hd.map(B=>z.jsxs("div",{className:"grid grid-cols-4 gap-2 items-center text-xs",children:[z.jsx("span",{className:"font-bold col-span-4 mb-1",children:B}),["pis","hali","case"].map(rt=>z.jsxs("div",{children:[z.jsx("label",{className:"block text-[10px] text-gray-500",children:rt}),z.jsx("input",{type:"number",value:V.retail[B]?.[rt]||"",onChange:ft=>b({...V,retail:{...V.retail,[B]:{...V.retail[B],[rt]:ft.target.value}}}),className:"w-full border p-1 rounded"})]},rt))]},B))]}),z.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[z.jsx("h3",{className:"font-bold text-purple-700",children:"  ( )"}),Hd.map(B=>z.jsxs("div",{className:"flex justify-between items-center text-xs",children:[z.jsx("span",{children:B}),z.jsx("input",{type:"number",value:V.wholesale[B]||"",onChange:rt=>b({...V,wholesale:{...V.wholesale,[B]:rt.target.value}}),className:"w-24 border p-1 rounded"})]},B))]}),z.jsx("button",{onClick:at,className:"w-full py-2 bg-gray-800 text-white rounded-lg text-sm font-bold",children:" "}),z.jsxs("div",{className:"pt-6 border-t",children:[z.jsx("h3",{className:"font-bold mb-2",children:" "}),z.jsxs("div",{className:"flex gap-2 mb-2",children:[z.jsx("input",{type:"text",placeholder:" ",value:A,onChange:B=>C(B.target.value),className:"border p-2 rounded w-full text-xs"}),z.jsx("button",{onClick:()=>_t("admin"),className:"bg-gray-200 px-3 rounded text-xs font-bold",children:"Change"})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsx("input",{type:"text",placeholder:"- ",value:x,onChange:B=>N(B.target.value),className:"border p-2 rounded w-full text-xs"}),z.jsx("button",{onClick:()=>_t("subadmin"),className:"bg-gray-200 px-3 rounded text-xs font-bold",children:"Change"})]})]})]})]}),z.jsx("footer",{className:"text-center py-4 text-xs text-gray-400",children:"Developer: Shipon Talukdar"})]})}TS.createRoot(document.getElementById("root")).render(z.jsx(Wt.StrictMode,{children:z.jsx(oN,{})}));
